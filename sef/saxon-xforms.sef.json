{"N":"package","when":"2020-07-19T06:43:15.472+01:00","id":"0","version":"30","packageVersion":"1","saxonProduct":"SAXON-EE","saxonVersion":"10.1","buildDateTime":"2020-07-19T06:43:15.472+01:00","target":"JS","targetVersion":"2","relocatable":"true","implicit":"true","C":[{"N":"co","id":"0","binds":"","C":[{"N":"template","name":"Q{}action-output","flags":"os","line":"3718","module":"saxon-xforms.xsl","slots":"4","C":[{"N":"sequence","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"3719","C":[{"N":"param","name":"Q{}action-map","slot":"0","flags":"tr","as":"1FM","C":[{"N":"treat","role":"conversion","as":"FM","diag":"8|0|XTTE0590|action-map","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|action-map","C":[{"N":"supplied","slot":"0"}]}]}]},{"N":"let","line":"3722","var":"Q{}instanceXML","as":"1NE","slot":"1","eval":"16","C":[{"N":"treat","as":"NE","diag":"3|0|XTTE0570|instanceXML","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|instanceXML","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"getInstance"},{"N":"arrayBlock","C":[{"N":"treat","line":"3721","as":"AS","diag":"3|0|XTTE0570|instance-id","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|instance-id","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|instance-id","C":[{"N":"data","diag":"3|0|XTTE0570|instance-id","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}action-map","slot":"0"},{"N":"str","val":"instance-context"}]}]}]}]}]}]}]}]}]},{"N":"let","line":"3724","var":"Q{}ref","as":"?AS","slot":"2","eval":"7","C":[{"N":"choose","line":"3726","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}action-map","slot":"0"},{"N":"str","val":"@value"}]},{"N":"treat","line":"3727","as":"AS","diag":"3|0|XTTE0570|ref","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|ref","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|ref","C":[{"N":"data","diag":"3|0|XTTE0570|ref","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}action-map","slot":"0"},{"N":"str","val":"@value"}]}]}]}]}]},{"N":"ifCall","line":"3729","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}action-map","slot":"0"},{"N":"str","val":"@ref"}]},{"N":"treat","line":"3730","as":"AS","diag":"3|0|XTTE0570|ref","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|ref","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|ref","C":[{"N":"data","diag":"3|0|XTTE0570|ref","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}action-map","slot":"0"},{"N":"str","val":"@ref"}]}]}]}]}]}]},{"N":"choose","line":"3736","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}ref","slot":"2"}]},{"N":"evaluate","line":"3737","as":"1AS","dxns":"","C":[{"N":"let","role":"xpath","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"51","var":"Q{}input2","as":"1AS","slot":"3","eval":"8","C":[{"N":"fn","name":"string-join","C":[{"N":"analyzeString","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"saxon-xforms.xsl","line":"3737","C":[{"N":"check","role":"select","card":"1","diag":"0|0||xforms:impose","C":[{"N":"varRef","name":"Q{}ref","slot":"2"}]},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"36","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"6","C":[{"N":"str","val":"instance"},{"N":"str","val":"index"},{"N":"str","val":"avg"},{"N":"str","val":"foo"},{"N":"str","val":"current-date"},{"N":"str","val":"random"}]},{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"fn","line":"37","name":"concat","C":[{"N":"str","val":"xforms:"},{"N":"dot","type":"1AS"}]},{"N":"true"},{"N":"dot","line":"41","type":"1AS"}]},{"N":"dot","role":"nonMatching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"46","type":"1AS"}]}]},{"N":"choose","line":"56","C":[{"N":"fn","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"3"},{"N":"str","val":"^\\s*\/"},{"N":"str","val":""}]},{"N":"fn","line":"57","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"3"},{"N":"str","val":"^\\s\/[^\/]+"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"fn","line":"60","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"3"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":""}]},{"N":"fn","line":"61","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"3"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"true"},{"N":"varRef","line":"64","name":"Q{}input2","slot":"3"}]}]},{"N":"varRef","role":"cxt","name":"Q{}instanceXML","slot":"1"},{"N":"varRef","role":"nsCxt","name":"Q{}instanceXML","slot":"1"},{"N":"str","role":"sa","val":"no"},{"N":"map","role":"options","size":"0"},{"N":"map","role":"wp","size":"0"}]}]}]}]}]}]}]},{"N":"co","id":"1","binds":"2 3 4","C":[{"N":"template","name":"Q{}action-insert","flags":"os","line":"3488","module":"saxon-xforms.xsl","slots":"18","C":[{"N":"sequence","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"3489","C":[{"N":"param","name":"Q{}action-map","slot":"0","flags":"tr","as":"1FM","C":[{"N":"treat","role":"conversion","as":"FM","diag":"8|0|XTTE0590|action-map","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|action-map","C":[{"N":"supplied","slot":"0"}]}]}]},{"N":"let","line":"3491","var":"Q{}instance-context","as":"1AS","slot":"1","eval":"16","C":[{"N":"treat","as":"AS","diag":"3|0|XTTE0570|instance-context","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|instance-context","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|instance-context","C":[{"N":"data","diag":"3|0|XTTE0570|instance-context","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}action-map","slot":"0"},{"N":"str","val":"instance-context"}]}]}]}]}]},{"N":"let","line":"3493","var":"Q{}ref","slot":"2","eval":"4","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}action-map","slot":"0"},{"N":"str","val":"@ref"}]},{"N":"let","line":"3494","var":"Q{}at","as":"?AS","slot":"3","eval":"7","C":[{"N":"treat","as":"AS","diag":"3|0|XTTE0570|at","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|at","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|at","C":[{"N":"data","diag":"3|0|XTTE0570|at","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}action-map","slot":"0"},{"N":"str","val":"@at"}]}]}]}]}]},{"N":"let","line":"3495","var":"Q{}position","as":"?AS","slot":"4","eval":"7","C":[{"N":"treat","as":"AS","diag":"3|0|XTTE0570|position","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|position","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|position","C":[{"N":"data","diag":"3|0|XTTE0570|position","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}action-map","slot":"0"},{"N":"str","val":"@position"}]}]}]}]}]},{"N":"let","line":"3496","var":"Q{}origin-ref","as":"?AS","slot":"5","eval":"7","C":[{"N":"treat","as":"AS","diag":"3|0|XTTE0570|origin-ref","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|origin-ref","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|origin-ref","C":[{"N":"data","diag":"3|0|XTTE0570|origin-ref","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}action-map","slot":"0"},{"N":"str","val":"@origin"}]}]}]}]}]},{"N":"let","line":"3510","var":"Q{}instanceXML2","as":"1NE","slot":"6","eval":"16","C":[{"N":"treat","as":"NE","diag":"3|0|XTTE0570|instanceXML2","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|instanceXML2","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"getInstance"},{"N":"arrayBlock","C":[{"N":"varRef","name":"Q{}instance-context","slot":"1"}]}]}]}]},{"N":"let","line":"3521","var":"Q{}instanceXML-origin","as":"1NE","slot":"7","eval":"16","C":[{"N":"treat","as":"NE","diag":"3|0|XTTE0570|instanceXML-origin","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|instanceXML-origin","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"getInstance"},{"N":"arrayBlock","C":[{"N":"ufCall","line":"3520","name":"Q{http:\/\/www.w3.org\/2002\/xforms}getInstanceId","tailCall":"false","bSlot":"0","eval":"16","C":[{"N":"check","card":"1","diag":"0|0||xforms:getInstanceId","C":[{"N":"varRef","name":"Q{}origin-ref","slot":"5"}]}]}]}]}]}]},{"N":"let","line":"3523","var":"Q{}origin-node","as":"?N","slot":"8","eval":"7","C":[{"N":"treat","line":"3524","as":"N","diag":"3|0|XTTE0570|origin-node","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|origin-node","C":[{"N":"evaluate","dxns":"","C":[{"N":"let","role":"xpath","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"51","var":"Q{}input2","as":"1AS","slot":"9","eval":"8","C":[{"N":"fn","name":"string-join","C":[{"N":"analyzeString","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"saxon-xforms.xsl","line":"3524","C":[{"N":"check","role":"select","card":"1","diag":"0|0||xforms:impose","C":[{"N":"varRef","name":"Q{}origin-ref","slot":"5"}]},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"36","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"6","C":[{"N":"str","val":"instance"},{"N":"str","val":"index"},{"N":"str","val":"avg"},{"N":"str","val":"foo"},{"N":"str","val":"current-date"},{"N":"str","val":"random"}]},{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"fn","line":"37","name":"concat","C":[{"N":"str","val":"xforms:"},{"N":"dot","type":"1AS"}]},{"N":"true"},{"N":"dot","line":"41","type":"1AS"}]},{"N":"dot","role":"nonMatching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"46","type":"1AS"}]}]},{"N":"choose","line":"56","C":[{"N":"fn","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"9"},{"N":"str","val":"^\\s*\/"},{"N":"str","val":""}]},{"N":"fn","line":"57","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"9"},{"N":"str","val":"^\\s\/[^\/]+"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"fn","line":"60","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"9"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":""}]},{"N":"fn","line":"61","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"9"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"true"},{"N":"varRef","line":"64","name":"Q{}input2","slot":"9"}]}]},{"N":"varRef","role":"cxt","name":"Q{}instanceXML-origin","slot":"7"},{"N":"varRef","role":"nsCxt","name":"Q{}instanceXML-origin","slot":"7"},{"N":"str","role":"sa","val":"no"},{"N":"map","role":"options","size":"0"},{"N":"map","role":"wp","size":"0"}]}]}]},{"N":"let","line":"3527","var":"Q{}insert-node-location","as":"?N","slot":"10","eval":"7","C":[{"N":"treat","line":"3528","as":"N","diag":"3|0|XTTE0570|insert-node-location","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|insert-node-location","C":[{"N":"evaluate","dxns":"","C":[{"N":"let","role":"xpath","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"51","var":"Q{}input2","as":"1AS","slot":"11","eval":"8","C":[{"N":"fn","name":"string-join","C":[{"N":"analyzeString","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"saxon-xforms.xsl","line":"3508","C":[{"N":"check","role":"select","card":"1","diag":"0|0||xforms:impose","C":[{"N":"choose","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}ref","slot":"2"}]},{"N":"gc","op":"!=","card":"N:1","comp":"GAC|http:\/\/www.w3.org\/2005\/xpath-functions\/collation\/codepoint","C":[{"N":"data","diag":"1|0||!=","C":[{"N":"varRef","name":"Q{}ref","slot":"2"}]},{"N":"str","val":""}]}]},{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}at","slot":"3"}]},{"N":"fn","name":"concat","C":[{"N":"atomSing","card":"?","diag":"0|0||fn:concat","C":[{"N":"varRef","name":"Q{}ref","slot":"2"}]},{"N":"str","val":"["},{"N":"varRef","name":"Q{}at","slot":"3"},{"N":"str","val":"]"}]},{"N":"true"},{"N":"treat","as":"AS","diag":"3|0|XTTE0570|ref-qualified","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|ref-qualified","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|ref-qualified","C":[{"N":"data","diag":"3|0|XTTE0570|ref-qualified","C":[{"N":"varRef","name":"Q{}ref","slot":"2"}]}]}]}]}]}]}]},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"36","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"6","C":[{"N":"str","val":"instance"},{"N":"str","val":"index"},{"N":"str","val":"avg"},{"N":"str","val":"foo"},{"N":"str","val":"current-date"},{"N":"str","val":"random"}]},{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"fn","line":"37","name":"concat","C":[{"N":"str","val":"xforms:"},{"N":"dot","type":"1AS"}]},{"N":"true"},{"N":"dot","line":"41","type":"1AS"}]},{"N":"dot","role":"nonMatching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"46","type":"1AS"}]}]},{"N":"choose","line":"56","C":[{"N":"fn","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"11"},{"N":"str","val":"^\\s*\/"},{"N":"str","val":""}]},{"N":"fn","line":"57","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"11"},{"N":"str","val":"^\\s\/[^\/]+"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"fn","line":"60","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"11"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":""}]},{"N":"fn","line":"61","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"11"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"true"},{"N":"varRef","line":"64","name":"Q{}input2","slot":"11"}]}]},{"N":"varRef","role":"cxt","name":"Q{}instanceXML2","slot":"6"},{"N":"varRef","role":"nsCxt","name":"Q{}instanceXML2","slot":"6"},{"N":"str","role":"sa","val":"no"},{"N":"map","role":"options","size":"0"},{"N":"map","role":"wp","size":"0"}]}]}]},{"N":"let","line":"3531","var":"Q{}context-node","as":"1N","slot":"12","eval":"16","C":[{"N":"treat","line":"3532","as":"N","diag":"3|0|XTTE0570|context-node","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|context-node","C":[{"N":"evaluate","dxns":"","C":[{"N":"let","role":"xpath","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"51","var":"Q{}input2","as":"1AS","slot":"13","eval":"8","C":[{"N":"fn","name":"string-join","C":[{"N":"analyzeString","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"saxon-xforms.xsl","line":"3497","C":[{"N":"treat","role":"select","as":"AS","diag":"3|0|XTTE0570|context","C":[{"N":"check","card":"1","diag":"0|0||xforms:impose","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|context","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|context","C":[{"N":"data","diag":"3|0|XTTE0570|context","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}action-map","slot":"0"},{"N":"str","val":"@context"}]}]}]}]}]}]},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"36","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"6","C":[{"N":"str","val":"instance"},{"N":"str","val":"index"},{"N":"str","val":"avg"},{"N":"str","val":"foo"},{"N":"str","val":"current-date"},{"N":"str","val":"random"}]},{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"fn","line":"37","name":"concat","C":[{"N":"str","val":"xforms:"},{"N":"dot","type":"1AS"}]},{"N":"true"},{"N":"dot","line":"41","type":"1AS"}]},{"N":"dot","role":"nonMatching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"46","type":"1AS"}]}]},{"N":"choose","line":"56","C":[{"N":"fn","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"13"},{"N":"str","val":"^\\s*\/"},{"N":"str","val":""}]},{"N":"fn","line":"57","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"13"},{"N":"str","val":"^\\s\/[^\/]+"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"fn","line":"60","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"13"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":""}]},{"N":"fn","line":"61","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"13"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"true"},{"N":"varRef","line":"64","name":"Q{}input2","slot":"13"}]}]},{"N":"varRef","role":"cxt","name":"Q{}instanceXML2","slot":"6"},{"N":"varRef","role":"nsCxt","name":"Q{}instanceXML2","slot":"6"},{"N":"str","role":"sa","val":"no"},{"N":"map","role":"options","size":"0"},{"N":"map","role":"wp","size":"0"}]}]}]},{"N":"let","line":"3549","var":"Q{}instance-with-insert","as":"1NE","slot":"14","eval":"16","C":[{"N":"treat","line":"3550","as":"NE","diag":"3|0|XTTE0570|instance-with-insert","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|instance-with-insert","C":[{"N":"applyT","mode":"Q{}insert-node","bSlot":"1","C":[{"N":"varRef","role":"select","name":"Q{}instanceXML2","slot":"6"},{"N":"withParam","name":"Q{}insert-node-location","flags":"t","as":"?N","C":[{"N":"choose","line":"3551","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}insert-node-location","slot":"10"}]},{"N":"varRef","name":"Q{}insert-node-location","slot":"10"},{"N":"true"},{"N":"varRef","name":"Q{}context-node","slot":"12"}]}]},{"N":"withParam","name":"Q{}node-to-insert","flags":"t","as":"?N","C":[{"N":"choose","line":"3538","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}origin-node","slot":"8"}]},{"N":"copyOf","line":"3539","flags":"c","C":[{"N":"varRef","name":"Q{}origin-node","slot":"8"}]},{"N":"true"},{"N":"copyOf","line":"3542","flags":"c","C":[{"N":"varRef","name":"Q{}insert-node-location","slot":"10"}]}]}]},{"N":"withParam","name":"Q{}position-relative","flags":"t","as":"?AS","C":[{"N":"choose","line":"3553","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}insert-node-location","slot":"10"}]},{"N":"varRef","name":"Q{}position","slot":"4"},{"N":"true"},{"N":"str","val":"child"}]}]}]}]}]},{"N":"sequence","line":"3559","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"setInstance"},{"N":"arrayBlock","C":[{"N":"varRef","name":"Q{}instance-context","slot":"1"},{"N":"varRef","name":"Q{}instance-with-insert","slot":"14"}]}]},{"N":"choose","line":"3563","C":[{"N":"fn","name":"matches","C":[{"N":"varRef","name":"Q{}at","slot":"3"},{"N":"str","val":"index\\s*\\("},{"N":"str","val":""}]},{"N":"let","line":"3564","var":"Q{}repeat-id","as":"?AS","slot":"15","eval":"7","C":[{"N":"ufCall","name":"Q{http:\/\/www.w3.org\/2002\/xforms}getRepeatID","tailCall":"false","bSlot":"2","eval":"16","C":[{"N":"check","card":"1","diag":"0|0||xforms:getRepeatID","C":[{"N":"varRef","name":"Q{}at","slot":"3"}]}]},{"N":"let","line":"3565","var":"Q{}at-position","as":"1ADI","slot":"16","eval":"16","C":[{"N":"treat","line":"3566","as":"ADI","diag":"3|0|XTTE0570|at-position","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|at-position","C":[{"N":"cvUntyped","to":"ADI","diag":"3|0|XTTE0570|at-position","C":[{"N":"data","diag":"3|0|XTTE0570|at-position","C":[{"N":"evaluate","dxns":"","C":[{"N":"let","role":"xpath","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"51","var":"Q{}input2","as":"1AS","slot":"17","eval":"8","C":[{"N":"fn","name":"string-join","C":[{"N":"analyzeString","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"saxon-xforms.xsl","line":"3566","C":[{"N":"check","role":"select","card":"1","diag":"0|0||xforms:impose","C":[{"N":"varRef","name":"Q{}at","slot":"3"}]},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"36","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"6","C":[{"N":"str","val":"instance"},{"N":"str","val":"index"},{"N":"str","val":"avg"},{"N":"str","val":"foo"},{"N":"str","val":"current-date"},{"N":"str","val":"random"}]},{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"fn","line":"37","name":"concat","C":[{"N":"str","val":"xforms:"},{"N":"dot","type":"1AS"}]},{"N":"true"},{"N":"dot","line":"41","type":"1AS"}]},{"N":"dot","role":"nonMatching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"46","type":"1AS"}]}]},{"N":"choose","line":"56","C":[{"N":"fn","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"17"},{"N":"str","val":"^\\s*\/"},{"N":"str","val":""}]},{"N":"fn","line":"57","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"17"},{"N":"str","val":"^\\s\/[^\/]+"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"fn","line":"60","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"17"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":""}]},{"N":"fn","line":"61","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"17"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"true"},{"N":"varRef","line":"64","name":"Q{}input2","slot":"17"}]}]},{"N":"empty","role":"cxt"},{"N":"str","role":"sa","val":"no"},{"N":"map","role":"options","size":"0"},{"N":"map","role":"wp","size":"0"}]}]}]}]}]},{"N":"choose","line":"3571","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}repeat-id","slot":"15"}]},{"N":"choose","line":"3573","C":[{"N":"vc","op":"eq","onEmpty":"0","comp":"CCC","C":[{"N":"varRef","name":"Q{}position","slot":"4"},{"N":"str","val":"before"}]},{"N":"ifCall","line":"3574","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"setRepeatIndex"},{"N":"arrayBlock","C":[{"N":"varRef","name":"Q{}repeat-id","slot":"15"},{"N":"varRef","name":"Q{}at-position","slot":"16"}]}]},{"N":"true"},{"N":"ifCall","line":"3577","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"setRepeatIndex"},{"N":"arrayBlock","C":[{"N":"varRef","name":"Q{}repeat-id","slot":"15"},{"N":"arith","op":"+","calc":"i+i","C":[{"N":"varRef","name":"Q{}at-position","slot":"16"},{"N":"int","val":"1"}]}]}]}]}]}]}]}]},{"N":"choose","line":"3584","C":[{"N":"compareToString","line":"3492","op":"eq","val":"inner","C":[{"N":"treat","as":"AS","diag":"3|0|XTTE0570|handler-status","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|handler-status","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|handler-status","C":[{"N":"data","diag":"3|0|XTTE0570|handler-status","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}action-map","slot":"0"},{"N":"str","val":"handler-status"}]}]}]}]}]}]},{"N":"ifCall","line":"3585","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"setDeferredUpdateFlags"},{"N":"array","size":"1","C":[{"N":"literal","count":"4","C":[{"N":"str","val":"rebuild"},{"N":"str","val":"recalculate"},{"N":"str","val":"revalidate"},{"N":"str","val":"refresh"}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"N":"co","id":"5","binds":"6","C":[{"N":"template","name":"Q{}action-delete","flags":"os","line":"3596","module":"saxon-xforms.xsl","slots":"9","C":[{"N":"sequence","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"3597","C":[{"N":"param","name":"Q{}action-map","slot":"0","flags":"tr","as":"1FM","C":[{"N":"treat","role":"conversion","as":"FM","diag":"8|0|XTTE0590|action-map","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|action-map","C":[{"N":"supplied","slot":"0"}]}]}]},{"N":"let","line":"3599","var":"Q{}instance-context","as":"1AS","slot":"1","eval":"16","C":[{"N":"treat","as":"AS","diag":"3|0|XTTE0570|instance-context","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|instance-context","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|instance-context","C":[{"N":"data","diag":"3|0|XTTE0570|instance-context","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}action-map","slot":"0"},{"N":"str","val":"instance-context"}]}]}]}]}]},{"N":"let","line":"3601","var":"Q{}ref","slot":"2","eval":"4","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}action-map","slot":"0"},{"N":"str","val":"@ref"}]},{"N":"let","line":"3602","var":"Q{}at","as":"?AS","slot":"3","eval":"7","C":[{"N":"treat","as":"AS","diag":"3|0|XTTE0570|at","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|at","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|at","C":[{"N":"data","diag":"3|0|XTTE0570|at","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}action-map","slot":"0"},{"N":"str","val":"@at"}]}]}]}]}]},{"N":"let","line":"3612","var":"Q{}ref-qualified","as":"?AS","slot":"4","eval":"7","C":[{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}ref","slot":"2"}]},{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}at","slot":"3"}]},{"N":"fn","name":"concat","C":[{"N":"atomSing","card":"?","diag":"0|0||fn:concat","C":[{"N":"varRef","name":"Q{}ref","slot":"2"}]},{"N":"str","val":"["},{"N":"varRef","name":"Q{}at","slot":"3"},{"N":"str","val":"]"}]},{"N":"true"},{"N":"treat","as":"AS","diag":"3|0|XTTE0570|ref-qualified","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|ref-qualified","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|ref-qualified","C":[{"N":"data","diag":"3|0|XTTE0570|ref-qualified","C":[{"N":"varRef","name":"Q{}ref","slot":"2"}]}]}]}]}]}]},{"N":"let","line":"3614","var":"Q{}instanceXML2","as":"1NE","slot":"5","eval":"16","C":[{"N":"treat","as":"NE","diag":"3|0|XTTE0570|instanceXML2","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|instanceXML2","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"getInstance"},{"N":"arrayBlock","C":[{"N":"varRef","name":"Q{}instance-context","slot":"1"}]}]}]}]},{"N":"let","line":"3616","var":"Q{}delete-node","as":"*N","slot":"6","eval":"8","C":[{"N":"choose","line":"3618","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}ref-qualified","slot":"4"}]},{"N":"vc","op":"ne","onEmpty":"1","comp":"CCC","C":[{"N":"varRef","name":"Q{}ref-qualified","slot":"4"},{"N":"str","val":""}]}]},{"N":"treat","line":"3619","as":"N","diag":"3|0|XTTE0570|delete-node","C":[{"N":"evaluate","dxns":"","C":[{"N":"let","role":"xpath","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"51","var":"Q{}input2","as":"1AS","slot":"7","eval":"8","C":[{"N":"fn","name":"string-join","C":[{"N":"analyzeString","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"saxon-xforms.xsl","line":"3619","C":[{"N":"check","role":"select","card":"1","diag":"0|0||xforms:impose","C":[{"N":"varRef","name":"Q{}ref-qualified","slot":"4"}]},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"36","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"6","C":[{"N":"str","val":"instance"},{"N":"str","val":"index"},{"N":"str","val":"avg"},{"N":"str","val":"foo"},{"N":"str","val":"current-date"},{"N":"str","val":"random"}]},{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"fn","line":"37","name":"concat","C":[{"N":"str","val":"xforms:"},{"N":"dot","type":"1AS"}]},{"N":"true"},{"N":"dot","line":"41","type":"1AS"}]},{"N":"dot","role":"nonMatching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"46","type":"1AS"}]}]},{"N":"choose","line":"56","C":[{"N":"fn","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"7"},{"N":"str","val":"^\\s*\/"},{"N":"str","val":""}]},{"N":"fn","line":"57","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"7"},{"N":"str","val":"^\\s\/[^\/]+"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"fn","line":"60","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"7"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":""}]},{"N":"fn","line":"61","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"7"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"true"},{"N":"varRef","line":"64","name":"Q{}input2","slot":"7"}]}]},{"N":"varRef","role":"cxt","name":"Q{}instanceXML2","slot":"5"},{"N":"varRef","role":"nsCxt","name":"Q{}instanceXML2","slot":"5"},{"N":"str","role":"sa","val":"no"},{"N":"map","role":"options","size":"0"},{"N":"map","role":"wp","size":"0"}]}]}]},{"N":"let","line":"3624","var":"Q{}instance-with-delete","as":"1NE","slot":"8","eval":"16","C":[{"N":"treat","line":"3625","as":"NE","diag":"3|0|XTTE0570|instance-with-delete","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|instance-with-delete","C":[{"N":"applyT","mode":"Q{}delete-node","bSlot":"0","C":[{"N":"varRef","role":"select","name":"Q{}instanceXML2","slot":"5"},{"N":"withParam","name":"Q{}delete-node","flags":"t","as":"*N","C":[{"N":"varRef","line":"3626","name":"Q{}delete-node","slot":"6"}]}]}]}]},{"N":"sequence","line":"3632","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"setInstance"},{"N":"arrayBlock","C":[{"N":"varRef","name":"Q{}instance-context","slot":"1"},{"N":"varRef","name":"Q{}instance-with-delete","slot":"8"}]}]},{"N":"choose","line":"3660","C":[{"N":"compareToString","line":"3600","op":"eq","val":"inner","C":[{"N":"treat","as":"AS","diag":"3|0|XTTE0570|handler-status","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|handler-status","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|handler-status","C":[{"N":"data","diag":"3|0|XTTE0570|handler-status","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}action-map","slot":"0"},{"N":"str","val":"handler-status"}]}]}]}]}]}]},{"N":"ifCall","line":"3661","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"setDeferredUpdateFlags"},{"N":"array","size":"1","C":[{"N":"literal","count":"4","C":[{"N":"str","val":"rebuild"},{"N":"str","val":"recalculate"},{"N":"str","val":"revalidate"},{"N":"str","val":"refresh"}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"N":"co","id":"7","binds":"","C":[{"N":"globalVariable","name":"Q{}global-default-model-id","as":"1AS","line":"87","module":"saxon-xforms.xsl","visibility":"PRIVATE","flags":"s","C":[{"N":"str","val":"saxon-forms-default-model"}]}]},{"N":"co","id":"8","binds":"9","C":[{"N":"template","name":"Q{}action-send","flags":"os","line":"3784","module":"saxon-xforms.xsl","slots":"1","C":[{"N":"sequence","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"3785","C":[{"N":"param","name":"Q{}action-map","slot":"0","flags":"tr","as":"1FM","C":[{"N":"treat","role":"conversion","as":"FM","diag":"8|0|XTTE0590|action-map","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|action-map","C":[{"N":"supplied","slot":"0"}]}]}]},{"N":"callT","line":"3791","name":"Q{}xforms-submit","bSlot":"0","flags":"t","C":[{"N":"withParam","name":"Q{}submission","flags":"c","as":"1AS","C":[{"N":"treat","line":"3789","as":"AS","diag":"3|0|XTTE0570|submission","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|submission","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|submission","C":[{"N":"data","diag":"3|0|XTTE0570|submission","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}action-map","slot":"0"},{"N":"str","val":"@submission"}]}]}]}]}]}]}]}]}]}]},{"N":"co","id":"10","binds":"","C":[{"N":"template","name":"Q{}action-text","flags":"os","line":"3751","module":"saxon-xforms.xsl","slots":"1","C":[{"N":"sequence","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"3752","C":[{"N":"param","name":"Q{}action-map","slot":"0","flags":"tr","as":"1FM","C":[{"N":"treat","role":"conversion","as":"FM","diag":"8|0|XTTE0590|action-map","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|action-map","C":[{"N":"supplied","slot":"0"}]}]}]},{"N":"ifCall","line":"3753","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}action-map","slot":"0"},{"N":"str","val":"@value"}]}]}]}]},{"N":"co","id":"11","binds":"","C":[{"N":"function","name":"Q{http:\/\/www.w3.org\/2002\/xforms}usesIndexFunction","line":"2110","module":"saxon-xforms.xsl","eval":"8","flags":"pU","as":"1AB","slots":"1","C":[{"N":"arg","name":"Q{}this","as":"1NE"},{"N":"fn","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"2146","name":"exists","C":[{"N":"sequence","line":"2121","C":[{"N":"analyzeString","C":[{"N":"cvUntyped","role":"select","to":"AS","C":[{"N":"data","diag":"4|0||analyze-string\/select","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}ref"}]}]}]},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","line":"2124","C":[{"N":"compareToString","op":"eq","val":"index","C":[{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"str","val":"i"}]},{"N":"empty","role":"nonMatching"}]},{"N":"analyzeString","line":"2133","C":[{"N":"cvUntyped","role":"select","to":"AS","C":[{"N":"data","diag":"4|0||analyze-string\/select","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}nodeset"}]}]}]},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","line":"2136","C":[{"N":"compareToString","op":"eq","val":"index","C":[{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"str","val":"i"}]},{"N":"empty","role":"nonMatching"}]}]}]}]}]},{"N":"co","id":"12","binds":"13","C":[{"N":"template","name":"Q{}action-recalculate","flags":"os","line":"3831","module":"saxon-xforms.xsl","slots":"0","C":[{"N":"sequence","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"3832","C":[{"N":"message","C":[{"N":"valueOf","role":"select","C":[{"N":"str","val":"[action-recalculate] START"}]},{"N":"str","role":"terminate","val":"no"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]},{"N":"callT","line":"3834","name":"Q{}xforms-recalculate","bSlot":"0"},{"N":"ifCall","line":"3835","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"clearDeferredUpdateFlag"},{"N":"array","size":"1","C":[{"N":"str","val":"recalculate"}]}]}]}]}]},{"N":"co","id":"4","binds":"","C":[{"N":"function","name":"Q{http:\/\/www.w3.org\/2002\/xforms}getRepeatID","line":"704","module":"saxon-xforms.xsl","eval":"7","flags":"pU","as":"?AS","slots":"1","C":[{"N":"arg","name":"Q{}string-to-parse","as":"1AS"},{"N":"treat","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"707","as":"AS","diag":"5|0|XTTE0780|xforms:getRepeatID#1","C":[{"N":"check","card":"?","diag":"5|0|XTTE0780|xforms:getRepeatID#1","C":[{"N":"cvUntyped","to":"AS","diag":"5|0|XTTE0780|xforms:getRepeatID#1","C":[{"N":"data","diag":"5|0|XTTE0780|xforms:getRepeatID#1","C":[{"N":"analyzeString","C":[{"N":"varRef","role":"select","name":"Q{}string-to-parse","slot":"0"},{"N":"str","role":"regex","val":"^.*index\\s*\\(\\s*'([^']+)'\\s*\\).*$"},{"N":"str","role":"flags","val":""},{"N":"fn","role":"matching","line":"709","name":"regex-group","C":[{"N":"int","val":"1"}]},{"N":"message","role":"nonMatching","line":"712","C":[{"N":"sequence","role":"select","C":[{"N":"valueOf","C":[{"N":"str","val":"[xforms:getRepeatID] No repeat identifiable from value '"}]},{"N":"valueOf","C":[{"N":"varRef","name":"Q{}string-to-parse","slot":"0"}]},{"N":"valueOf","flags":"S","C":[{"N":"str","val":"'"}]}]},{"N":"str","role":"terminate","val":"no"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]}]}]}]}]}]}]}]},{"N":"co","id":"14","binds":"","C":[{"N":"template","name":"Q{}action-reset","flags":"os","line":"3856","module":"saxon-xforms.xsl","slots":"1","C":[{"N":"sequence","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"3857","C":[{"N":"param","name":"Q{}action-map","slot":"0","flags":"tr","as":"1FM","C":[{"N":"treat","role":"conversion","as":"FM","diag":"8|0|XTTE0590|action-map","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|action-map","C":[{"N":"supplied","slot":"0"}]}]}]},{"N":"message","line":"3859","C":[{"N":"valueOf","role":"select","C":[{"N":"str","val":"[action-reset] Reset triggered!"}]},{"N":"str","role":"terminate","val":"no"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]},{"N":"ifCall","line":"3861","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"clearDeferredUpdateFlags"},{"N":"array","size":"0"}]}]}]}]},{"N":"co","id":"15","binds":"16","C":[{"N":"template","name":"Q{}xforms-value-changed","flags":"os","line":"2966","module":"saxon-xforms.xsl","slots":"1","C":[{"N":"sequence","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"2967","C":[{"N":"param","name":"Q{}when-value-changed","slot":"0","flags":"t","as":"*FM","C":[{"N":"empty","role":"select"},{"N":"treat","role":"conversion","as":"FM","diag":"8|0|XTTE0590|when-value-changed","C":[{"N":"supplied","slot":"0"}]}]},{"N":"forEach","line":"2969","C":[{"N":"varRef","name":"Q{}when-value-changed","slot":"0"},{"N":"callT","line":"2972","name":"Q{}applyActions","bSlot":"0","C":[{"N":"withParam","name":"Q{}action-map","flags":"t","as":"1","C":[{"N":"dot","line":"2970","type":"1FM"}]}]}]}]}]}]},{"N":"co","id":"17","binds":"","C":[{"N":"template","name":"Q{}xforms-binding-exception","flags":"os","line":"3288","module":"saxon-xforms.xsl","slots":"1","C":[{"N":"sequence","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"3289","C":[{"N":"param","name":"Q{}message","slot":"0","flags":"r","as":"1AS","C":[{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|message","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|message","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|message","C":[{"N":"data","diag":"8|0|XTTE0590|message","C":[{"N":"supplied","slot":"0"}]}]}]}]}]},{"N":"ifCall","line":"3290","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"alert"},{"N":"arrayBlock","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"[xforms-binding-exception] "},{"N":"varRef","name":"Q{}message","slot":"0"}]}]}]}]}]}]},{"N":"co","id":"18","binds":"19","C":[{"N":"template","name":"Q{}action-refresh","flags":"os","line":"3843","module":"saxon-xforms.xsl","slots":"0","C":[{"N":"sequence","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"3844","C":[{"N":"message","C":[{"N":"valueOf","role":"select","C":[{"N":"str","val":"[action-refresh] START"}]},{"N":"str","role":"terminate","val":"no"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]},{"N":"callT","line":"3846","name":"Q{}xforms-refresh","bSlot":"0"},{"N":"ifCall","line":"3847","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"clearDeferredUpdateFlag"},{"N":"array","size":"1","C":[{"N":"str","val":"refresh"}]}]}]}]}]},{"N":"co","id":"20","binds":"16 21","C":[{"N":"template","name":"Q{}action-message","flags":"os","line":"3674","module":"saxon-xforms.xsl","slots":"4","C":[{"N":"sequence","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"3675","C":[{"N":"param","name":"Q{}action-map","slot":"0","flags":"tr","as":"1FM","C":[{"N":"treat","role":"conversion","as":"FM","diag":"8|0|XTTE0590|action-map","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|action-map","C":[{"N":"supplied","slot":"0"}]}]}]},{"N":"let","line":"3682","var":"Q{}message-components","as":"*AS","slot":"1","eval":"8","C":[{"N":"treat","line":"3685","as":"AS","diag":"3|0|XTTE0570|message-components","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|message-components","C":[{"N":"data","diag":"3|0|XTTE0570|message-components","C":[{"N":"forEach","C":[{"N":"ifCall","line":"3677","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/array}flatten","type":"*","C":[{"N":"treat","as":"FA v[1FM]","diag":"3|0|XTTE0570|nested-actions-array","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|nested-actions-array","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}action-map","slot":"0"},{"N":"str","val":"nested-actions"}]}]}]}]},{"N":"callT","line":"3686","name":"Q{}applyActions","bSlot":"0","C":[{"N":"withParam","name":"Q{}action-map","flags":"t","as":"1","C":[{"N":"dot","line":"3687"}]}]}]}]}]}]},{"N":"let","line":"3692","var":"Q{}message-value","as":"1AS","slot":"2","eval":"8","C":[{"N":"fn","name":"string-join","C":[{"N":"varRef","name":"Q{}message-components","slot":"1"}]},{"N":"let","line":"3695","var":"Q{}message-level","as":"1AS","slot":"3","eval":"16","C":[{"N":"treat","as":"AS","diag":"3|0|XTTE0570|message-level","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|message-level","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|message-level","C":[{"N":"data","diag":"3|0|XTTE0570|message-level","C":[{"N":"first","C":[{"N":"sequence","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}action-map","slot":"0"},{"N":"str","val":"@level"}]},{"N":"str","val":"modal"}]}]}]}]}]}]},{"N":"choose","line":"3701","C":[{"N":"compareToString","op":"eq","val":"ephemeral","C":[{"N":"varRef","name":"Q{}message-level","slot":"3"}]},{"N":"callT","line":"3702","name":"Q{}logToPage","bSlot":"1","flags":"t","C":[{"N":"withParam","name":"Q{}message","flags":"c","as":"1AS","C":[{"N":"varRef","line":"3703","name":"Q{}message-value","slot":"2"}]}]}]}]}]}]}]}]}]},{"N":"co","id":"22","binds":"","C":[{"N":"function","name":"Q{http:\/\/www.w3.org\/2002\/xforms}resolveXPathStrings","line":"769","module":"saxon-xforms.xsl","eval":"16","flags":"pU","as":"1AS","slots":"2","C":[{"N":"arg","name":"Q{}base","as":"1AS"},{"N":"arg","name":"Q{}relative","as":"1AS"},{"N":"choose","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"776","C":[{"N":"fn","name":"starts-with","C":[{"N":"varRef","name":"Q{}relative","slot":"1"},{"N":"str","val":"\/"}]},{"N":"varRef","line":"777","name":"Q{}relative","slot":"1"},{"N":"fn","line":"779","name":"starts-with","C":[{"N":"varRef","name":"Q{}relative","slot":"1"},{"N":"str","val":"instance("}]},{"N":"varRef","line":"780","name":"Q{}relative","slot":"1"},{"N":"fn","line":"782","name":"not","C":[{"N":"varRef","name":"Q{}base","slot":"0"}]},{"N":"varRef","line":"783","name":"Q{}relative","slot":"1"},{"N":"or","line":"785","op":"or","C":[{"N":"fn","name":"not","C":[{"N":"varRef","name":"Q{}relative","slot":"1"}]},{"N":"compareToString","op":"eq","val":".","C":[{"N":"varRef","name":"Q{}relative","slot":"1"}]}]},{"N":"varRef","line":"786","name":"Q{}base","slot":"0"},{"N":"true"},{"N":"fn","line":"789","name":"concat","C":[{"N":"varRef","name":"Q{}base","slot":"0"},{"N":"str","val":"\/"},{"N":"varRef","name":"Q{}relative","slot":"1"}]}]}]}]},{"N":"co","id":"23","binds":"","C":[{"N":"function","name":"Q{http:\/\/saxonica.com\/ns\/forms-local}current-date","line":"119","module":"xforms-function-library.xsl","eval":"16","flags":"pU","as":"1AS","slots":"0","C":[{"N":"treat","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"120","as":"AS","diag":"3|0|XTTE0570|today","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|today","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|today","C":[{"N":"data","diag":"3|0|XTTE0570|today","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"getCurrentDate"},{"N":"array","size":"0"}]}]}]}]}]}]}]},{"N":"co","id":"24","binds":"25","C":[{"N":"function","name":"Q{http:\/\/www.w3.org\/2002\/xforms}resolve-index","line":"73","module":"xforms-function-library.xsl","eval":"8","flags":"pU","as":"1AS","slots":"2","C":[{"N":"arg","name":"Q{}input","as":"1AS"},{"N":"let","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"75","var":"Q{}parts","as":"*AS","slot":"1","eval":"8","C":[{"N":"analyzeString","line":"76","C":[{"N":"varRef","role":"select","name":"Q{}input","slot":"0"},{"N":"str","role":"regex","val":"index\\s*\\(\\s*'([^']+)'\\s*\\)"},{"N":"str","role":"flags","val":""},{"N":"cast","role":"matching","line":"79","flags":"a","as":"1AS","C":[{"N":"ufCall","name":"Q{http:\/\/www.w3.org\/2002\/xforms}index","tailCall":"false","bSlot":"0","eval":"16","C":[{"N":"fn","name":"regex-group","C":[{"N":"int","val":"1"}]}]}]},{"N":"dot","role":"nonMatching","line":"82","type":"1AS"}]},{"N":"fn","line":"88","name":"string-join","C":[{"N":"varRef","name":"Q{}parts","slot":"1"}]}]}]}]},{"N":"co","id":"26","binds":"27","C":[{"N":"template","name":"Q{}action-setindex","flags":"os","line":"3804","module":"saxon-xforms.xsl","slots":"3","C":[{"N":"sequence","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"3805","C":[{"N":"param","name":"Q{}action-map","slot":"0","flags":"tr","as":"1FM","C":[{"N":"treat","role":"conversion","as":"FM","diag":"8|0|XTTE0590|action-map","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|action-map","C":[{"N":"supplied","slot":"0"}]}]}]},{"N":"callT","line":"3808","name":"Q{}outermost-action-handler","bSlot":"0"},{"N":"let","line":"3814","var":"Q{}new-index","as":"1ADI","slot":"1","eval":"16","C":[{"N":"treat","line":"3815","as":"ADI","diag":"3|0|XTTE0570|new-index","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|new-index","C":[{"N":"cvUntyped","to":"ADI","diag":"3|0|XTTE0570|new-index","C":[{"N":"data","diag":"3|0|XTTE0570|new-index","C":[{"N":"evaluate","dxns":"","C":[{"N":"let","role":"xpath","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"51","var":"Q{}input2","as":"1AS","slot":"2","eval":"8","C":[{"N":"fn","name":"string-join","C":[{"N":"analyzeString","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"saxon-xforms.xsl","line":"3811","C":[{"N":"treat","role":"select","as":"AS","diag":"3|0|XTTE0570|new-index-ref","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|new-index-ref","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|new-index-ref","C":[{"N":"data","diag":"3|0|XTTE0570|new-index-ref","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}action-map","slot":"0"},{"N":"str","val":"@index"}]}]}]}]}]},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"36","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"6","C":[{"N":"str","val":"instance"},{"N":"str","val":"index"},{"N":"str","val":"avg"},{"N":"str","val":"foo"},{"N":"str","val":"current-date"},{"N":"str","val":"random"}]},{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"fn","line":"37","name":"concat","C":[{"N":"str","val":"xforms:"},{"N":"dot","type":"1AS"}]},{"N":"true"},{"N":"dot","line":"41","type":"1AS"}]},{"N":"dot","role":"nonMatching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"46","type":"1AS"}]}]},{"N":"choose","line":"56","C":[{"N":"fn","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"2"},{"N":"str","val":"^\\s*\/"},{"N":"str","val":""}]},{"N":"fn","line":"57","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"2"},{"N":"str","val":"^\\s\/[^\/]+"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"fn","line":"60","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"2"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":""}]},{"N":"fn","line":"61","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"2"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"true"},{"N":"varRef","line":"64","name":"Q{}input2","slot":"2"}]}]},{"N":"empty","role":"cxt"},{"N":"str","role":"sa","val":"no"},{"N":"map","role":"options","size":"0"},{"N":"map","role":"wp","size":"0"}]}]}]}]}]},{"N":"ifCall","line":"3820","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"setRepeatIndex"},{"N":"arrayBlock","C":[{"N":"treat","line":"3810","as":"AS","diag":"3|0|XTTE0570|repeatID","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|repeatID","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|repeatID","C":[{"N":"data","diag":"3|0|XTTE0570|repeatID","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}action-map","slot":"0"},{"N":"str","val":"@repeat"}]}]}]}]}]},{"N":"varRef","name":"Q{}new-index","slot":"1"}]}]}]}]}]}]},{"N":"co","id":"28","binds":"27 29","C":[{"N":"template","name":"Q{}action-setfocus","flags":"os","line":"3763","module":"saxon-xforms.xsl","slots":"1","C":[{"N":"sequence","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"3764","C":[{"N":"param","name":"Q{}action-map","slot":"0","flags":"tr","as":"1FM","C":[{"N":"treat","role":"conversion","as":"FM","diag":"8|0|XTTE0590|action-map","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|action-map","C":[{"N":"supplied","slot":"0"}]}]}]},{"N":"callT","line":"3767","name":"Q{}outermost-action-handler","bSlot":"0"},{"N":"callT","line":"3771","name":"Q{}xforms-focus","bSlot":"1","flags":"t","C":[{"N":"withParam","name":"Q{}control","flags":"c","as":"1AS","C":[{"N":"treat","line":"3769","as":"AS","diag":"3|0|XTTE0570|control","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|control","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|control","C":[{"N":"data","diag":"3|0|XTTE0570|control","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}action-map","slot":"0"},{"N":"str","val":"@control"}]}]}]}]}]}]}]}]}]}]},{"N":"co","id":"30","binds":"31","C":[{"N":"template","name":"Q{}action-setvalue","flags":"os","line":"3356","module":"saxon-xforms.xsl","slots":"10","C":[{"N":"sequence","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"3357","C":[{"N":"param","name":"Q{}action-map","slot":"0","flags":"tr","as":"1FM","C":[{"N":"treat","role":"conversion","as":"FM","diag":"8|0|XTTE0590|action-map","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|action-map","C":[{"N":"supplied","slot":"0"}]}]}]},{"N":"message","line":"3359","C":[{"N":"valueOf","role":"select","C":[{"N":"str","val":"[action-setvalue] START"}]},{"N":"str","role":"terminate","val":"no"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]},{"N":"let","line":"3361","var":"Q{}instance-context","as":"1AS","slot":"1","eval":"16","C":[{"N":"treat","as":"AS","diag":"3|0|XTTE0570|instance-context","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|instance-context","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|instance-context","C":[{"N":"data","diag":"3|0|XTTE0570|instance-context","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}action-map","slot":"0"},{"N":"str","val":"instance-context"}]}]}]}]}]},{"N":"let","line":"3364","var":"Q{}refz","slot":"2","eval":"4","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}action-map","slot":"0"},{"N":"str","val":"@ref"}]},{"N":"let","line":"3367","var":"Q{}instanceXML2","as":"1NE","slot":"3","eval":"16","C":[{"N":"treat","as":"NE","diag":"3|0|XTTE0570|instanceXML2","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|instanceXML2","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"getInstance"},{"N":"arrayBlock","C":[{"N":"varRef","name":"Q{}instance-context","slot":"1"}]}]}]}]},{"N":"choose","line":"3372","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}refz","slot":"2"}]},{"N":"let","line":"3373","var":"Q{}updated-node","as":"1N","slot":"4","eval":"8","C":[{"N":"evaluate","line":"3374","as":"1N","dxns":"","C":[{"N":"let","role":"xpath","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"51","var":"Q{}input2","as":"1AS","slot":"5","eval":"8","C":[{"N":"fn","name":"string-join","C":[{"N":"analyzeString","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"saxon-xforms.xsl","line":"3374","C":[{"N":"treat","role":"select","as":"AS","diag":"0|0||xforms:impose","C":[{"N":"check","card":"1","diag":"0|0||xforms:impose","C":[{"N":"cvUntyped","to":"AS","C":[{"N":"data","diag":"0|0||xforms:impose","C":[{"N":"varRef","name":"Q{}refz","slot":"2"}]}]}]}]},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"36","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"6","C":[{"N":"str","val":"instance"},{"N":"str","val":"index"},{"N":"str","val":"avg"},{"N":"str","val":"foo"},{"N":"str","val":"current-date"},{"N":"str","val":"random"}]},{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"fn","line":"37","name":"concat","C":[{"N":"str","val":"xforms:"},{"N":"dot","type":"1AS"}]},{"N":"true"},{"N":"dot","line":"41","type":"1AS"}]},{"N":"dot","role":"nonMatching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"46","type":"1AS"}]}]},{"N":"choose","line":"56","C":[{"N":"fn","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"5"},{"N":"str","val":"^\\s*\/"},{"N":"str","val":""}]},{"N":"fn","line":"57","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"5"},{"N":"str","val":"^\\s\/[^\/]+"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"fn","line":"60","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"5"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":""}]},{"N":"fn","line":"61","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"5"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"true"},{"N":"varRef","line":"64","name":"Q{}input2","slot":"5"}]}]},{"N":"varRef","role":"cxt","name":"Q{}instanceXML2","slot":"3"},{"N":"varRef","role":"nsCxt","name":"Q{}instanceXML2","slot":"3"},{"N":"str","role":"sa","val":"no"},{"N":"map","role":"options","size":"0"},{"N":"map","role":"wp","size":"0"}]},{"N":"let","line":"3377","var":"Q{}updated-value","as":"1AS","slot":"6","eval":"16","C":[{"N":"choose","line":"3379","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}contains","type":"1AB","C":[{"N":"varRef","name":"Q{}action-map","slot":"0"},{"N":"str","val":"@value"}]},{"N":"let","line":"3380","var":"Q{}updated-item","as":"1","slot":"7","eval":"16","C":[{"N":"check","line":"3381","card":"1","diag":"3|0|XTTE0570|updated-item","C":[{"N":"evaluate","dxns":"","C":[{"N":"let","role":"xpath","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"51","var":"Q{}input2","as":"1AS","slot":"8","eval":"8","C":[{"N":"fn","name":"string-join","C":[{"N":"analyzeString","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"saxon-xforms.xsl","line":"3381","C":[{"N":"treat","role":"select","as":"AS","diag":"0|0||xforms:impose","C":[{"N":"check","card":"1","diag":"0|0||xforms:impose","C":[{"N":"cvUntyped","to":"AS","C":[{"N":"data","diag":"0|0||xforms:impose","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}action-map","slot":"0"},{"N":"str","val":"@value"}]}]}]}]}]},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"36","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"6","C":[{"N":"str","val":"instance"},{"N":"str","val":"index"},{"N":"str","val":"avg"},{"N":"str","val":"foo"},{"N":"str","val":"current-date"},{"N":"str","val":"random"}]},{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"fn","line":"37","name":"concat","C":[{"N":"str","val":"xforms:"},{"N":"dot","type":"1AS"}]},{"N":"true"},{"N":"dot","line":"41","type":"1AS"}]},{"N":"dot","role":"nonMatching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"46","type":"1AS"}]}]},{"N":"choose","line":"56","C":[{"N":"fn","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"8"},{"N":"str","val":"^\\s*\/"},{"N":"str","val":""}]},{"N":"fn","line":"57","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"8"},{"N":"str","val":"^\\s\/[^\/]+"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"fn","line":"60","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"8"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":""}]},{"N":"fn","line":"61","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"8"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"true"},{"N":"varRef","line":"64","name":"Q{}input2","slot":"8"}]}]},{"N":"varRef","role":"cxt","name":"Q{}updated-node","slot":"4"},{"N":"varRef","role":"nsCxt","name":"Q{}updated-node","slot":"4"},{"N":"str","role":"sa","val":"no"},{"N":"map","role":"options","size":"0"},{"N":"map","role":"wp","size":"0"}]}]},{"N":"choose","line":"3391","C":[{"N":"compareToString","op":"eq","val":"true","C":[{"N":"cast","flags":"a","as":"1AS","C":[{"N":"atomSing","diag":"2|0||cast as","C":[{"N":"varRef","name":"Q{}updated-item","slot":"7"}]}]}]},{"N":"str","val":"true"},{"N":"and","line":"3394","op":"and","C":[{"N":"compareToString","op":"eq","val":"false","C":[{"N":"cast","flags":"a","as":"1AS","C":[{"N":"atomSing","diag":"2|0||cast as","C":[{"N":"varRef","name":"Q{}updated-item","slot":"7"}]}]}]},{"N":"fn","name":"not","C":[{"N":"gc","op":"=","card":"N:1","comp":"GAC|http:\/\/www.w3.org\/2005\/xpath-functions\/collation\/codepoint","C":[{"N":"data","diag":"1|0||=","C":[{"N":"varRef","name":"Q{}updated-item","slot":"7"}]},{"N":"str","val":"false"}]}]}]},{"N":"str","val":""},{"N":"true"},{"N":"cast","line":"3398","flags":"a","as":"1AS","C":[{"N":"atomSing","diag":"2|0||cast as","C":[{"N":"varRef","name":"Q{}updated-item","slot":"7"}]}]}]}]},{"N":"ifCall","line":"3402","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}contains","type":"1AB","C":[{"N":"treat","as":"FM","diag":"0|0||map:contains","C":[{"N":"dot","flags":"a"}]},{"N":"str","val":"value"}]},{"N":"treat","line":"3403","as":"AS","diag":"3|0|XTTE0570|updated-value","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|updated-value","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|updated-value","C":[{"N":"data","diag":"3|0|XTTE0570|updated-value","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}action-map","slot":"0"},{"N":"str","val":"value"}]}]}]}]}]},{"N":"true"},{"N":"str","val":""}]},{"N":"let","line":"3413","var":"Q{}updatedInstanceXML","as":"1NE","slot":"9","eval":"16","C":[{"N":"treat","line":"3414","as":"NE","diag":"3|0|XTTE0570|updatedInstanceXML","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|updatedInstanceXML","C":[{"N":"applyT","mode":"Q{}recalculate","bSlot":"0","C":[{"N":"varRef","role":"select","name":"Q{}instanceXML2","slot":"3"},{"N":"withParam","name":"Q{}updated-nodes","flags":"t","as":"1N","C":[{"N":"varRef","line":"3415","name":"Q{}updated-node","slot":"4"}]},{"N":"withParam","name":"Q{}updated-values","flags":"t","as":"1AS","C":[{"N":"varRef","line":"3416","name":"Q{}updated-value","slot":"6"}]}]}]}]},{"N":"sequence","line":"3422","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"setInstance"},{"N":"arrayBlock","C":[{"N":"varRef","name":"Q{}instance-context","slot":"1"},{"N":"varRef","name":"Q{}updatedInstanceXML","slot":"9"}]}]},{"N":"ifCall","line":"3424","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"setDeferredUpdateFlags"},{"N":"array","size":"1","C":[{"N":"literal","count":"3","C":[{"N":"str","val":"recalculate"},{"N":"str","val":"revalidate"},{"N":"str","val":"refresh"}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"N":"co","id":"16","binds":"30 1 5 26 28 32 13 18 14 8 20 0 10 16 16 27","C":[{"N":"template","name":"Q{}applyActions","flags":"os","line":"2440","module":"saxon-xforms.xsl","slots":"20","C":[{"N":"sequence","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"2441","C":[{"N":"param","name":"Q{}action-map","slot":"0","flags":"tr","as":"1FM","C":[{"N":"treat","role":"conversion","as":"FM","diag":"8|0|XTTE0590|action-map","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|action-map","C":[{"N":"supplied","slot":"0"}]}]}]},{"N":"let","line":"2445","var":"Q{}ref","as":"?AS","slot":"1","eval":"7","C":[{"N":"treat","as":"AS","diag":"3|0|XTTE0570|ref","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|ref","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|ref","C":[{"N":"data","diag":"3|0|XTTE0570|ref","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}action-map","slot":"0"},{"N":"str","val":"@ref"}]}]}]}]}]},{"N":"let","line":"2446","var":"Q{}at","as":"?AS","slot":"2","eval":"7","C":[{"N":"treat","as":"AS","diag":"3|0|XTTE0570|at","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|at","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|at","C":[{"N":"data","diag":"3|0|XTTE0570|at","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}action-map","slot":"0"},{"N":"str","val":"@at"}]}]}]}]}]},{"N":"let","line":"2448","var":"Q{}context","as":"?AS","slot":"3","eval":"7","C":[{"N":"treat","as":"AS","diag":"3|0|XTTE0570|context","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|context","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|context","C":[{"N":"data","diag":"3|0|XTTE0570|context","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}action-map","slot":"0"},{"N":"str","val":"@context"}]}]}]}]}]},{"N":"let","line":"2459","var":"Q{}ref-qualified","as":"?AS","slot":"4","eval":"7","C":[{"N":"choose","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}ref","slot":"1"}]},{"N":"varRef","name":"Q{}ref","slot":"1"}]},{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}at","slot":"2"}]},{"N":"fn","name":"concat","C":[{"N":"varRef","name":"Q{}ref","slot":"1"},{"N":"str","val":"["},{"N":"varRef","name":"Q{}at","slot":"2"},{"N":"str","val":"]"}]},{"N":"true"},{"N":"varRef","name":"Q{}ref","slot":"1"}]}]},{"N":"let","line":"2461","var":"Q{}instanceXML2","as":"?NE","slot":"5","eval":"7","C":[{"N":"treat","as":"NE","diag":"3|0|XTTE0570|instanceXML2","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|instanceXML2","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"getInstance"},{"N":"arrayBlock","C":[{"N":"treat","line":"2443","as":"AS","diag":"3|0|XTTE0570|instance-context","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|instance-context","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|instance-context","C":[{"N":"data","diag":"3|0|XTTE0570|instance-context","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}action-map","slot":"0"},{"N":"str","val":"instance-context"}]}]}]}]}]}]}]}]}]},{"N":"let","line":"2465","var":"Q{}ref-node","as":"*N","slot":"6","eval":"8","C":[{"N":"choose","line":"2467","C":[{"N":"and","op":"and","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}ref-qualified","slot":"4"}]},{"N":"vc","op":"ne","onEmpty":"1","comp":"CCC","C":[{"N":"varRef","name":"Q{}ref-qualified","slot":"4"},{"N":"str","val":""}]}]},{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}instanceXML2","slot":"5"}]}]},{"N":"treat","line":"2468","as":"N","diag":"3|0|XTTE0570|ref-node","C":[{"N":"evaluate","dxns":"","C":[{"N":"let","role":"xpath","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"51","var":"Q{}input2","as":"1AS","slot":"7","eval":"8","C":[{"N":"fn","name":"string-join","C":[{"N":"analyzeString","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"saxon-xforms.xsl","line":"2468","C":[{"N":"check","role":"select","card":"1","diag":"0|0||xforms:impose","C":[{"N":"varRef","name":"Q{}ref-qualified","slot":"4"}]},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"36","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"6","C":[{"N":"str","val":"instance"},{"N":"str","val":"index"},{"N":"str","val":"avg"},{"N":"str","val":"foo"},{"N":"str","val":"current-date"},{"N":"str","val":"random"}]},{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"fn","line":"37","name":"concat","C":[{"N":"str","val":"xforms:"},{"N":"dot","type":"1AS"}]},{"N":"true"},{"N":"dot","line":"41","type":"1AS"}]},{"N":"dot","role":"nonMatching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"46","type":"1AS"}]}]},{"N":"choose","line":"56","C":[{"N":"fn","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"7"},{"N":"str","val":"^\\s*\/"},{"N":"str","val":""}]},{"N":"fn","line":"57","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"7"},{"N":"str","val":"^\\s\/[^\/]+"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"fn","line":"60","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"7"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":""}]},{"N":"fn","line":"61","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"7"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"true"},{"N":"varRef","line":"64","name":"Q{}input2","slot":"7"}]}]},{"N":"varRef","role":"cxt","name":"Q{}instanceXML2","slot":"5"},{"N":"check","role":"nsCxt","card":"1","diag":"4|0|XTTE3170|xsl:evaluate\/namespace-context","C":[{"N":"varRef","name":"Q{}instanceXML2","slot":"5"}]},{"N":"str","role":"sa","val":"no"},{"N":"map","role":"options","size":"0"},{"N":"map","role":"wp","size":"0"}]}]}]},{"N":"let","line":"2473","var":"Q{}context-node","as":"?N","slot":"8","eval":"7","C":[{"N":"choose","line":"2475","C":[{"N":"and","op":"and","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}context","slot":"3"}]},{"N":"vc","op":"ne","onEmpty":"1","comp":"CCC","C":[{"N":"varRef","name":"Q{}context","slot":"3"},{"N":"str","val":""}]}]},{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}instanceXML2","slot":"5"}]}]},{"N":"treat","line":"2476","as":"N","diag":"3|0|XTTE0570|context-node","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|context-node","C":[{"N":"evaluate","dxns":"","C":[{"N":"let","role":"xpath","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"51","var":"Q{}input2","as":"1AS","slot":"9","eval":"8","C":[{"N":"fn","name":"string-join","C":[{"N":"analyzeString","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"saxon-xforms.xsl","line":"2476","C":[{"N":"check","role":"select","card":"1","diag":"0|0||xforms:impose","C":[{"N":"varRef","name":"Q{}context","slot":"3"}]},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"36","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"6","C":[{"N":"str","val":"instance"},{"N":"str","val":"index"},{"N":"str","val":"avg"},{"N":"str","val":"foo"},{"N":"str","val":"current-date"},{"N":"str","val":"random"}]},{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"fn","line":"37","name":"concat","C":[{"N":"str","val":"xforms:"},{"N":"dot","type":"1AS"}]},{"N":"true"},{"N":"dot","line":"41","type":"1AS"}]},{"N":"dot","role":"nonMatching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"46","type":"1AS"}]}]},{"N":"choose","line":"56","C":[{"N":"fn","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"9"},{"N":"str","val":"^\\s*\/"},{"N":"str","val":""}]},{"N":"fn","line":"57","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"9"},{"N":"str","val":"^\\s\/[^\/]+"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"fn","line":"60","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"9"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":""}]},{"N":"fn","line":"61","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"9"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"true"},{"N":"varRef","line":"64","name":"Q{}input2","slot":"9"}]}]},{"N":"varRef","role":"cxt","name":"Q{}instanceXML2","slot":"5"},{"N":"check","role":"nsCxt","card":"1","diag":"4|0|XTTE3170|xsl:evaluate\/namespace-context","C":[{"N":"varRef","name":"Q{}instanceXML2","slot":"5"}]},{"N":"str","role":"sa","val":"no"},{"N":"map","role":"options","size":"0"},{"N":"map","role":"wp","size":"0"}]}]}]}]},{"N":"let","line":"2481","var":"Q{}context","as":"?N","slot":"10","eval":"7","C":[{"N":"first","C":[{"N":"sequence","C":[{"N":"varRef","name":"Q{}context-node","slot":"8"},{"N":"varRef","name":"Q{}ref-node","slot":"6"},{"N":"varRef","name":"Q{}instanceXML2","slot":"5"}]}]},{"N":"let","line":"2487","var":"Q{}ifVar","slot":"11","eval":"7","C":[{"N":"choose","line":"731","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}contains","type":"1AB","C":[{"N":"varRef","line":"2487","name":"Q{}action-map","slot":"0"},{"N":"str","val":"@if"}]},{"N":"treat","line":"732","as":"AS","diag":"5|0|XTTE0780|xforms:getIfStatement#1","C":[{"N":"check","card":"?","diag":"5|0|XTTE0780|xforms:getIfStatement#1","C":[{"N":"cvUntyped","to":"AS","diag":"5|0|XTTE0780|xforms:getIfStatement#1","C":[{"N":"data","diag":"5|0|XTTE0780|xforms:getIfStatement#1","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","line":"2487","name":"Q{}action-map","slot":"0"},{"N":"str","val":"@if"}]}]}]}]}]}]},{"N":"let","line":"2488","var":"Q{}whileVar","slot":"12","eval":"7","C":[{"N":"choose","line":"750","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}contains","type":"1AB","C":[{"N":"varRef","line":"2488","name":"Q{}action-map","slot":"0"},{"N":"str","val":"@while"}]},{"N":"treat","line":"751","as":"AS","diag":"5|0|XTTE0780|xforms:getWhileStatement#1","C":[{"N":"check","card":"?","diag":"5|0|XTTE0780|xforms:getWhileStatement#1","C":[{"N":"cvUntyped","to":"AS","diag":"5|0|XTTE0780|xforms:getWhileStatement#1","C":[{"N":"data","diag":"5|0|XTTE0780|xforms:getWhileStatement#1","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","line":"2488","name":"Q{}action-map","slot":"0"},{"N":"str","val":"@while"}]}]}]}]}]}]},{"N":"let","line":"2491","var":"Q{}ifExecuted","as":"1AB","slot":"13","eval":"16","C":[{"N":"choose","line":"2493","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}ifVar","slot":"11"}]},{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}context","slot":"10"}]}]},{"N":"treat","line":"2494","as":"AB","diag":"3|0|XTTE0570|ifExecuted","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|ifExecuted","C":[{"N":"cvUntyped","to":"AB","diag":"3|0|XTTE0570|ifExecuted","C":[{"N":"data","diag":"3|0|XTTE0570|ifExecuted","C":[{"N":"evaluate","dxns":"","C":[{"N":"let","role":"xpath","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"51","var":"Q{}input2","as":"1AS","slot":"14","eval":"8","C":[{"N":"fn","name":"string-join","C":[{"N":"analyzeString","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"saxon-xforms.xsl","line":"2494","C":[{"N":"check","role":"select","card":"1","diag":"0|0||xforms:impose","C":[{"N":"varRef","name":"Q{}ifVar","slot":"11"}]},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"36","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"6","C":[{"N":"str","val":"instance"},{"N":"str","val":"index"},{"N":"str","val":"avg"},{"N":"str","val":"foo"},{"N":"str","val":"current-date"},{"N":"str","val":"random"}]},{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"fn","line":"37","name":"concat","C":[{"N":"str","val":"xforms:"},{"N":"dot","type":"1AS"}]},{"N":"true"},{"N":"dot","line":"41","type":"1AS"}]},{"N":"dot","role":"nonMatching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"46","type":"1AS"}]}]},{"N":"choose","line":"56","C":[{"N":"fn","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"14"},{"N":"str","val":"^\\s*\/"},{"N":"str","val":""}]},{"N":"fn","line":"57","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"14"},{"N":"str","val":"^\\s\/[^\/]+"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"fn","line":"60","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"14"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":""}]},{"N":"fn","line":"61","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"14"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"true"},{"N":"varRef","line":"64","name":"Q{}input2","slot":"14"}]}]},{"N":"varRef","role":"cxt","name":"Q{}context","slot":"10"},{"N":"check","role":"nsCxt","card":"1","diag":"4|0|XTTE3170|xsl:evaluate\/namespace-context","C":[{"N":"varRef","name":"Q{}instanceXML2","slot":"5"}]},{"N":"str","role":"sa","val":"no"},{"N":"map","role":"options","size":"0"},{"N":"map","role":"wp","size":"0"}]}]}]}]}]},{"N":"true"},{"N":"true"}]},{"N":"let","line":"2502","var":"Q{}isWhileTrue","as":"1AB","slot":"15","eval":"16","C":[{"N":"choose","line":"2504","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}whileVar","slot":"12"}]},{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}context","slot":"10"}]}]},{"N":"treat","line":"2505","as":"AB","diag":"3|0|XTTE0570|isWhileTrue","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|isWhileTrue","C":[{"N":"cvUntyped","to":"AB","diag":"3|0|XTTE0570|isWhileTrue","C":[{"N":"data","diag":"3|0|XTTE0570|isWhileTrue","C":[{"N":"evaluate","dxns":"","C":[{"N":"let","role":"xpath","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"51","var":"Q{}input2","as":"1AS","slot":"16","eval":"8","C":[{"N":"fn","name":"string-join","C":[{"N":"analyzeString","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"saxon-xforms.xsl","line":"2505","C":[{"N":"check","role":"select","card":"1","diag":"0|0||xforms:impose","C":[{"N":"varRef","name":"Q{}whileVar","slot":"12"}]},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"36","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"6","C":[{"N":"str","val":"instance"},{"N":"str","val":"index"},{"N":"str","val":"avg"},{"N":"str","val":"foo"},{"N":"str","val":"current-date"},{"N":"str","val":"random"}]},{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"fn","line":"37","name":"concat","C":[{"N":"str","val":"xforms:"},{"N":"dot","type":"1AS"}]},{"N":"true"},{"N":"dot","line":"41","type":"1AS"}]},{"N":"dot","role":"nonMatching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"46","type":"1AS"}]}]},{"N":"choose","line":"56","C":[{"N":"fn","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"16"},{"N":"str","val":"^\\s*\/"},{"N":"str","val":""}]},{"N":"fn","line":"57","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"16"},{"N":"str","val":"^\\s\/[^\/]+"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"fn","line":"60","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"16"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":""}]},{"N":"fn","line":"61","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"16"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"true"},{"N":"varRef","line":"64","name":"Q{}input2","slot":"16"}]}]},{"N":"varRef","role":"cxt","name":"Q{}context","slot":"10"},{"N":"check","role":"nsCxt","card":"1","diag":"4|0|XTTE3170|xsl:evaluate\/namespace-context","C":[{"N":"varRef","name":"Q{}instanceXML2","slot":"5"}]},{"N":"str","role":"sa","val":"no"},{"N":"map","role":"options","size":"0"},{"N":"map","role":"wp","size":"0"}]}]}]}]}]},{"N":"true"},{"N":"true"}]},{"N":"choose","line":"2514","C":[{"N":"and","op":"and","C":[{"N":"varRef","name":"Q{}ifExecuted","slot":"13"},{"N":"varRef","name":"Q{}isWhileTrue","slot":"15"}]},{"N":"let","line":"2515","var":"Q{}action-name","as":"1AS","slot":"17","eval":"16","C":[{"N":"treat","as":"AS","diag":"3|0|XTTE0570|action-name","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|action-name","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|action-name","C":[{"N":"data","diag":"3|0|XTTE0570|action-name","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}action-map","slot":"0"},{"N":"str","val":"name"}]}]}]}]}]},{"N":"sequence","line":"2518","C":[{"N":"choose","C":[{"N":"compareToString","op":"eq","val":"action","C":[{"N":"varRef","name":"Q{}action-name","slot":"17"}]},{"N":"empty"},{"N":"compareToString","line":"2521","op":"eq","val":"setvalue","C":[{"N":"varRef","name":"Q{}action-name","slot":"17"}]},{"N":"callT","line":"2522","name":"Q{}action-setvalue","bSlot":"0"},{"N":"compareToString","line":"2524","op":"eq","val":"insert","C":[{"N":"varRef","name":"Q{}action-name","slot":"17"}]},{"N":"callT","line":"2525","name":"Q{}action-insert","bSlot":"1"},{"N":"compareToString","line":"2527","op":"eq","val":"delete","C":[{"N":"varRef","name":"Q{}action-name","slot":"17"}]},{"N":"callT","line":"2528","name":"Q{}action-delete","bSlot":"2"},{"N":"compareToString","line":"2530","op":"eq","val":"setindex","C":[{"N":"varRef","name":"Q{}action-name","slot":"17"}]},{"N":"callT","line":"2531","name":"Q{}action-setindex","bSlot":"3"},{"N":"compareToString","line":"2536","op":"eq","val":"setfocus","C":[{"N":"varRef","name":"Q{}action-name","slot":"17"}]},{"N":"callT","line":"2537","name":"Q{}action-setfocus","bSlot":"4"},{"N":"compareToString","line":"2542","op":"eq","val":"rebuild","C":[{"N":"varRef","name":"Q{}action-name","slot":"17"}]},{"N":"callT","line":"2543","name":"Q{}xforms-rebuild","bSlot":"5"},{"N":"compareToString","line":"2545","op":"eq","val":"recalculate","C":[{"N":"varRef","name":"Q{}action-name","slot":"17"}]},{"N":"callT","line":"2546","name":"Q{}xforms-recalculate","bSlot":"6"},{"N":"compareToString","line":"2551","op":"eq","val":"refresh","C":[{"N":"varRef","name":"Q{}action-name","slot":"17"}]},{"N":"callT","line":"2552","name":"Q{}action-refresh","bSlot":"7"},{"N":"compareToString","line":"2554","op":"eq","val":"reset","C":[{"N":"varRef","name":"Q{}action-name","slot":"17"}]},{"N":"callT","line":"2555","name":"Q{}action-reset","bSlot":"8"},{"N":"compareToString","line":"2560","op":"eq","val":"send","C":[{"N":"varRef","name":"Q{}action-name","slot":"17"}]},{"N":"callT","line":"2561","name":"Q{}action-send","bSlot":"9"},{"N":"compareToString","line":"2563","op":"eq","val":"message","C":[{"N":"varRef","name":"Q{}action-name","slot":"17"}]},{"N":"callT","line":"2564","name":"Q{}action-message","bSlot":"10"},{"N":"compareToString","line":"2566","op":"eq","val":"output","C":[{"N":"varRef","name":"Q{}action-name","slot":"17"}]},{"N":"callT","line":"2567","name":"Q{}action-output","bSlot":"11"},{"N":"compareToString","line":"2570","op":"eq","val":"text","C":[{"N":"varRef","name":"Q{}action-name","slot":"17"}]},{"N":"callT","line":"2571","name":"Q{}action-text","bSlot":"12"},{"N":"true"},{"N":"message","line":"2574","C":[{"N":"sequence","role":"select","C":[{"N":"valueOf","C":[{"N":"str","val":"[applyActions] action '"}]},{"N":"valueOf","C":[{"N":"varRef","name":"Q{}action-name","slot":"17"}]},{"N":"valueOf","C":[{"N":"str","val":"' not yet handled!"}]}]},{"N":"str","role":"terminate","val":"no"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]}]},{"N":"choose","line":"2585","C":[{"N":"compareToString","op":"eq","val":"message","C":[{"N":"varRef","name":"Q{}action-name","slot":"17"}]},{"N":"empty"},{"N":"true"},{"N":"forEach","line":"2591","C":[{"N":"ifCall","line":"2579","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/array}flatten","type":"*","C":[{"N":"treat","as":"FA v[1FM]","diag":"3|0|XTTE0570|nested-actions-array","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|nested-actions-array","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}action-map","slot":"0"},{"N":"str","val":"nested-actions"}]}]}]}]},{"N":"callT","line":"2592","name":"Q{}applyActions","bSlot":"13","C":[{"N":"withParam","name":"Q{}action-map","flags":"t","as":"1","C":[{"N":"dot","line":"2593"}]}]}]}]},{"N":"let","line":"2600","var":"Q{}isWhileStillTrue","as":"1AB","slot":"18","eval":"16","C":[{"N":"choose","line":"2602","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}whileVar","slot":"12"}]},{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}context","slot":"10"}]}]},{"N":"treat","line":"2603","as":"AB","diag":"3|0|XTTE0570|isWhileStillTrue","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|isWhileStillTrue","C":[{"N":"cvUntyped","to":"AB","diag":"3|0|XTTE0570|isWhileStillTrue","C":[{"N":"data","diag":"3|0|XTTE0570|isWhileStillTrue","C":[{"N":"evaluate","dxns":"","C":[{"N":"let","role":"xpath","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"51","var":"Q{}input2","as":"1AS","slot":"19","eval":"8","C":[{"N":"fn","name":"string-join","C":[{"N":"analyzeString","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"saxon-xforms.xsl","line":"2603","C":[{"N":"check","role":"select","card":"1","diag":"0|0||xforms:impose","C":[{"N":"varRef","name":"Q{}whileVar","slot":"12"}]},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"36","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"6","C":[{"N":"str","val":"instance"},{"N":"str","val":"index"},{"N":"str","val":"avg"},{"N":"str","val":"foo"},{"N":"str","val":"current-date"},{"N":"str","val":"random"}]},{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"fn","line":"37","name":"concat","C":[{"N":"str","val":"xforms:"},{"N":"dot","type":"1AS"}]},{"N":"true"},{"N":"dot","line":"41","type":"1AS"}]},{"N":"dot","role":"nonMatching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"46","type":"1AS"}]}]},{"N":"choose","line":"56","C":[{"N":"fn","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"19"},{"N":"str","val":"^\\s*\/"},{"N":"str","val":""}]},{"N":"fn","line":"57","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"19"},{"N":"str","val":"^\\s\/[^\/]+"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"fn","line":"60","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"19"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":""}]},{"N":"fn","line":"61","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"19"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"true"},{"N":"varRef","line":"64","name":"Q{}input2","slot":"19"}]}]},{"N":"varRef","role":"cxt","name":"Q{}context","slot":"10"},{"N":"check","role":"nsCxt","card":"1","diag":"4|0|XTTE3170|xsl:evaluate\/namespace-context","C":[{"N":"varRef","name":"Q{}instanceXML2","slot":"5"}]},{"N":"str","role":"sa","val":"no"},{"N":"map","role":"options","size":"0"},{"N":"map","role":"wp","size":"0"}]}]}]}]}]},{"N":"true"},{"N":"false"}]},{"N":"sequence","line":"2616","C":[{"N":"choose","C":[{"N":"varRef","name":"Q{}isWhileStillTrue","slot":"18"},{"N":"callT","line":"2617","name":"Q{}applyActions","bSlot":"14"}]},{"N":"choose","line":"2620","C":[{"N":"compareToString","line":"2444","op":"eq","val":"outermost","C":[{"N":"treat","as":"AS","diag":"3|0|XTTE0570|handler-status","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|handler-status","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|handler-status","C":[{"N":"data","diag":"3|0|XTTE0570|handler-status","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}action-map","slot":"0"},{"N":"str","val":"handler-status"}]}]}]}]}]}]},{"N":"callT","line":"2621","name":"Q{}outermost-action-handler","bSlot":"15","flags":"t"}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"N":"co","id":"3","binds":"3","C":[{"N":"mode","name":"Q{}insert-node","onNo":"TC","flags":"W","patternSlots":"0","C":[{"N":"templateRule","prec":"0","prio":"-0.5","seq":"27","rank":"0","minImp":"0","slots":"3","matches":"NE","flags":"s","line":"1792","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE"},{"N":"sequence","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"1793","C":[{"N":"param","name":"Q{}insert-node-location","slot":"0","flags":"ti","as":"1N","C":[{"N":"treat","role":"conversion","as":"N","diag":"8|0|XTTE0590|insert-node-location","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|insert-node-location","C":[{"N":"supplied","slot":"0"}]}]}]},{"N":"param","line":"1794","name":"Q{}node-to-insert","slot":"1","flags":"ti","as":"1N","C":[{"N":"treat","role":"conversion","as":"N","diag":"8|0|XTTE0590|node-to-insert","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|node-to-insert","C":[{"N":"supplied","slot":"1"}]}]}]},{"N":"param","line":"1795","name":"Q{}position-relative","slot":"2","flags":"t","as":"?AS","C":[{"N":"str","role":"select","val":"after"},{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|position-relative","C":[{"N":"check","card":"?","diag":"8|0|XTTE0590|position-relative","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|position-relative","C":[{"N":"data","diag":"8|0|XTTE0590|position-relative","C":[{"N":"supplied","slot":"2"}]}]}]}]}]},{"N":"choose","line":"1798","C":[{"N":"and","op":"and","C":[{"N":"is","op":"is","C":[{"N":"dot","type":"1NE"},{"N":"varRef","name":"Q{}insert-node-location","slot":"0"}]},{"N":"vc","op":"eq","onEmpty":"0","comp":"CCC","C":[{"N":"varRef","name":"Q{}position-relative","slot":"2"},{"N":"str","val":"before"}]}]},{"N":"copyOf","line":"1800","flags":"c","C":[{"N":"varRef","name":"Q{}node-to-insert","slot":"1"}]}]},{"N":"copy","line":"1803","flags":"cin","sit":"1NE","C":[{"N":"sequence","role":"content","C":[{"N":"copyOf","flags":"c","C":[{"N":"axis","name":"attribute","nodeTest":"NA"}]},{"N":"choose","line":"1808","C":[{"N":"and","op":"and","C":[{"N":"is","op":"is","C":[{"N":"dot","type":"1NE"},{"N":"varRef","name":"Q{}insert-node-location","slot":"0"}]},{"N":"vc","op":"eq","onEmpty":"0","comp":"CCC","C":[{"N":"varRef","name":"Q{}position-relative","slot":"2"},{"N":"str","val":"child"}]}]},{"N":"copyOf","line":"1809","flags":"c","C":[{"N":"varRef","name":"Q{}node-to-insert","slot":"1"}]}]},{"N":"applyT","line":"1811","mode":"Q{}insert-node","bSlot":"0","C":[{"N":"axis","role":"select","name":"child","nodeTest":"N"}]}]}]},{"N":"choose","line":"1813","C":[{"N":"and","op":"and","C":[{"N":"is","op":"is","C":[{"N":"dot","type":"1NE"},{"N":"varRef","name":"Q{}insert-node-location","slot":"0"}]},{"N":"vc","op":"eq","onEmpty":"0","comp":"CCC","C":[{"N":"varRef","name":"Q{}position-relative","slot":"2"},{"N":"str","val":"after"}]}]},{"N":"copyOf","line":"1814","flags":"c","C":[{"N":"varRef","name":"Q{}node-to-insert","slot":"1"}]}]}]}]}]}]},{"N":"co","id":"33","binds":"","C":[{"N":"function","name":"Q{http:\/\/www.w3.org\/2002\/xforms}hasClass","line":"2194","module":"saxon-xforms.xsl","eval":"16","flags":"pU","as":"1AB","slots":"2","C":[{"N":"arg","name":"Q{}element","as":"1NE"},{"N":"arg","name":"Q{}string","as":"1AS"},{"N":"gc","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"2198","op":"=","card":"N:1","comp":"CCC","C":[{"N":"fn","name":"tokenize","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|class","C":[{"N":"data","diag":"3|0|XTTE0570|class","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}element","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}class"}]}]}]}]},{"N":"varRef","line":"2201","name":"Q{}string","slot":"1"}]}]}]},{"N":"co","id":"34","binds":"","C":[{"N":"globalParam","name":"Q{}xforms-instance-id","as":"1AS","line":"75","module":"saxon-xforms.xsl","visibility":"PUBLIC","C":[{"N":"str","val":"xforms-jinstance"}]}]},{"N":"co","id":"35","binds":"","C":[{"N":"function","name":"Q{http:\/\/www.w3.org\/2002\/xforms}getIfStatement","line":"728","module":"saxon-xforms.xsl","eval":"7","flags":"pU","as":"?AS","slots":"1","C":[{"N":"arg","name":"Q{}map","as":"1FM"},{"N":"choose","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"731","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}contains","type":"1AB","C":[{"N":"varRef","name":"Q{}map","slot":"0"},{"N":"str","val":"@if"}]},{"N":"treat","line":"732","as":"AS","diag":"5|0|XTTE0780|xforms:getIfStatement#1","C":[{"N":"check","card":"?","diag":"5|0|XTTE0780|xforms:getIfStatement#1","C":[{"N":"cvUntyped","to":"AS","diag":"5|0|XTTE0780|xforms:getIfStatement#1","C":[{"N":"data","diag":"5|0|XTTE0780|xforms:getIfStatement#1","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}map","slot":"0"},{"N":"str","val":"@if"}]}]}]}]}]}]}]}]},{"N":"co","id":"36","binds":"","C":[{"N":"function","name":"Q{http:\/\/www.w3.org\/2002\/xforms}getClass","line":"2215","module":"saxon-xforms.xsl","eval":"7","flags":"pU","as":"?NA nQ{}class","slots":"3","C":[{"N":"arg","name":"Q{}element","as":"1NE"},{"N":"let","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"2218","var":"Q{}class","as":"?AS","slot":"1","eval":"7","C":[{"N":"choose","line":"2219","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}element","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}class"}]}]},{"N":"cvUntyped","line":"2220","to":"AS","diag":"3|0|XTTE0570|class","C":[{"N":"cast","flags":"a","as":"1AZ","C":[{"N":"fn","name":"string","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}element","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}class"}]}]}]}]}]}]}]},{"N":"let","line":"2223","var":"Q{}class-mod","as":"?AS","slot":"2","eval":"7","C":[{"N":"choose","line":"2225","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}element","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}incremental"}]}]},{"N":"cvUntyped","line":"2226","to":"AS","diag":"3|0|XTTE0570|class-mod","C":[{"N":"cast","flags":"a","as":"1AZ","C":[{"N":"fn","name":"string-join","C":[{"N":"sequence","C":[{"N":"varRef","name":"Q{}class","slot":"1"},{"N":"str","val":"incremental"}]},{"N":"str","val":" "}]}]}]},{"N":"true"},{"N":"varRef","line":"2229","name":"Q{}class","slot":"1"}]},{"N":"choose","line":"2233","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}class-mod","slot":"2"}]},{"N":"treat","line":"2234","as":"NA nQ{}class","diag":"5|0|XTTE0780|xforms:getClass#1","C":[{"N":"att","name":"class","C":[{"N":"varRef","name":"Q{}class-mod","slot":"2"}]}]}]}]}]}]}]},{"N":"co","id":"37","binds":"38","C":[{"N":"template","name":"Q{}refreshRepeats-JS","flags":"os","line":"2340","module":"saxon-xforms.xsl","slots":"7","C":[{"N":"let","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"2348","var":"Q{http:\/\/saxon.sf.net\/generated-variable}v1","as":"1","slot":"0","eval":"13","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"let","line":"2347","var":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","as":"1","slot":"1","eval":"13","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"sequence","line":"2341","C":[{"N":"message","C":[{"N":"valueOf","role":"select","C":[{"N":"str","val":"[refreshRepeats-JS] START"}]},{"N":"str","role":"terminate","val":"no"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]},{"N":"let","line":"2343","var":"Q{}repeat-keys","slot":"2","eval":"8","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"getRepeatKeys"},{"N":"array","size":"0"}]},{"N":"forEach","line":"2345","C":[{"N":"varRef","name":"Q{}repeat-keys","slot":"2"},{"N":"let","line":"2346","var":"Q{}this-key","as":"1AS","slot":"3","eval":"16","C":[{"N":"treat","as":"AS","diag":"3|0|XTTE0570|this-key","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|this-key","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|this-key","C":[{"N":"data","diag":"3|0|XTTE0570|this-key","C":[{"N":"dot"}]}]}]}]},{"N":"let","line":"2347","var":"Q{}this-repeat","as":"1NE","slot":"4","eval":"16","C":[{"N":"treat","as":"NE","diag":"3|0|XTTE0570|this-repeat","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|this-repeat","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"varRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","slot":"1"},{"N":"str","val":"getRepeat"},{"N":"arrayBlock","C":[{"N":"varRef","name":"Q{}this-key","slot":"3"}]}]}]}]},{"N":"let","line":"2348","var":"Q{}this-repeat-nodeset","as":"1AS","slot":"5","eval":"16","C":[{"N":"treat","as":"AS","diag":"3|0|XTTE0570|this-repeat-nodeset","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|this-repeat-nodeset","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|this-repeat-nodeset","C":[{"N":"data","diag":"3|0|XTTE0570|this-repeat-nodeset","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"varRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}v1","slot":"0"},{"N":"str","val":"getRepeatContext"},{"N":"arrayBlock","C":[{"N":"varRef","name":"Q{}this-key","slot":"3"}]}]}]}]}]}]},{"N":"let","line":"2350","var":"Q{}page-element","as":"?NE","slot":"6","eval":"7","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|page-element","C":[{"N":"filter","flags":"b","C":[{"N":"slash","simple":"1","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}page","type":"1ND"},{"N":"axis","name":"descendant","nodeTest":"NE"}]},{"N":"vc","op":"eq","onEmpty":"0","comp":"CCC","C":[{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"attVal","name":"Q{}id","chk":"0"}]},{"N":"varRef","name":"Q{}this-key","slot":"3"}]}]}]},{"N":"choose","line":"2353","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}page-element","slot":"6"}]},{"N":"resultDoc","line":"2354","global":"indent=no\ndoctype-system=http:\/\/www.w3.org\/TR\/xhtml1\/DTD\/xhtml1-transitional.dtd\nencoding=utf-8\nomit-xml-declaration=no\ndoctype-public=-\/\/W3C\/\/DTD XHTML 1.0 Transitional\/\/EN\nmethod=html\n","local":"method=Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}replace-content\n","C":[{"N":"fn","role":"href","name":"concat","C":[{"N":"str","val":"#"},{"N":"varRef","name":"Q{}this-key","slot":"3"}]},{"N":"applyT","role":"content","line":"2355","bSlot":"0","C":[{"N":"varRef","role":"select","name":"Q{}this-repeat","slot":"4"},{"N":"withParam","name":"Q{}nodeset","flags":"t","as":"1AS","C":[{"N":"varRef","line":"2356","name":"Q{}this-repeat-nodeset","slot":"5"}]},{"N":"withParam","name":"Q{}recalculate","flags":"t","as":"1AB","C":[{"N":"true"}]},{"N":"withParam","name":"Q{}refreshRepeats","flags":"t","as":"1AB","C":[{"N":"true"}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"N":"co","id":"39","binds":"40","C":[{"N":"template","name":"Q{}refreshOutputs-JS","flags":"os","line":"2273","module":"saxon-xforms.xsl","slots":"9","C":[{"N":"let","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"2284","var":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","as":"1","slot":"0","eval":"13","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"sequence","line":"2274","C":[{"N":"message","C":[{"N":"valueOf","role":"select","C":[{"N":"str","val":"[refreshOutputs-JS] START"}]},{"N":"str","role":"terminate","val":"no"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]},{"N":"let","line":"2280","var":"Q{}output-keys","slot":"1","eval":"8","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"getOutputKeys"},{"N":"array","size":"0"}]},{"N":"forEach","line":"2282","C":[{"N":"varRef","name":"Q{}output-keys","slot":"1"},{"N":"let","line":"2283","var":"Q{}this-key","as":"1AS","slot":"2","eval":"16","C":[{"N":"treat","as":"AS","diag":"3|0|XTTE0570|this-key","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|this-key","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|this-key","C":[{"N":"data","diag":"3|0|XTTE0570|this-key","C":[{"N":"dot"}]}]}]}]},{"N":"let","line":"2284","var":"Q{}this-output","as":"1FM","slot":"3","eval":"16","C":[{"N":"treat","as":"FM","diag":"3|0|XTTE0570|this-output","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|this-output","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"varRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","slot":"0"},{"N":"str","val":"getOutput"},{"N":"arrayBlock","C":[{"N":"varRef","name":"Q{}this-key","slot":"2"}]}]}]}]},{"N":"let","line":"2309","var":"Q{}contexti","as":"?NE","slot":"4","eval":"7","C":[{"N":"ufCall","line":"2310","name":"Q{http:\/\/www.w3.org\/2002\/xforms}instance","tailCall":"false","bSlot":"0","eval":"16","C":[{"N":"treat","line":"2307","as":"AS","diag":"3|0|XTTE0570|this-instance-id","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|this-instance-id","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|this-instance-id","C":[{"N":"data","diag":"3|0|XTTE0570|this-instance-id","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}this-output","slot":"3"},{"N":"str","val":"@instance-context"}]}]}]}]}]}]},{"N":"let","line":"2317","var":"Q{}namespace-context-item","as":"1NE","slot":"5","eval":"16","C":[{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}contexti","slot":"4"}]},{"N":"check","card":"1","diag":"3|0|XTTE0570|namespace-context-item","C":[{"N":"varRef","name":"Q{}contexti","slot":"4"}]},{"N":"true"},{"N":"treat","as":"NE","diag":"3|0|XTTE0570|namespace-context-item","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|namespace-context-item","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"getXForm"},{"N":"array","size":"0"}]}]}]}]},{"N":"let","line":"2319","var":"Q{}value","as":"?AS","slot":"6","eval":"7","C":[{"N":"treat","line":"2320","as":"AS","diag":"3|0|XTTE0570|value","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|value","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|value","C":[{"N":"data","diag":"3|0|XTTE0570|value","C":[{"N":"evaluate","dxns":"","C":[{"N":"let","role":"xpath","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"51","var":"Q{}input2","as":"1AS","slot":"7","eval":"8","C":[{"N":"fn","name":"string-join","C":[{"N":"analyzeString","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"saxon-xforms.xsl","line":"2291","C":[{"N":"choose","role":"select","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}this-output","slot":"3"},{"N":"str","val":"@value"}]},{"N":"treat","line":"2292","as":"AS","diag":"3|0|XTTE0570|xpath","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|xpath","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|xpath","C":[{"N":"data","diag":"3|0|XTTE0570|xpath","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}this-output","slot":"3"},{"N":"str","val":"@value"}]}]}]}]}]},{"N":"ifCall","line":"2294","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}this-output","slot":"3"},{"N":"str","val":"@ref"}]},{"N":"treat","line":"2295","as":"AS","diag":"3|0|XTTE0570|xpath","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|xpath","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|xpath","C":[{"N":"data","diag":"3|0|XTTE0570|xpath","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}this-output","slot":"3"},{"N":"str","val":"@ref"}]}]}]}]}]},{"N":"true"},{"N":"str","val":""}]},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"36","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"6","C":[{"N":"str","val":"instance"},{"N":"str","val":"index"},{"N":"str","val":"avg"},{"N":"str","val":"foo"},{"N":"str","val":"current-date"},{"N":"str","val":"random"}]},{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"fn","line":"37","name":"concat","C":[{"N":"str","val":"xforms:"},{"N":"dot","type":"1AS"}]},{"N":"true"},{"N":"dot","line":"41","type":"1AS"}]},{"N":"dot","role":"nonMatching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"46","type":"1AS"}]}]},{"N":"choose","line":"56","C":[{"N":"fn","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"7"},{"N":"str","val":"^\\s*\/"},{"N":"str","val":""}]},{"N":"fn","line":"57","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"7"},{"N":"str","val":"^\\s\/[^\/]+"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"fn","line":"60","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"7"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":""}]},{"N":"fn","line":"61","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"7"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"true"},{"N":"varRef","line":"64","name":"Q{}input2","slot":"7"}]}]},{"N":"varRef","role":"cxt","name":"Q{}contexti","slot":"4"},{"N":"varRef","role":"nsCxt","name":"Q{}namespace-context-item","slot":"5"},{"N":"str","role":"sa","val":"no"},{"N":"map","role":"options","size":"0"},{"N":"map","role":"wp","size":"0"}]}]}]}]}]},{"N":"let","line":"2323","var":"Q{}associated-form-control","as":"?NE","slot":"8","eval":"7","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|associated-form-control","C":[{"N":"filter","flags":"b","C":[{"N":"slash","simple":"1","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}page","type":"1ND"},{"N":"axis","name":"descendant","nodeTest":"NE"}]},{"N":"vc","op":"eq","onEmpty":"0","comp":"CCC","C":[{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"attVal","name":"Q{}id","chk":"0"}]},{"N":"varRef","name":"Q{}this-key","slot":"2"}]}]}]},{"N":"choose","line":"2326","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}associated-form-control","slot":"8"}]},{"N":"resultDoc","line":"2327","global":"indent=no\ndoctype-system=http:\/\/www.w3.org\/TR\/xhtml1\/DTD\/xhtml1-transitional.dtd\nencoding=utf-8\nomit-xml-declaration=no\ndoctype-public=-\/\/W3C\/\/DTD XHTML 1.0 Transitional\/\/EN\nmethod=html\n","local":"method=Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}replace-content\n","C":[{"N":"fn","role":"href","name":"concat","C":[{"N":"str","val":"#"},{"N":"varRef","name":"Q{}this-key","slot":"2"}]},{"N":"valueOf","role":"content","line":"2328","C":[{"N":"varRef","name":"Q{}value","slot":"6"}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"N":"co","id":"29","binds":"","C":[{"N":"template","name":"Q{}xforms-focus","flags":"os","line":"2987","module":"saxon-xforms.xsl","slots":"5","C":[{"N":"sequence","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"2988","C":[{"N":"param","name":"Q{}control","slot":"0","flags":"i","as":"1AS","C":[{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|control","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|control","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|control","C":[{"N":"data","diag":"8|0|XTTE0590|control","C":[{"N":"supplied","slot":"0"}]}]}]}]}]},{"N":"let","line":"2990","var":"Q{}xforms-control","as":"1NE","slot":"1","eval":"16","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|xforms-control","C":[{"N":"docOrder","intra":"0","C":[{"N":"filter","flags":"b","C":[{"N":"slash","simple":"2","C":[{"N":"treat","as":"N","diag":"1|0|XPTY0019|\/","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"getXFormsDoc"},{"N":"array","size":"0"}]}]},{"N":"axis","name":"descendant","nodeTest":"NE"}]},{"N":"vc","op":"eq","onEmpty":"0","comp":"CCC","C":[{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"attVal","name":"Q{}id","chk":"0"}]},{"N":"varRef","name":"Q{}control","slot":"0"}]}]}]}]},{"N":"choose","line":"2995","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}xforms-control","slot":"1"},{"N":"axis","name":"ancestor","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}repeat"}]}]},{"N":"let","line":"2999","var":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","as":"1","slot":"2","eval":"13","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"let","line":"2996","var":"Q{}context-indexes","as":"*AO","slot":"3","eval":"8","C":[{"N":"convert","line":"2997","from":"A","to":"AO","flags":"p","diag":"3|0|XTTE0570|context-indexes","C":[{"N":"cvUntyped","to":"AO","diag":"3|0|XTTE0570|context-indexes","C":[{"N":"data","diag":"3|0|XTTE0570|context-indexes","C":[{"N":"forEach","C":[{"N":"sort","C":[{"N":"slash","role":"select","C":[{"N":"varRef","name":"Q{}xforms-control","slot":"1"},{"N":"fn","name":"reverse","C":[{"N":"axis","name":"ancestor","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}repeat"}]}]},{"N":"sortKey","line":"2998","comp":"DESC|NC11","C":[{"N":"fn","role":"select","name":"position"},{"N":"str","role":"order","val":"descending"},{"N":"str","role":"dataType","val":"number"},{"N":"str","role":"lang","val":""},{"N":"str","role":"caseOrder","val":"#default"},{"N":"str","role":"stable","val":"yes"},{"N":"str","role":"collation","val":"http:\/\/www.w3.org\/2005\/xpath-functions\/collation\/codepoint"}]}]},{"N":"ifCall","line":"2999","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"varRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","slot":"2"},{"N":"str","val":"getRepeatIndex"},{"N":"arrayBlock","C":[{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"attVal","name":"Q{}id","chk":"0"}]}]}]}]}]}]}]},{"N":"let","line":"3003","var":"Q{}control-index","as":"1AS","slot":"4","eval":"8","C":[{"N":"fn","name":"string-join","C":[{"N":"varRef","name":"Q{}context-indexes","slot":"3"},{"N":"str","val":"."}]},{"N":"sequence","line":"3004","C":[{"N":"message","C":[{"N":"sequence","role":"select","C":[{"N":"valueOf","C":[{"N":"str","val":"[xforms-focus] Control '"}]},{"N":"varRef","name":"Q{}control","slot":"0"},{"N":"valueOf","C":[{"N":"str","val":"' has index '"}]},{"N":"varRef","name":"Q{}control-index","slot":"4"},{"N":"valueOf","flags":"S","C":[{"N":"str","val":"'"}]}]},{"N":"str","role":"terminate","val":"no"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]},{"N":"ifCall","line":"3005","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"setFocus"},{"N":"arrayBlock","C":[{"N":"fn","name":"concat","C":[{"N":"varRef","name":"Q{}control","slot":"0"},{"N":"str","val":"-"},{"N":"varRef","name":"Q{}control-index","slot":"4"}]}]}]}]}]}]}]},{"N":"true"},{"N":"ifCall","line":"3008","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"setFocus"},{"N":"arrayBlock","C":[{"N":"varRef","name":"Q{}control","slot":"0"}]}]}]}]}]}]}]},{"N":"co","id":"41","binds":"","C":[{"N":"globalParam","name":"Q{}xform-html-id","as":"1AS","line":"79","module":"saxon-xforms.xsl","visibility":"PUBLIC","C":[{"N":"str","val":"xForm"}]}]},{"N":"co","id":"42","binds":"","C":[{"N":"function","name":"Q{http:\/\/www.w3.org\/2002\/xforms}random","line":"109","module":"xforms-function-library.xsl","eval":"16","flags":"pU","as":"1AO","slots":"0","C":[{"N":"check","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"110","card":"1","diag":"3|0|XTTE0570|randomNumber","C":[{"N":"convert","from":"A","to":"AO","flags":"p","diag":"3|0|XTTE0570|randomNumber","C":[{"N":"cvUntyped","to":"AO","diag":"3|0|XTTE0570|randomNumber","C":[{"N":"data","diag":"3|0|XTTE0570|randomNumber","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"Math.random"},{"N":"array","size":"0"}]}]}]}]}]}]}]},{"N":"co","id":"13","binds":"31","C":[{"N":"template","name":"Q{}xforms-recalculate","flags":"os","line":"2890","module":"saxon-xforms.xsl","slots":"18","C":[{"N":"let","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"2934","var":"Q{http:\/\/saxon.sf.net\/generated-variable}v6","as":"1","slot":"0","eval":"13","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"let","line":"2898","var":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","as":"1","slot":"1","eval":"13","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"sequence","line":"2891","C":[{"N":"message","C":[{"N":"valueOf","role":"select","C":[{"N":"str","val":"[xforms-recalculate] START"}]},{"N":"str","role":"terminate","val":"no"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]},{"N":"let","line":"2893","var":"Q{}bindings","as":"*NE nQ{http:\/\/www.w3.org\/2002\/xforms}bind","slot":"2","eval":"8","C":[{"N":"treat","as":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}bind","diag":"3|0|XTTE0570|bindings","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"getBindings"},{"N":"array","size":"0"}]}]},{"N":"let","line":"2899","var":"Q{http:\/\/saxon.sf.net\/generated-variable}v1","as":"*NE nQ{http:\/\/www.w3.org\/2002\/xforms}bind","slot":"3","eval":"4","C":[{"N":"filter","flags":"b","C":[{"N":"varRef","name":"Q{}bindings","slot":"2"},{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}calculate"}]}]},{"N":"let","line":"2895","var":"Q{}instance-keys","slot":"4","eval":"8","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"getInstanceKeys"},{"N":"array","size":"0"}]},{"N":"forEach","line":"2896","C":[{"N":"varRef","name":"Q{}instance-keys","slot":"4"},{"N":"let","line":"2897","var":"Q{}instance-id","as":"1AS","slot":"5","eval":"16","C":[{"N":"treat","as":"AS","diag":"3|0|XTTE0570|instance-id","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|instance-id","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|instance-id","C":[{"N":"data","diag":"3|0|XTTE0570|instance-id","C":[{"N":"dot"}]}]}]}]},{"N":"let","line":"2898","var":"Q{}instanceXML","slot":"6","eval":"8","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"varRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","slot":"1"},{"N":"str","val":"getInstance"},{"N":"arrayBlock","C":[{"N":"dot"}]}]},{"N":"let","line":"2915","var":"Q{http:\/\/saxon.sf.net\/generated-variable}v5","as":"1N","slot":"7","eval":"13","C":[{"N":"treat","as":"N","diag":"4|0|XTTE3170|xsl:evaluate\/namespace-context","C":[{"N":"check","card":"1","diag":"4|0|XTTE3170|xsl:evaluate\/namespace-context","C":[{"N":"varRef","name":"Q{}instanceXML","slot":"6"}]}]},{"N":"let","var":"Q{http:\/\/saxon.sf.net\/generated-variable}v4","as":"?","slot":"8","eval":"13","C":[{"N":"check","card":"?","diag":"4|0|XTTE3210|xsl:evaluate\/context-item","C":[{"N":"varRef","name":"Q{}instanceXML","slot":"6"}]},{"N":"let","line":"2906","var":"Q{http:\/\/saxon.sf.net\/generated-variable}v3","as":"1N","slot":"9","eval":"13","C":[{"N":"treat","as":"N","diag":"4|0|XTTE3170|xsl:evaluate\/namespace-context","C":[{"N":"check","card":"1","diag":"4|0|XTTE3170|xsl:evaluate\/namespace-context","C":[{"N":"varRef","name":"Q{}instanceXML","slot":"6"}]}]},{"N":"let","var":"Q{http:\/\/saxon.sf.net\/generated-variable}v2","as":"?","slot":"10","eval":"13","C":[{"N":"check","card":"?","diag":"4|0|XTTE3210|xsl:evaluate\/context-item","C":[{"N":"varRef","name":"Q{}instanceXML","slot":"6"}]},{"N":"let","line":"2899","var":"Q{}instance-calculation-bindings","as":"*NE nQ{http:\/\/www.w3.org\/2002\/xforms}bind","slot":"11","eval":"3","C":[{"N":"filter","flags":"b","C":[{"N":"varRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}v1","slot":"3"},{"N":"vc","op":"eq","onEmpty":"0","comp":"CCC","C":[{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"attVal","name":"Q{}instance-context","chk":"0"}]},{"N":"varRef","name":"Q{}instance-id","slot":"5"}]}]},{"N":"let","line":"2904","var":"Q{}calculated-nodes","as":"*N","slot":"12","eval":"8","C":[{"N":"treat","line":"2905","as":"N","diag":"3|0|XTTE0570|calculated-nodes","C":[{"N":"forEach","C":[{"N":"varRef","name":"Q{}instance-calculation-bindings","slot":"11"},{"N":"evaluate","line":"2906","dxns":"","C":[{"N":"let","role":"xpath","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"51","var":"Q{}input2","as":"1AS","slot":"13","eval":"8","C":[{"N":"fn","name":"string-join","C":[{"N":"analyzeString","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"saxon-xforms.xsl","line":"2906","C":[{"N":"check","role":"select","card":"1","diag":"0|0||xforms:impose","C":[{"N":"cvUntyped","to":"AS","C":[{"N":"attVal","name":"Q{}nodeset","chk":"0"}]}]},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"36","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"6","C":[{"N":"str","val":"instance"},{"N":"str","val":"index"},{"N":"str","val":"avg"},{"N":"str","val":"foo"},{"N":"str","val":"current-date"},{"N":"str","val":"random"}]},{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"fn","line":"37","name":"concat","C":[{"N":"str","val":"xforms:"},{"N":"dot","type":"1AS"}]},{"N":"true"},{"N":"dot","line":"41","type":"1AS"}]},{"N":"dot","role":"nonMatching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"46","type":"1AS"}]}]},{"N":"choose","line":"56","C":[{"N":"fn","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"13"},{"N":"str","val":"^\\s*\/"},{"N":"str","val":""}]},{"N":"fn","line":"57","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"13"},{"N":"str","val":"^\\s\/[^\/]+"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"fn","line":"60","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"13"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":""}]},{"N":"fn","line":"61","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"13"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"true"},{"N":"varRef","line":"64","name":"Q{}input2","slot":"13"}]}]},{"N":"varRef","role":"cxt","name":"Q{http:\/\/saxon.sf.net\/generated-variable}v2","slot":"10"},{"N":"varRef","role":"nsCxt","name":"Q{http:\/\/saxon.sf.net\/generated-variable}v3","slot":"9"},{"N":"str","role":"sa","val":"no"},{"N":"map","role":"options","size":"0"},{"N":"map","role":"wp","size":"0"}]}]}]},{"N":"let","line":"2911","var":"Q{}calculated-values","as":"*AS","slot":"14","eval":"8","C":[{"N":"forEach","line":"2912","C":[{"N":"varRef","name":"Q{}instance-calculation-bindings","slot":"11"},{"N":"let","line":"2914","var":"Q{}value","as":"?AS","slot":"15","eval":"7","C":[{"N":"treat","line":"2915","as":"AS","diag":"3|0|XTTE0570|value","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|value","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|value","C":[{"N":"data","diag":"3|0|XTTE0570|value","C":[{"N":"evaluate","dxns":"","C":[{"N":"let","role":"xpath","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"51","var":"Q{}input2","as":"1AS","slot":"16","eval":"8","C":[{"N":"fn","name":"string-join","C":[{"N":"analyzeString","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"saxon-xforms.xsl","line":"2915","C":[{"N":"check","role":"select","card":"1","diag":"0|0||xforms:impose","C":[{"N":"cvUntyped","to":"AS","C":[{"N":"attVal","name":"Q{}calculate","chk":"0"}]}]},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"36","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"6","C":[{"N":"str","val":"instance"},{"N":"str","val":"index"},{"N":"str","val":"avg"},{"N":"str","val":"foo"},{"N":"str","val":"current-date"},{"N":"str","val":"random"}]},{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"fn","line":"37","name":"concat","C":[{"N":"str","val":"xforms:"},{"N":"dot","type":"1AS"}]},{"N":"true"},{"N":"dot","line":"41","type":"1AS"}]},{"N":"dot","role":"nonMatching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"46","type":"1AS"}]}]},{"N":"choose","line":"56","C":[{"N":"fn","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"16"},{"N":"str","val":"^\\s*\/"},{"N":"str","val":""}]},{"N":"fn","line":"57","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"16"},{"N":"str","val":"^\\s\/[^\/]+"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"fn","line":"60","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"16"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":""}]},{"N":"fn","line":"61","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"16"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"true"},{"N":"varRef","line":"64","name":"Q{}input2","slot":"16"}]}]},{"N":"varRef","role":"cxt","name":"Q{http:\/\/saxon.sf.net\/generated-variable}v4","slot":"8"},{"N":"varRef","role":"nsCxt","name":"Q{http:\/\/saxon.sf.net\/generated-variable}v5","slot":"7"},{"N":"str","role":"sa","val":"no"},{"N":"map","role":"options","size":"0"},{"N":"map","role":"wp","size":"0"}]}]}]}]}]},{"N":"first","line":"2923","C":[{"N":"sequence","C":[{"N":"varRef","name":"Q{}value","slot":"15"},{"N":"str","val":""}]}]}]}]},{"N":"let","line":"2927","var":"Q{}updatedInstanceXML","as":"1NE","slot":"17","eval":"16","C":[{"N":"treat","line":"2928","as":"NE","diag":"3|0|XTTE0570|updatedInstanceXML","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|updatedInstanceXML","C":[{"N":"applyT","mode":"Q{}recalculate","bSlot":"0","C":[{"N":"varRef","role":"select","name":"Q{}instanceXML","slot":"6"},{"N":"withParam","name":"Q{}updated-nodes","flags":"t","as":"*N","C":[{"N":"varRef","line":"2929","name":"Q{}calculated-nodes","slot":"12"}]},{"N":"withParam","name":"Q{}updated-values","flags":"t","as":"*AS","C":[{"N":"varRef","line":"2930","name":"Q{}calculated-values","slot":"14"}]}]}]}]},{"N":"ifCall","line":"2934","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"varRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}v6","slot":"0"},{"N":"str","val":"setInstance"},{"N":"arrayBlock","C":[{"N":"varRef","name":"Q{}instance-id","slot":"5"},{"N":"varRef","name":"Q{}updatedInstanceXML","slot":"17"}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"N":"co","id":"43","binds":"","C":[{"N":"globalParam","name":"Q{}xforms-file-global","as":"?AS","line":"81","module":"saxon-xforms.xsl","visibility":"PUBLIC","C":[{"N":"empty"}]}]},{"N":"co","id":"44","binds":"","C":[{"N":"function","name":"Q{http:\/\/www.w3.org\/2002\/xforms}addNamespaceDeclarations","line":"2154","module":"saxon-xforms.xsl","eval":"9","flags":"pU","as":"1NE","slots":"1","C":[{"N":"arg","name":"Q{}this","as":"1NE"},{"N":"compElem","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"2156","C":[{"N":"fn","role":"name","name":"name","C":[{"N":"varRef","name":"Q{}this","slot":"0"}]},{"N":"sequence","role":"content","line":"2157","C":[{"N":"namespace","flags":"l","C":[{"N":"str","role":"name","val":"xforms"},{"N":"str","role":"select","val":"http:\/\/www.w3.org\/2002\/xforms"}]},{"N":"forEach","line":"2158","C":[{"N":"filter","flags":"b","C":[{"N":"filter","flags":"b","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"descendant","nodeTest":"NE"}]},{"N":"fn","name":"boolean","C":[{"N":"fn","name":"namespace-uri","C":[{"N":"dot","type":"1NE"}]}]}]},{"N":"fn","name":"not","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"sequence","C":[{"N":"slash","C":[{"N":"fn","name":"reverse","C":[{"N":"axis","name":"ancestor","nodeTest":"NE"}]},{"N":"fn","name":"namespace-uri","C":[{"N":"dot","type":"1NE"}]}]},{"N":"slash","C":[{"N":"fn","name":"reverse","C":[{"N":"axis","name":"preceding","nodeTest":"NE"}]},{"N":"fn","name":"namespace-uri","C":[{"N":"dot","type":"1NE"}]}]}]},{"N":"fn","name":"namespace-uri","C":[{"N":"dot","type":"1NE"}]}]}]}]},{"N":"namespace","line":"2161","flags":"l","C":[{"N":"fn","role":"name","line":"2160","name":"substring-before","C":[{"N":"fn","name":"name","C":[{"N":"dot","type":"1NE"}]},{"N":"str","val":":"}]},{"N":"convert","role":"select","from":"AU","to":"AS","C":[{"N":"fn","line":"2159","name":"namespace-uri","C":[{"N":"dot","type":"1NE"}]}]}]}]},{"N":"copyOf","line":"2163","flags":"c","C":[{"N":"sequence","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA"}]},{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"child","nodeTest":"N u[NE,NP,NC,NT]"}]}]}]}]}]}]}]},{"N":"co","id":"9","binds":"2 45 31 46 47 48 21","C":[{"N":"template","name":"Q{}xforms-submit","flags":"os","line":"3021","module":"saxon-xforms.xsl","slots":"22","C":[{"N":"sequence","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"3022","C":[{"N":"param","name":"Q{}submission","slot":"0","flags":"i","as":"1AS","C":[{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|submission","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|submission","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|submission","C":[{"N":"data","diag":"8|0|XTTE0590|submission","C":[{"N":"supplied","slot":"0"}]}]}]}]}]},{"N":"let","line":"3024","var":"Q{}submission-map","as":"1FM","slot":"1","eval":"16","C":[{"N":"treat","as":"FM","diag":"3|0|XTTE0570|submission-map","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|submission-map","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"getSubmission"},{"N":"arrayBlock","C":[{"N":"varRef","name":"Q{}submission","slot":"0"}]}]}]}]},{"N":"let","line":"3025","var":"Q{}actions","as":"*FM","slot":"2","eval":"8","C":[{"N":"treat","as":"FM","diag":"3|0|XTTE0570|actions","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"getAction"},{"N":"arrayBlock","C":[{"N":"varRef","name":"Q{}submission","slot":"0"}]}]}]},{"N":"let","line":"3032","var":"Q{}refi","as":"?AS","slot":"3","eval":"7","C":[{"N":"treat","as":"AS","diag":"3|0|XTTE0570|refi","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|refi","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|refi","C":[{"N":"data","diag":"3|0|XTTE0570|refi","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}submission-map","slot":"1"},{"N":"str","val":"@ref"}]}]}]}]}]},{"N":"let","line":"3034","var":"Q{}instance-id","as":"1AS","slot":"4","eval":"16","C":[{"N":"treat","as":"AS","diag":"3|0|XTTE0570|instance-id","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|instance-id","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|instance-id","C":[{"N":"data","diag":"3|0|XTTE0570|instance-id","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}submission-map","slot":"1"},{"N":"str","val":"@instance"}]}]}]}]}]},{"N":"let","line":"3037","var":"Q{}instanceXML","as":"?NE","slot":"5","eval":"7","C":[{"N":"treat","as":"NE","diag":"3|0|XTTE0570|instanceXML","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|instanceXML","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"getInstance"},{"N":"arrayBlock","C":[{"N":"varRef","name":"Q{}instance-id","slot":"4"}]}]}]}]},{"N":"choose","line":"3040","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}instanceXML","slot":"5"}]},{"N":"let","line":"3042","var":"Q{}updatedInstanceXML","as":"1NE","slot":"6","eval":"16","C":[{"N":"choose","line":"3044","C":[{"N":"gc","op":"=","card":"N:1","comp":"GAC|http:\/\/www.w3.org\/2005\/xpath-functions\/collation\/codepoint","C":[{"N":"data","diag":"1|0||=","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"getDeferredUpdateFlag"},{"N":"array","size":"1","C":[{"N":"str","val":"recalculate"}]}]}]},{"N":"str","val":"true"}]},{"N":"let","line":"3050","var":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","as":"1NE","slot":"7","eval":"13","C":[{"N":"check","card":"1","diag":"4|0|XTTE3170|xsl:evaluate\/namespace-context","C":[{"N":"varRef","name":"Q{}instanceXML","slot":"5"}]},{"N":"let","line":"3045","var":"Q{}data-fields","as":"*NE","slot":"8","eval":"8","C":[{"N":"filter","flags":"b","C":[{"N":"filter","flags":"b","C":[{"N":"filter","flags":"b","C":[{"N":"slash","simple":"1","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}page","type":"1ND"},{"N":"axis","name":"descendant","nodeTest":"NE"}]},{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}data-ref"}]}]},{"N":"or","op":"or","C":[{"N":"or","op":"or","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"self","nodeTest":"NE nQ{}input"}]},{"N":"fn","name":"exists","C":[{"N":"axis","name":"self","nodeTest":"NE nQ{}select"}]}]},{"N":"fn","name":"exists","C":[{"N":"axis","name":"self","nodeTest":"NE nQ{}textarea"}]}]}]},{"N":"vc","op":"eq","onEmpty":"0","comp":"CCC","C":[{"N":"ufCall","name":"Q{http:\/\/www.w3.org\/2002\/xforms}getInstanceId","tailCall":"false","bSlot":"0","eval":"16","C":[{"N":"check","card":"1","diag":"0|0||xforms:getInstanceId","C":[{"N":"cvUntyped","to":"AS","C":[{"N":"attVal","name":"Q{}data-ref","chk":"0"}]}]}]},{"N":"varRef","name":"Q{}instance-id","slot":"4"}]}]},{"N":"let","line":"3048","var":"Q{}calculated-nodes","as":"*N","slot":"9","eval":"8","C":[{"N":"treat","line":"3049","as":"N","diag":"3|0|XTTE0570|calculated-nodes","C":[{"N":"forEach","C":[{"N":"varRef","name":"Q{}data-fields","slot":"8"},{"N":"evaluate","line":"3050","dxns":"","C":[{"N":"let","role":"xpath","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"51","var":"Q{}input2","as":"1AS","slot":"10","eval":"8","C":[{"N":"fn","name":"string-join","C":[{"N":"analyzeString","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"saxon-xforms.xsl","line":"3050","C":[{"N":"fn","role":"select","name":"string","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}data-ref"}]},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"36","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"6","C":[{"N":"str","val":"instance"},{"N":"str","val":"index"},{"N":"str","val":"avg"},{"N":"str","val":"foo"},{"N":"str","val":"current-date"},{"N":"str","val":"random"}]},{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"fn","line":"37","name":"concat","C":[{"N":"str","val":"xforms:"},{"N":"dot","type":"1AS"}]},{"N":"true"},{"N":"dot","line":"41","type":"1AS"}]},{"N":"dot","role":"nonMatching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"46","type":"1AS"}]}]},{"N":"choose","line":"56","C":[{"N":"fn","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"10"},{"N":"str","val":"^\\s*\/"},{"N":"str","val":""}]},{"N":"fn","line":"57","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"10"},{"N":"str","val":"^\\s\/[^\/]+"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"fn","line":"60","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"10"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":""}]},{"N":"fn","line":"61","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"10"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"true"},{"N":"varRef","line":"64","name":"Q{}input2","slot":"10"}]}]},{"N":"varRef","role":"cxt","name":"Q{}instanceXML","slot":"5"},{"N":"varRef","role":"nsCxt","name":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","slot":"7"},{"N":"str","role":"sa","val":"no"},{"N":"map","role":"options","size":"0"},{"N":"map","role":"wp","size":"0"}]}]}]},{"N":"let","line":"3055","var":"Q{}calculated-values","as":"*AS","slot":"11","eval":"3","C":[{"N":"forEach","line":"3056","C":[{"N":"varRef","name":"Q{}data-fields","slot":"8"},{"N":"let","line":"3058","var":"Q{}value","as":"1AS","slot":"12","eval":"8","C":[{"N":"cvUntyped","line":"3060","to":"AS","diag":"3|0|XTTE0570|value","C":[{"N":"cast","flags":"a","as":"1AZ","C":[{"N":"fn","name":"string-join","C":[{"N":"convert","from":"A","to":"AS","C":[{"N":"data","C":[{"N":"mergeAdj","C":[{"N":"applyT","mode":"Q{}get-field","bSlot":"1","C":[{"N":"dot","role":"select","type":"1NE"}]}]}]}]},{"N":"str","val":""}]}]}]},{"N":"first","line":"3067","C":[{"N":"sequence","C":[{"N":"varRef","name":"Q{}value","slot":"12"},{"N":"str","val":""}]}]}]}]},{"N":"check","line":"3071","card":"1","diag":"3|0|XTTE0570|updatedInstanceXML","C":[{"N":"sequence","C":[{"N":"treat","as":"NE","diag":"3|0|XTTE0570|updatedInstanceXML","C":[{"N":"applyT","mode":"Q{}recalculate","bSlot":"2","C":[{"N":"varRef","role":"select","name":"Q{}instanceXML","slot":"5"},{"N":"withParam","name":"Q{}updated-nodes","flags":"t","as":"*N","C":[{"N":"varRef","line":"3072","name":"Q{}calculated-nodes","slot":"9"}]},{"N":"withParam","name":"Q{}updated-values","flags":"t","as":"*AS","C":[{"N":"varRef","line":"3073","name":"Q{}calculated-values","slot":"11"}]}]}]},{"N":"treat","line":"3076","as":"NE","diag":"3|0|XTTE0570|updatedInstanceXML","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"clearDeferredUpdateFlag"},{"N":"array","size":"1","C":[{"N":"str","val":"recalculate"}]}]}]}]}]}]}]}]}]},{"N":"true"},{"N":"check","line":"3079","card":"1","diag":"3|0|XTTE0570|updatedInstanceXML","C":[{"N":"varRef","name":"Q{}instanceXML","slot":"5"}]}]},{"N":"let","line":"3090","var":"Q{}required-fields-check","slot":"13","eval":"3","C":[{"N":"ufCall","name":"Q{http:\/\/www.w3.org\/2002\/xforms}check-required-fields","tailCall":"false","bSlot":"3","eval":"6","C":[{"N":"varRef","name":"Q{}updatedInstanceXML","slot":"6"}]},{"N":"let","line":"3091","var":"Q{}constrained-fields-check","slot":"14","eval":"3","C":[{"N":"ufCall","name":"Q{http:\/\/www.w3.org\/2002\/xforms}check-constraints-on-fields","tailCall":"false","bSlot":"4","eval":"6","C":[{"N":"varRef","name":"Q{}updatedInstanceXML","slot":"6"}]},{"N":"choose","line":"3098","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"empty","C":[{"N":"varRef","name":"Q{}required-fields-check","slot":"13"}]},{"N":"fn","name":"empty","C":[{"N":"varRef","name":"Q{}constrained-fields-check","slot":"14"}]}]},{"N":"let","line":"3100","var":"Q{}requestBody","as":"?N","slot":"15","eval":"7","C":[{"N":"choose","line":"3102","C":[{"N":"varRef","name":"Q{}refi","slot":"3"},{"N":"treat","line":"3103","as":"N","diag":"3|0|XTTE0570|requestBody","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|requestBody","C":[{"N":"evaluate","dxns":"","C":[{"N":"let","role":"xpath","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"51","var":"Q{}input2","as":"1AS","slot":"16","eval":"8","C":[{"N":"fn","name":"string-join","C":[{"N":"analyzeString","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"saxon-xforms.xsl","line":"3103","C":[{"N":"check","role":"select","card":"1","diag":"0|0||xforms:impose","C":[{"N":"varRef","name":"Q{}refi","slot":"3"}]},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"36","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"6","C":[{"N":"str","val":"instance"},{"N":"str","val":"index"},{"N":"str","val":"avg"},{"N":"str","val":"foo"},{"N":"str","val":"current-date"},{"N":"str","val":"random"}]},{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"fn","line":"37","name":"concat","C":[{"N":"str","val":"xforms:"},{"N":"dot","type":"1AS"}]},{"N":"true"},{"N":"dot","line":"41","type":"1AS"}]},{"N":"dot","role":"nonMatching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"46","type":"1AS"}]}]},{"N":"choose","line":"56","C":[{"N":"fn","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"16"},{"N":"str","val":"^\\s*\/"},{"N":"str","val":""}]},{"N":"fn","line":"57","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"16"},{"N":"str","val":"^\\s\/[^\/]+"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"fn","line":"60","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"16"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":""}]},{"N":"fn","line":"61","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"16"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"true"},{"N":"varRef","line":"64","name":"Q{}input2","slot":"16"}]}]},{"N":"varRef","role":"cxt","name":"Q{}instanceXML","slot":"5"},{"N":"check","role":"nsCxt","card":"1","diag":"4|0|XTTE3170|xsl:evaluate\/namespace-context","C":[{"N":"varRef","name":"Q{}instanceXML","slot":"5"}]},{"N":"str","role":"sa","val":"no"},{"N":"map","role":"options","size":"0"},{"N":"map","role":"wp","size":"0"}]}]}]},{"N":"true"},{"N":"varRef","line":"3106","name":"Q{}updatedInstanceXML","slot":"6"}]},{"N":"let","line":"3113","var":"Q{}requestBodyDoc","as":"?ND","slot":"17","eval":"7","C":[{"N":"choose","line":"3114","C":[{"N":"fn","name":"exists","C":[{"N":"filter","flags":"b","C":[{"N":"varRef","name":"Q{}requestBody","slot":"15"},{"N":"fn","name":"exists","C":[{"N":"axis","name":"self","nodeTest":"NE"}]}]}]},{"N":"doc","line":"3115","C":[{"N":"varRef","line":"3116","name":"Q{}requestBody","slot":"15"}]}]},{"N":"let","line":"3121","var":"Q{}method","as":"1AS","slot":"18","eval":"16","C":[{"N":"treat","as":"AS","diag":"3|0|XTTE0570|method","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|method","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|method","C":[{"N":"data","diag":"3|0|XTTE0570|method","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}submission-map","slot":"1"},{"N":"str","val":"@method"}]}]}]}]}]},{"N":"let","line":"3123","var":"Q{}serialization","as":"?AS","slot":"19","eval":"7","C":[{"N":"treat","as":"AS","diag":"3|0|XTTE0570|serialization","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|serialization","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|serialization","C":[{"N":"data","diag":"3|0|XTTE0570|serialization","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}submission-map","slot":"1"},{"N":"str","val":"@serialization"}]}]}]}]}]},{"N":"let","line":"3125","var":"Q{}query-parameters","as":"?AS","slot":"20","eval":"7","C":[{"N":"choose","line":"3126","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}serialization","slot":"19"}]},{"N":"vc","op":"eq","onEmpty":"0","comp":"CCC","C":[{"N":"varRef","name":"Q{}serialization","slot":"19"},{"N":"str","val":"application\/x-www-form-urlencoded"}]}]},{"N":"fn","line":"3144","name":"string-join","C":[{"N":"choose","line":"3130","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}requestBodyDoc","slot":"17"}]},{"N":"forEach","line":"3131","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}requestBody","slot":"15"},{"N":"axis","name":"child","nodeTest":"NE"}]},{"N":"fn","line":"3132","name":"concat","C":[{"N":"fn","name":"local-name","C":[{"N":"dot","type":"1NE"}]},{"N":"str","val":"="},{"N":"fn","name":"string","C":[{"N":"dot","type":"1NE"}]}]}]}]},{"N":"str","val":"&"}]}]},{"N":"let","line":"3148","var":"Q{}href-base","as":"1AS","slot":"21","eval":"16","C":[{"N":"treat","as":"AS","diag":"3|0|XTTE0570|href-base","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|href-base","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|href-base","C":[{"N":"data","diag":"3|0|XTTE0570|href-base","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}submission-map","slot":"1"},{"N":"str","val":"@resource"}]}]}]}]}]},{"N":"ifCall","line":"3193","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}schedule-action","type":"*","C":[{"N":"int","val":"0"},{"N":"empty"},{"N":"callT","name":"Q{}HTTPsubmit","bSlot":"5","C":[{"N":"withParam","name":"Q{}instance-id","flags":"c","as":"1AS","C":[{"N":"varRef","line":"3194","name":"Q{}instance-id","slot":"4"}]},{"N":"withParam","name":"Q{}targetref","flags":"c","as":"?AS","C":[{"N":"treat","line":"3195","as":"AS","diag":"8|0|XTTE0590|targetref","C":[{"N":"check","card":"?","diag":"8|0|XTTE0590|targetref","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|targetref","C":[{"N":"data","diag":"8|0|XTTE0590|targetref","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}submission-map","slot":"1"},{"N":"str","val":"@targetref"}]}]}]}]}]}]},{"N":"withParam","name":"Q{}replace","flags":"c","as":"?AS","C":[{"N":"treat","line":"3196","as":"AS","diag":"8|0|XTTE0590|replace","C":[{"N":"check","card":"?","diag":"8|0|XTTE0590|replace","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|replace","C":[{"N":"data","diag":"8|0|XTTE0590|replace","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}submission-map","slot":"1"},{"N":"str","val":"@replace"}]}]}]}]}]}]},{"N":"withParam","name":"Q{}when-done","flags":"t","as":"*FM","C":[{"N":"filter","line":"3197","flags":"b","C":[{"N":"varRef","name":"Q{}actions","slot":"2"},{"N":"gc","op":"=","card":"N:1","comp":"GAC|http:\/\/www.w3.org\/2005\/xpath-functions\/collation\/codepoint","C":[{"N":"data","diag":"1|0||=","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"dot","type":"1FM"},{"N":"str","val":"@event"}]}]},{"N":"str","val":"xforms-submit-done"}]}]}]}]},{"N":"ifCall","line":"3169","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}merge","type":"1FM","C":[{"N":"sequence","C":[{"N":"choose","C":[{"N":"fn","name":"not","C":[{"N":"compareToString","op":"eq","val":"GET","C":[{"N":"fn","name":"upper-case","C":[{"N":"varRef","name":"Q{}method","slot":"18"}]}]}]},{"N":"sequence","line":"3171","C":[{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}requestBodyDoc","slot":"17"}]},{"N":"ifCall","line":"3172","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"body"},{"N":"varRef","name":"Q{}requestBodyDoc","slot":"17"}]},{"N":"true"},{"N":"ifCall","line":"3175","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"body"},{"N":"varRef","name":"Q{}requestBody","slot":"15"}]}]},{"N":"ifCall","line":"3178","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"media-type"},{"N":"treat","line":"3164","as":"AS","diag":"3|0|XTTE0570|mediatype","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|mediatype","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|mediatype","C":[{"N":"data","diag":"3|0|XTTE0570|mediatype","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}submission-map","slot":"1"},{"N":"str","val":"@mediatype"}]}]}]}]}]}]}]}]},{"N":"ifCall","line":"3181","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"method"},{"N":"varRef","name":"Q{}method","slot":"18"}]},{"N":"ifCall","line":"3182","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"href"},{"N":"choose","line":"3152","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}query-parameters","slot":"20"}]},{"N":"fn","line":"3153","name":"concat","C":[{"N":"varRef","name":"Q{}href-base","slot":"21"},{"N":"str","val":"?"},{"N":"varRef","name":"Q{}query-parameters","slot":"20"}]},{"N":"fn","line":"3155","name":"exists","C":[{"N":"filter","flags":"b","C":[{"N":"varRef","name":"Q{}requestBody","slot":"15"},{"N":"fn","name":"exists","C":[{"N":"axis","name":"self","nodeTest":"NT"}]}]}]},{"N":"fn","line":"3156","name":"concat","C":[{"N":"varRef","name":"Q{}href-base","slot":"21"},{"N":"str","val":"\/"},{"N":"data","diag":"0|2||fn:concat","C":[{"N":"varRef","name":"Q{}requestBody","slot":"15"}]}]},{"N":"true"},{"N":"varRef","line":"3159","name":"Q{}href-base","slot":"21"}]}]}]},{"N":"map","size":"2","C":[{"N":"str","val":"duplicates"},{"N":"str","val":"reject"},{"N":"str","val":"duplicates-error-code"},{"N":"str","val":"XTDE3365"}]}]}]}]}]}]}]}]}]},{"N":"true"},{"N":"ifCall","line":"3215","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"alert"},{"N":"arrayBlock","C":[{"N":"fn","name":"serialize","C":[{"N":"doc","line":"3206","flags":"t","C":[{"N":"sequence","C":[{"N":"forEach","C":[{"N":"varRef","name":"Q{}constrained-fields-check","slot":"14"},{"N":"valueOf","line":"3208","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"Invalid field value: "},{"N":"fn","name":"serialize","C":[{"N":"slash","simple":"1","C":[{"N":"treat","as":"N","diag":"1|0|XPTY0019|\/","C":[{"N":"dot","line":"3207"}]},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}data-ref"}]}]},{"N":"str","val":"\n"}]}]}]},{"N":"forEach","line":"3210","C":[{"N":"varRef","name":"Q{}required-fields-check","slot":"13"},{"N":"valueOf","line":"3212","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"Required field is empty: "},{"N":"fn","name":"serialize","C":[{"N":"slash","line":"3211","simple":"1","C":[{"N":"dot","type":"1NE"},{"N":"axis","line":"3212","name":"attribute","nodeTest":"NA nQ{}data-ref"}]}]},{"N":"str","val":"\n"}]}]}]}]}]}]}]}]}]}]}]}]},{"N":"true"},{"N":"callT","line":"3221","name":"Q{}logToPage","bSlot":"6","flags":"t","C":[{"N":"withParam","name":"Q{}message","flags":"c","as":"1AS","C":[{"N":"fn","line":"3222","name":"concat","C":[{"N":"str","val":"Unable to locate XForms instance relating to submission "},{"N":"fn","name":"serialize","C":[{"N":"varRef","name":"Q{}submission-map","slot":"1"}]}]}]},{"N":"withParam","name":"Q{}level","flags":"c","as":"1AS","C":[{"N":"str","val":"error"}]}]}]}]}]}]}]}]}]}]}]},{"N":"co","id":"19","binds":"39 37 49 50","C":[{"N":"template","name":"Q{}xforms-refresh","flags":"os","line":"2953","module":"saxon-xforms.xsl","slots":"0","C":[{"N":"sequence","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"2954","C":[{"N":"callT","name":"Q{}refreshOutputs-JS","bSlot":"0"},{"N":"callT","line":"2955","name":"Q{}refreshRepeats-JS","bSlot":"1"},{"N":"callT","line":"2956","name":"Q{}refreshElementsUsingIndexFunction-JS","bSlot":"2"},{"N":"callT","line":"2957","name":"Q{}refreshRelevantFields-JS","bSlot":"3","flags":"t"}]}]}]},{"N":"co","id":"32","binds":"51","C":[{"N":"template","name":"Q{}xforms-rebuild","flags":"os","line":"2828","module":"saxon-xforms.xsl","slots":"4","C":[{"N":"sequence","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"2829","C":[{"N":"param","name":"Q{}get-bindings","slot":"0","as":"1AB","C":[{"N":"false","role":"select"},{"N":"treat","role":"conversion","as":"AB","diag":"8|0|XTTE0590|get-bindings","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|get-bindings","C":[{"N":"cvUntyped","to":"AB","diag":"8|0|XTTE0590|get-bindings","C":[{"N":"data","diag":"8|0|XTTE0590|get-bindings","C":[{"N":"supplied","slot":"0"}]}]}]}]}]},{"N":"param","line":"2830","name":"Q{}model","slot":"1","flags":"tr","as":"1NE nQ{http:\/\/www.w3.org\/2002\/xforms}model","C":[{"N":"treat","role":"conversion","as":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}model","diag":"8|0|XTTE0590|model","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|model","C":[{"N":"supplied","slot":"1"}]}]}]},{"N":"choose","line":"2832","C":[{"N":"varRef","name":"Q{}get-bindings","slot":"0"},{"N":"let","line":"2838","var":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","as":"1","slot":"2","eval":"13","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"forEach","line":"2833","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}model","slot":"1"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}bind"}]},{"N":"let","line":"2834","var":"Q{}parsed-binding","as":"1NE","slot":"3","eval":"16","C":[{"N":"treat","line":"2835","as":"NE","diag":"3|0|XTTE0570|parsed-binding","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|parsed-binding","C":[{"N":"applyT","mode":"Q{}add-context","bSlot":"0","C":[{"N":"dot","role":"select","type":"1NE nQ{http:\/\/www.w3.org\/2002\/xforms}bind"}]}]}]},{"N":"ifCall","line":"2838","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"varRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","slot":"2"},{"N":"str","val":"setBinding"},{"N":"arrayBlock","C":[{"N":"varRef","name":"Q{}parsed-binding","slot":"3"}]}]}]}]}]}]}]}]}]},{"N":"co","id":"52","binds":"","C":[{"N":"mode","name":"Q{}set-field","onNo":"TC","flags":"W","patternSlots":"0","C":[{"N":"templateRule","prec":"0","prio":"-0.25","seq":"40","rank":"0","minImp":"0","slots":"1","matches":"NE n*:textarea","flags":"s","line":"2086","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE n*:textarea"},{"N":"sequence","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"2087","C":[{"N":"param","name":"Q{}value","slot":"0","flags":"t","C":[{"N":"str","role":"select","val":""},{"N":"supplied","role":"conversion","slot":"0"}]},{"N":"ifCall","line":"2091","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}get","type":"*","C":[{"N":"dot","type":"1NE n*:textarea"},{"N":"str","val":"value"}]}]}]},{"N":"templateRule","prec":"0","prio":"-0.25","seq":"39","rank":"0","minImp":"0","slots":"1","matches":"NE n*:select","flags":"s","line":"2072","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE n*:select"},{"N":"sequence","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"2073","C":[{"N":"param","name":"Q{}value","slot":"0","flags":"t","C":[{"N":"str","role":"select","val":""},{"N":"supplied","role":"conversion","slot":"0"}]},{"N":"forEach","line":"2075","C":[{"N":"filter","flags":"b","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{}option"},{"N":"gc","op":"=","card":"N:1","comp":"GAC|http:\/\/www.w3.org\/2005\/xpath-functions\/collation\/codepoint","C":[{"N":"data","diag":"1|1||=","C":[{"N":"varRef","name":"Q{}value","slot":"0"}]},{"N":"attVal","name":"Q{}value","chk":"0"}]}]},{"N":"ifCall","line":"2076","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}set-property","type":"?","C":[{"N":"str","val":"selected"},{"N":"true"},{"N":"dot","type":"1NE nQ{}option"}]}]}]}]},{"N":"templateRule","prec":"0","prio":"-0.25","seq":"38","rank":"0","minImp":"0","slots":"1","matches":"NE n*:input","flags":"s","line":"2052","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE n*:input"},{"N":"sequence","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"2053","C":[{"N":"param","name":"Q{}value","slot":"0","flags":"t","C":[{"N":"str","role":"select","val":""},{"N":"supplied","role":"conversion","slot":"0"}]},{"N":"choose","line":"2056","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}type"}]},{"N":"vc","op":"eq","onEmpty":"0","comp":"CCC","C":[{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"attVal","name":"Q{}type","chk":"0"}]},{"N":"str","val":"checkbox"}]}]},{"N":"ifCall","line":"2057","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}set-property","type":"?","C":[{"N":"str","val":"checked"},{"N":"choose","C":[{"N":"gc","op":"=","card":"N:1","comp":"GAC|http:\/\/www.w3.org\/2005\/xpath-functions\/collation\/codepoint","C":[{"N":"data","diag":"1|0||=","C":[{"N":"varRef","name":"Q{}value","slot":"0"}]},{"N":"str","val":"true"}]},{"N":"check","card":"?","diag":"0|1||ixsl:set-property","C":[{"N":"varRef","name":"Q{}value","slot":"0"}]},{"N":"true"},{"N":"str","val":""}]},{"N":"dot","type":"1NE n*:input"}]},{"N":"true"},{"N":"ifCall","line":"2060","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}set-property","type":"?","C":[{"N":"str","val":"value"},{"N":"check","card":"?","diag":"0|1||ixsl:set-property","C":[{"N":"varRef","name":"Q{}value","slot":"0"}]},{"N":"dot","type":"1NE n*:input"}]}]}]}]}]}]},{"N":"co","id":"49","binds":"53 38","C":[{"N":"template","name":"Q{}refreshElementsUsingIndexFunction-JS","flags":"os","line":"2406","module":"saxon-xforms.xsl","slots":"5","C":[{"N":"let","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"2416","var":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","as":"1","slot":"0","eval":"13","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"sequence","line":"2407","C":[{"N":"message","C":[{"N":"valueOf","role":"select","C":[{"N":"str","val":"[refreshElementsUsingIndexFunction-JS] START"}]},{"N":"str","role":"terminate","val":"no"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]},{"N":"let","line":"2409","var":"Q{}ElementsUsingIndexFunction-keys","slot":"1","eval":"8","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"getElementsUsingIndexFunctionKeys"},{"N":"array","size":"0"}]},{"N":"forEach","line":"2411","C":[{"N":"varRef","name":"Q{}ElementsUsingIndexFunction-keys","slot":"1"},{"N":"let","line":"2412","var":"Q{}this-key","as":"1AS","slot":"2","eval":"16","C":[{"N":"treat","as":"AS","diag":"3|0|XTTE0570|this-key","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|this-key","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|this-key","C":[{"N":"data","diag":"3|0|XTTE0570|this-key","C":[{"N":"dot"}]}]}]}]},{"N":"sequence","line":"2414","C":[{"N":"message","C":[{"N":"sequence","role":"select","C":[{"N":"valueOf","C":[{"N":"str","val":"[refreshElementsUsingIndexFunction-JS] Refreshing item with key '"}]},{"N":"varRef","name":"Q{}this-key","slot":"2"},{"N":"valueOf","flags":"S","C":[{"N":"str","val":"'"}]}]},{"N":"str","role":"terminate","val":"no"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]},{"N":"let","line":"2416","var":"Q{}this-element","as":"1NE","slot":"3","eval":"16","C":[{"N":"treat","as":"NE","diag":"3|0|XTTE0570|this-element","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|this-element","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"varRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","slot":"0"},{"N":"str","val":"getElementUsingIndexFunction"},{"N":"arrayBlock","C":[{"N":"varRef","name":"Q{}this-key","slot":"2"}]}]}]}]},{"N":"let","line":"2418","var":"Q{}this-element-refi","as":"1AS","slot":"4","eval":"16","C":[{"N":"treat","line":"2419","as":"AS","diag":"3|0|XTTE0570|this-element-refi","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|this-element-refi","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|this-element-refi","C":[{"N":"data","diag":"3|0|XTTE0570|this-element-refi","C":[{"N":"applyT","mode":"Q{}get-data-ref","bSlot":"0","C":[{"N":"varRef","role":"select","name":"Q{}this-element","slot":"3"}]}]}]}]}]},{"N":"resultDoc","line":"2422","global":"indent=no\ndoctype-system=http:\/\/www.w3.org\/TR\/xhtml1\/DTD\/xhtml1-transitional.dtd\nencoding=utf-8\nomit-xml-declaration=no\ndoctype-public=-\/\/W3C\/\/DTD XHTML 1.0 Transitional\/\/EN\nmethod=html\n","local":"method=Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}replace-content\n","C":[{"N":"fn","role":"href","name":"concat","C":[{"N":"str","val":"#"},{"N":"varRef","name":"Q{}this-key","slot":"2"}]},{"N":"applyT","role":"content","line":"2423","bSlot":"1","C":[{"N":"slash","role":"select","simple":"1","C":[{"N":"varRef","name":"Q{}this-element","slot":"3"},{"N":"axis","name":"child","nodeTest":"NE"}]},{"N":"withParam","name":"Q{}nodeset","flags":"t","as":"1AS","C":[{"N":"varRef","line":"2424","name":"Q{}this-element-refi","slot":"4"}]},{"N":"withParam","name":"Q{}recalculate","flags":"t","as":"1AB","C":[{"N":"true"}]}]}]}]}]}]}]}]}]}]}]}]}]},{"N":"co","id":"51","binds":"54 53","C":[{"N":"mode","name":"Q{}add-context","onNo":"TC","flags":"W","patternSlots":"0","C":[{"N":"templateRule","prec":"0","prio":"0.0","seq":"41","rank":"0","minImp":"0","slots":"2","matches":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}bind","flags":"s","line":"2850","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}bind"},{"N":"sequence","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"2851","C":[{"N":"param","name":"Q{}model-key","slot":"0","flags":"t","as":"1AS","C":[{"N":"str","role":"select","val":"saxon-forms-default-model"},{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|model-key","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|model-key","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|model-key","C":[{"N":"data","diag":"8|0|XTTE0590|model-key","C":[{"N":"supplied","slot":"0"}]}]}]}]}]},{"N":"copy","line":"2854","flags":"cin","sit":"1NE nQ{http:\/\/www.w3.org\/2002\/xforms}bind","C":[{"N":"sequence","role":"content","C":[{"N":"copyOf","flags":"c","C":[{"N":"axis","name":"attribute","nodeTest":"NA"}]},{"N":"att","line":"2855","name":"model-context","flags":"l","C":[{"N":"varRef","name":"Q{}model-key","slot":"0"}]},{"N":"let","line":"2857","var":"Q{}instance-context","as":"1AS","slot":"1","eval":"16","C":[{"N":"treat","line":"2858","as":"AS","diag":"3|0|XTTE0570|instance-context","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|instance-context","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|instance-context","C":[{"N":"data","diag":"3|0|XTTE0570|instance-context","C":[{"N":"applyT","mode":"Q{}get-context-instance-id","bSlot":"0","C":[{"N":"dot","role":"select","type":"1NE nQ{http:\/\/www.w3.org\/2002\/xforms}bind"},{"N":"withParam","name":"Q{}nodeset","as":"?AS","C":[{"N":"choose","line":"2859","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}nodeset"}]},{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"attVal","name":"Q{}nodeset","chk":"0"}]},{"N":"true"},{"N":"str","val":""}]}]}]}]}]}]}]},{"N":"sequence","line":"2863","C":[{"N":"att","name":"instance-context","flags":"l","C":[{"N":"varRef","name":"Q{}instance-context","slot":"1"}]},{"N":"choose","line":"2868","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}nodeset"}]},{"N":"att","line":"2869","name":"nodeset","flags":"l","C":[{"N":"fn","line":"2870","name":"string-join","C":[{"N":"convert","from":"A","to":"AS","C":[{"N":"data","C":[{"N":"mergeAdj","C":[{"N":"applyT","mode":"Q{}get-data-ref","bSlot":"1","C":[{"N":"dot","role":"select","type":"1NE nQ{http:\/\/www.w3.org\/2002\/xforms}bind"}]}]}]}]},{"N":"str","val":""}]}]},{"N":"true"},{"N":"att","line":"2874","name":"nodeset","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"instance("},{"N":"varRef","name":"Q{}instance-context","slot":"1"},{"N":"str","val":")"}]}]}]}]}]}]}]}]}]}]}]},{"N":"co","id":"55","binds":"","C":[{"N":"globalVariable","name":"Q{}saxon-forms-javascript","as":"1AS","line":"6","module":"xforms-javascript-library.xsl","visibility":"PRIVATE","C":[{"N":"str","val":"\n        var XFormsDoc = null;\n        var XForm = null;\n        var defaultInstance = null;\n        \n        var instances = {};\n        var bindings = [];\n        var actions = {};\n        var submissions = {};\n        var outputs = {};\n        var repeats = {};\n        var repeatContextNodesets = {};       \n        \n        var repeatIndexMap = {};\n        var repeatSizeMap = {};\n        var elementsUsingIndexFunction = {};\n                \n        var deferredUpdateFlags = {};\n                \n        var getCurrentDate = function(){\n            var today = new Date();\n            var dd = today.getDate();\n            var mm = today.getMonth() + 1; \/\/January is 0!\n            var yyyy = today.getFullYear();\n                \n            if(dd < 10) { dd = '0' + dd; }                 \n            if(mm < 10) { mm = '0' + mm; } \n                \n            today = yyyy + '-' + mm + '-' + dd;\n            return today;\n        }\n                \n        var setModelInstances = function(name, value) {\n            modelInstanceMap[name] = value;\n        } \n        var setModelInstance = function(modelId, instanceId, value) {\n                    \n            if (modelId in modelInstanceMap) {\n                var modelInstances = modelInstanceMap[modelId];\n                modelInstances[instanceId] = value;\n            }\n            else {\n                instanceMap = {};\n                instanceMap[instanceId] = value;\n                modelInstanceMap[modelId] = instanceMap;\n            }\n        } \n        \n        var setModelDefaultInstance = function(modelId, value) {\n            modelDefaultInstanceMap[modelId] = value;\n        }\n                \n        var getModelInstances = function(modelId) {\n            return modelInstanceMap[modelId];\n        } \n        var getModelInstance = function(modelId, instanceId) {\n            var modelInstances = modelInstanceMap[modelId];\n            return modelInstances[instanceId];\n        }\n                \n        var setModelInstanceKey = function(modelId, instanceId) {\n            if (modelId in modelInstanceKeyMap) {\n                var modelInstanceKeys = modelInstanceKeyMap[modelId];\n                modelInstanceKeys.push(instanceId);\n            }\n            else {\n                modelInstanceKeyMap[modelId] = [instanceId];\n            }\n        }\n                \n        var getModelInstanceKeys = function(modelId) {\n            return modelInstanceKeyMap[modelId];\n        }\n                \n        var setBinding = function(value) {\n            bindings.push(value);\n        } \n        var getBindings = function() {\n            return bindings;\n        }\n\n\n        var setXFormsDoc = function(doc) {\n            XFormsDoc = doc;\n        }\n                \n        var getXFormsDoc = function() {\n            return XFormsDoc;\n        }\n                \n        var setXForm = function(element) {\n            XForm = element;\n        }\n                \n        var getXForm = function() {\n            return XForm;\n        }\n                \n                \n        var setInstance = function(name, value) {\n            instances[name] = value;\n        } \n                \n        var getInstance = function(name) {\n            return instances[name];\n        }\n        \n        var setDefaultInstance = function(doc) {\n            defaultInstance = doc;\n        }\n                \n        var getDefaultInstance = function() {\n            return defaultInstance;\n        }\n                \n        var getInstanceKeys = function() {\n            return Object.keys(instances);\n        }\n         \n         \/\/ !! return value does not match required data type map(xs:string, element())\n        var getInstances = function() {\n            return instances;\n        }\n                \n        var setDeferredUpdateFlag = function(name) {\n            deferredUpdateFlags[name] = 'true';\n        } \n        var setDeferredUpdateFlags = function(names) {\n            names.forEach(setDeferredUpdateFlag);\n        } \n                \n        var clearDeferredUpdateFlag = function(name) {\n            deferredUpdateFlags[name] = null; \n        }\n        var clearDeferredUpdateFlags = function() {\n            Object.keys(deferredUpdateFlags).forEach(clearDeferredUpdateFlag); \n        }\n                \n        var getDeferredUpdateFlag = function(name) {\n            return deferredUpdateFlags[name];\n        }\n        var getDeferredUpdateFlags = function() {\n            return deferredUpdateFlags;\n        }\n                \n                \n        var addAction = function(name, value){\n            actions[name] = value;\n        }\n                \n        var getAction = function(name){\n            return actions[name];\n        }\n                \n        var updateAction = function(actioni, key, value){\n            actioni[key] = value;\n            return actioni;\n        }\n                \n        var addSubmission = function(name, value){\n            submissions[name] = value;\n        }\n                \n        var getSubmission = function(name){\n            return submissions[name];\n        }     \n                \n        var addOutput = function(name, value){\n            outputs[name] = value;\n        }\n                \n        var getOutput = function(name){\n            return outputs[name];\n        }\n                \n        var getOutputKeys = function() {\n            return Object.keys(outputs);\n        }\n                \n        \/\/ repeats is a map of HTML IDs to (parsed) xf:repeat\/@nodeset values\n        var addRepeat = function(name, value){\n            repeats[name] = value;\n        }\n        var addRepeatContext = function(name, value) {\n            repeatContextNodesets[name] = value;\n        }\n                \n        var getRepeat = function(name){\n            return repeats[name];\n        }\n        var getRepeatContext = function(name){\n            return repeatContextNodesets[name];\n        }\n        \n        var getRepeatKeys = function() {\n            return Object.keys(repeats);\n        }\n                \n                                \n        var getRepeatIndexMap = function() {\n            return repeatIndexMap;\n        }\n                \n        var setRepeatIndex = function(name, value) {\n            repeatIndexMap[name] = value;\n        }\n                \n        var getRepeatIndex = function(name) {\n            if ( typeof(repeatIndexMap[name]) != 'undefined' ) {\n                return repeatIndexMap[name];\n            }\n            else {\n                return 0;\n            }\n        } \n                \n        var setRepeatSize = function(name, value) {\n            repeatSizeMap[name] = value;\n        }\n                \n        var getRepeatSize = function(name) {\n            if ( typeof(repeatSizeMap[name]) != 'undefined' ) {\n                return repeatSizeMap[name];\n            }\n            else {\n                return 0;\n            }\n        } \n                \n        var setElementUsingIndexFunction = function(name, value) {\n            elementsUsingIndexFunction[name] = value;\n        } \n                \n        var getElementUsingIndexFunction = function(name) {\n            return elementsUsingIndexFunction[name];\n        }\n                \n        var getElementsUsingIndexFunctionKeys = function() {\n            return Object.keys(elementsUsingIndexFunction);\n        }\n                \n                \n        var startTime = function(name) {\n            console.time(name);\n        }\n                \n        var endTime = function(name) {\n            console.timeEnd(name);\n        }\n                \n        var highlightClicked = function(id) {\n            var item = document.getElementById(id);\n            toggleClass(item);\n        }\n                \n        var toggleClass = function(element) {\n            if (element.className == 'selected') {\n                element.classList.remove('selected');\n            }\n            else {\n                var x = document.getElementsByClassName('selected');\n                var i;\n                for (i = 0; i < x.length; i++) {\n                    x[i].classList.remove('selected');\n                } \n                element.classList.add('selected');\n             }\n         }\n                \n         var setFocus = function(id) {\n            var item = document.getElementById(id);\n            item.focus();\n            \/\/ alert('setFocus on ' + id);\n         }\n         \n    "}]}]},{"N":"co","id":"56","binds":"","C":[{"N":"globalVariable","name":"Q{}xforms-actions","as":"+AS","line":"108","module":"saxon-xforms.xsl","visibility":"PRIVATE","flags":"s","C":[{"N":"literal","count":"15","C":[{"N":"str","val":"setvalue"},{"N":"str","val":"insert"},{"N":"str","val":"delete"},{"N":"str","val":"setindex"},{"N":"str","val":"toggle"},{"N":"str","val":"setfocus"},{"N":"str","val":"dispatch"},{"N":"str","val":"rebuild"},{"N":"str","val":"recalculate"},{"N":"str","val":"revalidate"},{"N":"str","val":"refresh"},{"N":"str","val":"reset"},{"N":"str","val":"load"},{"N":"str","val":"send"},{"N":"str","val":"message"}]}]}]},{"N":"co","id":"57","binds":"","C":[{"N":"function","name":"Q{http:\/\/www.w3.org\/2002\/xforms}foo","line":"91","module":"xforms-function-library.xsl","eval":"16","flags":"pU","as":"1AB","slots":"1","C":[{"N":"arg","name":"Q{}num","as":"1ADI"},{"N":"compareToInt","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"94","op":"lt","val":"5","C":[{"N":"varRef","name":"Q{}num","slot":"0"}]}]}]},{"N":"co","id":"58","binds":"59 59","C":[{"N":"globalVariable","name":"Q{}LOGLEVEL_INT","as":"1ADI","line":"73","module":"saxon-xforms.xsl","visibility":"PRIVATE","C":[{"N":"choose","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"73","C":[{"N":"castable","flags":"a","as":"1ADI","C":[{"N":"gVarRef","name":"Q{}LOGLEVEL","bSlot":"0"}]},{"N":"cast","flags":"a","as":"1ADI","C":[{"N":"gVarRef","name":"Q{}LOGLEVEL","bSlot":"1"}]},{"N":"true"},{"N":"int","val":"100"}]}]}]},{"N":"co","id":"60","binds":"","C":[{"N":"globalParam","name":"Q{}xforms-cache-id","as":"1AS","line":"76","module":"saxon-xforms.xsl","visibility":"PUBLIC","C":[{"N":"str","val":"xforms-cache"}]}]},{"N":"co","id":"61","binds":"","C":[{"N":"globalVariable","name":"Q{}xforms-controls","as":"+AS","line":"124","module":"saxon-xforms.xsl","visibility":"PRIVATE","flags":"s","C":[{"N":"literal","count":"9","C":[{"N":"str","val":"input"},{"N":"str","val":"secret"},{"N":"str","val":"textarea"},{"N":"str","val":"output"},{"N":"str","val":"upload"},{"N":"str","val":"range"},{"N":"str","val":"trigger"},{"N":"str","val":"select"},{"N":"str","val":"select1"}]}]}]},{"N":"co","id":"62","binds":"","C":[{"N":"function","name":"Q{http:\/\/www.w3.org\/2002\/xforms}impose","line":"22","module":"xforms-function-library.xsl","eval":"16","flags":"pU","as":"1AS","slots":"2","C":[{"N":"arg","name":"Q{}input","as":"1AS"},{"N":"let","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"51","var":"Q{}input2","as":"1AS","slot":"1","eval":"8","C":[{"N":"fn","name":"string-join","C":[{"N":"analyzeString","line":"33","C":[{"N":"varRef","role":"select","name":"Q{}input","slot":"0"},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","line":"36","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"6","C":[{"N":"str","val":"instance"},{"N":"str","val":"index"},{"N":"str","val":"avg"},{"N":"str","val":"foo"},{"N":"str","val":"current-date"},{"N":"str","val":"random"}]},{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"fn","line":"37","name":"concat","C":[{"N":"str","val":"xforms:"},{"N":"dot","type":"1AS"}]},{"N":"true"},{"N":"dot","line":"41","type":"1AS"}]},{"N":"dot","role":"nonMatching","line":"46","type":"1AS"}]}]},{"N":"choose","line":"56","C":[{"N":"fn","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"1"},{"N":"str","val":"^\\s*\/"},{"N":"str","val":""}]},{"N":"fn","line":"57","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"1"},{"N":"str","val":"^\\s\/[^\/]+"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"fn","line":"60","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"1"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":""}]},{"N":"fn","line":"61","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"1"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"true"},{"N":"varRef","line":"64","name":"Q{}input2","slot":"1"}]}]}]}]},{"N":"co","id":"63","binds":"","C":[{"N":"globalVariable","name":"Q{}xform-functions","as":"+AS","line":"20","module":"xforms-function-library.xsl","visibility":"PRIVATE","C":[{"N":"literal","count":"6","C":[{"N":"str","val":"instance"},{"N":"str","val":"index"},{"N":"str","val":"avg"},{"N":"str","val":"foo"},{"N":"str","val":"current-date"},{"N":"str","val":"random"}]}]}]},{"N":"co","id":"64","binds":"16","C":[{"N":"template","name":"Q{}xforms-submit-done","flags":"os","line":"3238","module":"saxon-xforms.xsl","slots":"1","C":[{"N":"sequence","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"3239","C":[{"N":"param","name":"Q{}when-done","slot":"0","flags":"t","as":"*FM","C":[{"N":"empty","role":"select"},{"N":"treat","role":"conversion","as":"FM","diag":"8|0|XTTE0590|when-done","C":[{"N":"supplied","slot":"0"}]}]},{"N":"forEach","line":"3241","C":[{"N":"varRef","name":"Q{}when-done","slot":"0"},{"N":"callT","line":"3244","name":"Q{}applyActions","bSlot":"0","C":[{"N":"withParam","name":"Q{}action-map","flags":"t","as":"1","C":[{"N":"dot","line":"3242","type":"1FM"}]}]}]}]}]}]},{"N":"co","id":"59","binds":"","C":[{"N":"globalParam","name":"Q{}LOGLEVEL","as":"1AS","line":"72","module":"saxon-xforms.xsl","visibility":"PUBLIC","C":[{"N":"str","val":"40"}]}]},{"N":"co","id":"54","binds":"54 2","C":[{"N":"mode","name":"Q{}get-context-instance-id","onNo":"TC","flags":"W","patternSlots":"0","C":[{"N":"templateRule","prec":"0","prio":"-0.25","seq":"5","rank":"0","minImp":"0","slots":"6","matches":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}*","flags":"s","as":"1AS","line":"421","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}*"},{"N":"check","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"422","card":"1","diag":"7|0|XTTE0505|match=\"xforms:*\" mode=\"get-context-instance-id\"","C":[{"N":"sequence","C":[{"N":"param","name":"Q{}default-instance-id","slot":"0","flags":"t","as":"1AS","C":[{"N":"str","role":"select","val":"saxon-forms-default-instance"},{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|default-instance-id","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|default-instance-id","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|default-instance-id","C":[{"N":"data","diag":"8|0|XTTE0590|default-instance-id","C":[{"N":"supplied","slot":"0"}]}]}]}]}]},{"N":"param","line":"423","name":"Q{}nodeset","slot":"1","as":"1AS","C":[{"N":"str","role":"select","val":""},{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|nodeset","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|nodeset","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|nodeset","C":[{"N":"data","diag":"8|0|XTTE0590|nodeset","C":[{"N":"supplied","slot":"1"}]}]}]}]}]},{"N":"let","line":"426","var":"Q{}referenced-instance-id","as":"?AS","slot":"2","eval":"7","C":[{"N":"choose","line":"428","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}bind"}]},{"N":"let","line":"429","var":"Q{}bind","as":"1AS","slot":"3","eval":"16","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|bind","C":[{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"attVal","name":"Q{}bind","chk":"0"}]}]},{"N":"let","line":"430","var":"Q{}this-binding","as":"?NE nQ{http:\/\/www.w3.org\/2002\/xforms}bind","slot":"4","eval":"7","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|this-binding","C":[{"N":"docOrder","intra":"1","C":[{"N":"filter","flags":"b","C":[{"N":"slash","simple":"2","C":[{"N":"fn","name":"reverse","C":[{"N":"slash","simple":"1","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.w3.org\/2002\/xforms}*"},{"N":"axis","name":"ancestor","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}xform"}]}]},{"N":"axis","name":"descendant","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}bind"}]},{"N":"vc","op":"eq","onEmpty":"0","comp":"CCC","C":[{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"attVal","name":"Q{}id","chk":"0"}]},{"N":"varRef","name":"Q{}bind","slot":"3"}]}]}]}]},{"N":"choose","line":"432","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}this-binding","slot":"4"}]},{"N":"treat","line":"433","as":"AS","diag":"3|0|XTTE0570|referenced-instance-id","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|referenced-instance-id","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|referenced-instance-id","C":[{"N":"data","diag":"3|0|XTTE0570|referenced-instance-id","C":[{"N":"applyT","mode":"Q{}get-context-instance-id","bSlot":"0","C":[{"N":"varRef","role":"select","name":"Q{}this-binding","slot":"4"},{"N":"withParam","name":"Q{}nodeset","as":"?AS","C":[{"N":"choose","line":"434","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}nodeset"}]},{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"attVal","name":"Q{}nodeset","chk":"0"}]},{"N":"true"},{"N":"str","val":""}]}]}]}]}]}]}]}]}]}]},{"N":"varRef","line":"446","name":"Q{}nodeset","slot":"1"},{"N":"ufCall","line":"447","name":"Q{http:\/\/www.w3.org\/2002\/xforms}getInstanceId","tailCall":"false","bSlot":"1","eval":"6","C":[{"N":"varRef","name":"Q{}nodeset","slot":"1"}]}]},{"N":"choose","line":"454","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}referenced-instance-id","slot":"2"}]},{"N":"varRef","line":"455","name":"Q{}referenced-instance-id","slot":"2"},{"N":"true"},{"N":"let","line":"461","var":"Q{}local-default-instance","as":"?NE nQ{http:\/\/www.w3.org\/2002\/xforms}instance","slot":"5","eval":"7","C":[{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"ancestor","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}model"}]},{"N":"check","card":"?","diag":"3|0|XTTE0570|local-default-instance","C":[{"N":"docOrder","intra":"1","C":[{"N":"slash","C":[{"N":"fn","name":"reverse","C":[{"N":"slash","simple":"1","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.w3.org\/2002\/xforms}*"},{"N":"axis","name":"ancestor","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}model"}]}]},{"N":"first","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}instance"}]}]}]}]},{"N":"true"},{"N":"check","card":"?","diag":"3|0|XTTE0570|local-default-instance","C":[{"N":"docOrder","intra":"1","C":[{"N":"slash","C":[{"N":"docOrder","intra":"1","C":[{"N":"slash","C":[{"N":"fn","name":"reverse","C":[{"N":"slash","simple":"1","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.w3.org\/2002\/xforms}*"},{"N":"axis","name":"ancestor","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}xform"}]}]},{"N":"first","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}model"}]}]}]},{"N":"first","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}instance"}]}]}]}]}]},{"N":"choose","line":"463","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}local-default-instance","slot":"5"}]},{"N":"choose","line":"464","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}local-default-instance","slot":"5"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}id"}]}]},{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"data","diag":"2|0||cast as","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}local-default-instance","slot":"5"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}id"}]}]}]},{"N":"true"},{"N":"varRef","name":"Q{}default-instance-id","slot":"0"}]},{"N":"true"},{"N":"varRef","line":"467","name":"Q{}default-instance-id","slot":"0"}]}]}]}]}]}]}]}]}]},{"N":"co","id":"46","binds":"","C":[{"N":"function","name":"Q{http:\/\/www.w3.org\/2002\/xforms}check-required-fields","line":"870","module":"saxon-xforms.xsl","eval":"8","flags":"pU","as":"*","slots":"3","C":[{"N":"arg","name":"Q{}instanceXML","as":"1NE"},{"N":"let","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"873","var":"Q{}required-fieldsi","as":"*NE","slot":"1","eval":"8","C":[{"N":"filter","flags":"b","C":[{"N":"slash","simple":"1","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}page","type":"1ND"},{"N":"axis","name":"descendant","nodeTest":"NE"}]},{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}data-required"}]}]},{"N":"forEach","line":"875","C":[{"N":"varRef","name":"Q{}required-fieldsi","slot":"1"},{"N":"let","line":"876","var":"Q{}resulti","as":"1AB","slot":"2","eval":"16","C":[{"N":"treat","line":"879","as":"AB","diag":"3|0|XTTE0570|resulti","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|resulti","C":[{"N":"cvUntyped","to":"AB","diag":"3|0|XTTE0570|resulti","C":[{"N":"data","diag":"3|0|XTTE0570|resulti","C":[{"N":"evaluate","dxns":"","C":[{"N":"str","role":"xpath","val":"child::node() or string-length() gt 0"},{"N":"dot","role":"cxt","type":"1NE"},{"N":"varRef","role":"nsCxt","name":"Q{}instanceXML","slot":"0"},{"N":"str","role":"sa","val":"no"},{"N":"map","role":"options","size":"0"},{"N":"map","role":"wp","size":"0"}]}]}]}]}]},{"N":"sequence","line":"882","C":[{"N":"message","C":[{"N":"sequence","role":"select","C":[{"N":"valueOf","C":[{"N":"str","val":"[xforms:check-required-fields] Evaluating XPath: "}]},{"N":"str","val":"child::node() or string-length() gt 0"}]},{"N":"str","role":"terminate","val":"no"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]},{"N":"message","line":"883","C":[{"N":"sequence","role":"select","C":[{"N":"valueOf","C":[{"N":"str","val":"[xforms:check-required-fields] XPath result: "}]},{"N":"varRef","name":"Q{}resulti","slot":"2"}]},{"N":"str","role":"terminate","val":"no"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]},{"N":"choose","line":"884","C":[{"N":"fn","name":"not","C":[{"N":"varRef","name":"Q{}resulti","slot":"2"}]},{"N":"dot","type":"1NE"}]}]}]}]}]}]}]},{"N":"co","id":"25","binds":"","C":[{"N":"function","name":"Q{http:\/\/www.w3.org\/2002\/xforms}index","line":"98","module":"xforms-function-library.xsl","eval":"16","flags":"pU","as":"1ADI","slots":"2","C":[{"N":"arg","name":"Q{}repeatID","as":"1AS"},{"N":"let","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"102","var":"Q{}repeat-index","as":"?AO","slot":"1","eval":"7","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|repeat-index","C":[{"N":"convert","from":"A","to":"AO","flags":"p","diag":"3|0|XTTE0570|repeat-index","C":[{"N":"cvUntyped","to":"AO","diag":"3|0|XTTE0570|repeat-index","C":[{"N":"data","diag":"3|0|XTTE0570|repeat-index","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"getRepeatIndex"},{"N":"arrayBlock","C":[{"N":"varRef","name":"Q{}repeatID","slot":"0"}]}]}]}]}]}]},{"N":"choose","line":"105","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}repeat-index","slot":"1"}]},{"N":"check","card":"1","diag":"5|0|XTTE0780|xforms:index#1","C":[{"N":"cast","flags":"ae","as":"?ADI","C":[{"N":"varRef","name":"Q{}repeat-index","slot":"1"}]}]},{"N":"true"},{"N":"int","val":"0"}]}]}]}]},{"N":"co","id":"65","binds":"","C":[{"N":"globalVariable","name":"Q{}global-default-instance-id","as":"1AS","line":"88","module":"saxon-xforms.xsl","visibility":"PRIVATE","flags":"s","C":[{"N":"str","val":"saxon-forms-default-instance"}]}]},{"N":"co","id":"6","binds":"6","C":[{"N":"mode","name":"Q{}delete-node","onNo":"TC","flags":"W","patternSlots":"0","C":[{"N":"templateRule","prec":"0","prio":"-0.5","seq":"28","rank":"0","minImp":"0","slots":"2","matches":"NE","flags":"s","line":"1826","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE"},{"N":"sequence","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"1827","C":[{"N":"param","name":"Q{}delete-node","slot":"0","flags":"t","as":"*N","C":[{"N":"empty","role":"select"},{"N":"treat","role":"conversion","as":"N","diag":"8|0|XTTE0590|delete-node","C":[{"N":"supplied","slot":"0"}]}]},{"N":"choose","line":"1830","C":[{"N":"some","var":"Q{}n","slot":"1","C":[{"N":"varRef","name":"Q{}delete-node","slot":"0"},{"N":"is","op":"is","C":[{"N":"varRef","name":"Q{}n","slot":"1"},{"N":"dot","type":"1NE"}]}]},{"N":"empty"},{"N":"true"},{"N":"copy","line":"1835","flags":"cin","sit":"1NE","C":[{"N":"sequence","role":"content","C":[{"N":"copyOf","flags":"c","C":[{"N":"axis","name":"attribute","nodeTest":"NA"}]},{"N":"applyT","line":"1836","mode":"Q{}delete-node","bSlot":"0","C":[{"N":"axis","role":"select","name":"child","nodeTest":"N"}]}]}]}]}]}]}]}]},{"N":"co","id":"45","binds":"","C":[{"N":"mode","name":"Q{}get-field","onNo":"TC","flags":"W","patternSlots":"0","C":[{"N":"templateRule","prec":"0","prio":"-0.25","seq":"37","rank":"0","minImp":"0","slots":"0","matches":"NE n*:textarea","flags":"s","line":"2040","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE n*:textarea"},{"N":"ifCall","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"2042","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}get","type":"*","C":[{"N":"dot","type":"1NE n*:textarea"},{"N":"str","val":"value"}]}]},{"N":"templateRule","prec":"0","prio":"-0.25","seq":"36","rank":"0","minImp":"0","slots":"0","matches":"NE n*:select","flags":"s","line":"2030","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE n*:select"},{"N":"ifCall","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"2032","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}get","type":"*","C":[{"N":"check","card":"?","diag":"0|0||ixsl:get","C":[{"N":"filter","flags":"b","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{}option"},{"N":"gc","op":"=","card":"N:1","comp":"GAC|http:\/\/www.w3.org\/2005\/xpath-functions\/collation\/codepoint","C":[{"N":"data","diag":"1|0||=","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}get","type":"*","C":[{"N":"dot","type":"1NE nQ{}option"},{"N":"str","val":"selected"}]}]},{"N":"true"}]}]}]},{"N":"str","val":"value"}]}]},{"N":"templateRule","prec":"0","prio":"-0.25","seq":"35","rank":"0","minImp":"0","slots":"0","matches":"NE n*:input","flags":"s","line":"2012","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE n*:input"},{"N":"choose","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"2015","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}type"}]},{"N":"vc","op":"eq","onEmpty":"0","comp":"CCC","C":[{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"attVal","name":"Q{}type","chk":"0"}]},{"N":"str","val":"checkbox"}]}]},{"N":"choose","line":"2016","C":[{"N":"gc","op":"=","card":"N:1","comp":"GAC|http:\/\/www.w3.org\/2005\/xpath-functions\/collation\/codepoint","C":[{"N":"data","diag":"1|0||=","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}get","type":"*","C":[{"N":"dot","type":"1NE n*:input"},{"N":"str","val":"checked"}]}]},{"N":"true"}]},{"N":"str","val":"true"},{"N":"true"},{"N":"str","val":""}]},{"N":"true"},{"N":"ifCall","line":"2019","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}get","type":"*","C":[{"N":"dot","type":"1NE n*:input"},{"N":"str","val":"value"}]}]}]}]}]},{"N":"co","id":"66","binds":"51","C":[{"N":"mode","name":"Q{}get-binding","onNo":"TC","flags":"W","patternSlots":"0","C":[{"N":"templateRule","prec":"0","prio":"-0.25","seq":"4","rank":"0","minImp":"0","slots":"12","matches":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}*","flags":"s","line":"353","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}*"},{"N":"sequence","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"354","C":[{"N":"param","name":"Q{}instance-id","slot":"0","flags":"t","as":"1AS","C":[{"N":"str","role":"select","val":"saxon-forms-default-instance"},{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|instance-id","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|instance-id","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|instance-id","C":[{"N":"data","diag":"8|0|XTTE0590|instance-id","C":[{"N":"supplied","slot":"0"}]}]}]}]}]},{"N":"param","line":"355","name":"Q{}nodeset","slot":"1","flags":"t","as":"1AS","C":[{"N":"str","role":"select","val":""},{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|nodeset","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|nodeset","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|nodeset","C":[{"N":"data","diag":"8|0|XTTE0590|nodeset","C":[{"N":"supplied","slot":"1"}]}]}]}]}]},{"N":"param","line":"356","name":"Q{}bindings-js","slot":"2","flags":"t","as":"*NE nQ{http:\/\/www.w3.org\/2002\/xforms}bind","C":[{"N":"empty","role":"select"},{"N":"treat","role":"conversion","as":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}bind","diag":"8|0|XTTE0590|bindings-js","C":[{"N":"supplied","slot":"2"}]}]},{"N":"choose","line":"361","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}bind"}]},{"N":"let","line":"362","var":"Q{}bind","as":"1AS","slot":"3","eval":"16","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|bind","C":[{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"attVal","name":"Q{}bind","chk":"0"}]}]},{"N":"let","line":"363","var":"Q{}this-binding","as":"?NE nQ{http:\/\/www.w3.org\/2002\/xforms}bind","slot":"4","eval":"7","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|this-binding","C":[{"N":"docOrder","intra":"1","C":[{"N":"filter","flags":"b","C":[{"N":"slash","simple":"2","C":[{"N":"fn","name":"reverse","C":[{"N":"slash","simple":"1","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.w3.org\/2002\/xforms}*"},{"N":"axis","name":"ancestor","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}xform"}]}]},{"N":"axis","name":"descendant","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}bind"}]},{"N":"vc","op":"eq","onEmpty":"0","comp":"CCC","C":[{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"attVal","name":"Q{}id","chk":"0"}]},{"N":"varRef","name":"Q{}bind","slot":"3"}]}]}]}]},{"N":"choose","line":"365","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}this-binding","slot":"4"}]},{"N":"applyT","line":"366","mode":"Q{}add-context","flags":"t","bSlot":"0","C":[{"N":"varRef","role":"select","name":"Q{}this-binding","slot":"4"}]}]}]}]},{"N":"and","line":"377","op":"and","C":[{"N":"varRef","name":"Q{}nodeset","slot":"1"},{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}bindings-js","slot":"2"}]}]},{"N":"let","line":"380","var":"Q{}instanceXML","as":"1NE","slot":"5","eval":"16","C":[{"N":"treat","as":"NE","diag":"3|0|XTTE0570|instanceXML","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|instanceXML","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"getInstance"},{"N":"arrayBlock","C":[{"N":"varRef","name":"Q{}instance-id","slot":"0"}]}]}]}]},{"N":"let","line":"381","var":"Q{}context-node","as":"*N","slot":"6","eval":"8","C":[{"N":"treat","line":"382","as":"N","diag":"3|0|XTTE0570|context-node","C":[{"N":"evaluate","dxns":"","C":[{"N":"let","role":"xpath","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"51","var":"Q{}input2","as":"1AS","slot":"7","eval":"8","C":[{"N":"fn","name":"string-join","C":[{"N":"analyzeString","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"saxon-xforms.xsl","line":"379","C":[{"N":"varRef","role":"select","name":"Q{}nodeset","slot":"1"},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"36","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"6","C":[{"N":"str","val":"instance"},{"N":"str","val":"index"},{"N":"str","val":"avg"},{"N":"str","val":"foo"},{"N":"str","val":"current-date"},{"N":"str","val":"random"}]},{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"fn","line":"37","name":"concat","C":[{"N":"str","val":"xforms:"},{"N":"dot","type":"1AS"}]},{"N":"true"},{"N":"dot","line":"41","type":"1AS"}]},{"N":"dot","role":"nonMatching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"46","type":"1AS"}]}]},{"N":"choose","line":"56","C":[{"N":"fn","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"7"},{"N":"str","val":"^\\s*\/"},{"N":"str","val":""}]},{"N":"fn","line":"57","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"7"},{"N":"str","val":"^\\s\/[^\/]+"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"fn","line":"60","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"7"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":""}]},{"N":"fn","line":"61","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"7"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"true"},{"N":"varRef","line":"64","name":"Q{}input2","slot":"7"}]}]},{"N":"varRef","role":"cxt","name":"Q{}instanceXML","slot":"5"},{"N":"varRef","role":"nsCxt","name":"Q{}instanceXML","slot":"5"},{"N":"str","role":"sa","val":"no"},{"N":"map","role":"options","size":"0"},{"N":"map","role":"wp","size":"0"}]}]},{"N":"forEach","line":"387","C":[{"N":"varRef","name":"Q{}bindings-js","slot":"2"},{"N":"choose","line":"389","C":[{"N":"vc","op":"eq","onEmpty":"0","comp":"CCC","C":[{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"attVal","name":"Q{}instance-context","chk":"0"}]},{"N":"varRef","name":"Q{}instance-id","slot":"0"}]},{"N":"let","line":"397","var":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","as":"?N","slot":"8","eval":"13","C":[{"N":"check","card":"?","diag":"1|1||is","C":[{"N":"varRef","name":"Q{}context-node","slot":"6"}]},{"N":"let","line":"393","var":"Q{}binding-context-node","as":"*N","slot":"9","eval":"8","C":[{"N":"treat","line":"394","as":"N","diag":"3|0|XTTE0570|binding-context-node","C":[{"N":"evaluate","dxns":"","C":[{"N":"let","role":"xpath","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"51","var":"Q{}input2","as":"1AS","slot":"10","eval":"8","C":[{"N":"fn","name":"string-join","C":[{"N":"analyzeString","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"saxon-xforms.xsl","line":"391","C":[{"N":"check","role":"select","card":"1","diag":"0|0||xforms:impose","C":[{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"attVal","name":"Q{}nodeset","chk":"0"}]}]},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"36","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"6","C":[{"N":"str","val":"instance"},{"N":"str","val":"index"},{"N":"str","val":"avg"},{"N":"str","val":"foo"},{"N":"str","val":"current-date"},{"N":"str","val":"random"}]},{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"fn","line":"37","name":"concat","C":[{"N":"str","val":"xforms:"},{"N":"dot","type":"1AS"}]},{"N":"true"},{"N":"dot","line":"41","type":"1AS"}]},{"N":"dot","role":"nonMatching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"46","type":"1AS"}]}]},{"N":"choose","line":"56","C":[{"N":"fn","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"10"},{"N":"str","val":"^\\s*\/"},{"N":"str","val":""}]},{"N":"fn","line":"57","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"10"},{"N":"str","val":"^\\s\/[^\/]+"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"fn","line":"60","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"10"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":""}]},{"N":"fn","line":"61","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"10"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"true"},{"N":"varRef","line":"64","name":"Q{}input2","slot":"10"}]}]},{"N":"varRef","role":"cxt","name":"Q{}instanceXML","slot":"5"},{"N":"varRef","role":"nsCxt","name":"Q{}instanceXML","slot":"5"},{"N":"str","role":"sa","val":"no"},{"N":"map","role":"options","size":"0"},{"N":"map","role":"wp","size":"0"}]}]},{"N":"choose","line":"397","C":[{"N":"some","var":"Q{}n","slot":"11","C":[{"N":"varRef","name":"Q{}binding-context-node","slot":"9"},{"N":"is","op":"is","C":[{"N":"varRef","name":"Q{}n","slot":"11"},{"N":"varRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","slot":"8"}]}]},{"N":"dot","line":"399","type":"1NE nQ{http:\/\/www.w3.org\/2002\/xforms}bind"}]}]}]}]}]}]}]}]}]}]}]}]},{"N":"co","id":"38","binds":"67 41 68 53 54 66 69 70 38 38 38 53 54 38 38","C":[{"N":"mode","onNo":"TC","flags":"dW","patternSlots":"0","C":[{"N":"templateRule","prec":"0","prio":"-0.5","seq":"13","rank":"0","minImp":"0","slots":"0","matches":"ND","flags":"s","line":"1024","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"ND"},{"N":"callT","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"1025","name":"Q{}xformsjs-main","bSlot":"0","flags":"t","C":[{"N":"withParam","name":"Q{}xFormsId","flags":"c","as":"1AS","C":[{"N":"gVarRef","line":"1026","name":"Q{}xform-html-id","bSlot":"1"}]}]}]},{"N":"templateRule","prec":"0","prio":"0.5","seq":"31","rank":"2","minImp":"0","slots":"1","matches":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}*","flags":"s","line":"1904","module":"saxon-xforms.xsl","C":[{"N":"p.withPredicate","role":"match","C":[{"N":"p.nodeTest","test":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}*"},{"N":"gc","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"1904","op":"=","card":"N:1","comp":"GAC|http:\/\/www.w3.org\/2005\/xpath-functions\/collation\/codepoint","C":[{"N":"literal","count":"15","C":[{"N":"str","val":"setvalue"},{"N":"str","val":"insert"},{"N":"str","val":"delete"},{"N":"str","val":"setindex"},{"N":"str","val":"toggle"},{"N":"str","val":"setfocus"},{"N":"str","val":"dispatch"},{"N":"str","val":"rebuild"},{"N":"str","val":"recalculate"},{"N":"str","val":"revalidate"},{"N":"str","val":"refresh"},{"N":"str","val":"reset"},{"N":"str","val":"load"},{"N":"str","val":"send"},{"N":"str","val":"message"}]},{"N":"fn","name":"local-name","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.w3.org\/2002\/xforms}*"}]}]}]},{"N":"let","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"1912","var":"Q{}action-map","as":"1FM","slot":"0","eval":"16","C":[{"N":"treat","line":"1913","as":"FM","diag":"3|0|XTTE0570|action-map","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|action-map","C":[{"N":"applyT","mode":"Q{}set-action","bSlot":"2","C":[{"N":"dot","role":"select","type":"1NE"}]}]}]},{"N":"varRef","line":"1925","name":"Q{}action-map","slot":"0"}]}]},{"N":"templateRule","prec":"0","prio":"0.5","seq":"14","rank":"2","minImp":"0","slots":"10","matches":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}*","flags":"s","line":"1038","module":"saxon-xforms.xsl","C":[{"N":"p.withPredicate","role":"match","C":[{"N":"p.nodeTest","test":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}*"},{"N":"gc","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"1038","op":"=","card":"N:1","comp":"GAC|http:\/\/www.w3.org\/2005\/xpath-functions\/collation\/codepoint","C":[{"N":"literal","count":"9","C":[{"N":"str","val":"input"},{"N":"str","val":"secret"},{"N":"str","val":"textarea"},{"N":"str","val":"output"},{"N":"str","val":"upload"},{"N":"str","val":"range"},{"N":"str","val":"trigger"},{"N":"str","val":"select"},{"N":"str","val":"select1"}]},{"N":"fn","name":"local-name","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.w3.org\/2002\/xforms}*"}]}]}]},{"N":"sequence","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"1039","C":[{"N":"param","name":"Q{}position","slot":"0","as":"1ADI","C":[{"N":"int","role":"select","val":"0"},{"N":"treat","role":"conversion","as":"ADI","diag":"8|0|XTTE0590|position","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|position","C":[{"N":"cvUntyped","to":"ADI","diag":"8|0|XTTE0590|position","C":[{"N":"data","diag":"8|0|XTTE0590|position","C":[{"N":"supplied","slot":"0"}]}]}]}]}]},{"N":"param","line":"1040","name":"Q{}context-position","slot":"1","as":"1AS","C":[{"N":"str","role":"select","val":""},{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|context-position","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|context-position","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|context-position","C":[{"N":"data","diag":"8|0|XTTE0590|context-position","C":[{"N":"supplied","slot":"1"}]}]}]}]}]},{"N":"let","line":"1047","var":"Q{}string-position","as":"1AS","slot":"2","eval":"16","C":[{"N":"choose","C":[{"N":"varRef","name":"Q{}context-position","slot":"1"},{"N":"varRef","name":"Q{}context-position","slot":"1"},{"N":"true"},{"N":"fn","name":"string","C":[{"N":"varRef","name":"Q{}position","slot":"0"}]}]},{"N":"let","line":"1051","var":"Q{}myid","as":"1AS","slot":"3","eval":"16","C":[{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}id"}]},{"N":"fn","name":"concat","C":[{"N":"attVal","name":"Q{}id","chk":"0"},{"N":"str","val":"-"},{"N":"varRef","name":"Q{}string-position","slot":"2"}]},{"N":"true"},{"N":"fn","name":"concat","C":[{"N":"fn","name":"generate-id","C":[{"N":"dot","type":"1NE"}]},{"N":"str","val":"-"},{"N":"varRef","name":"Q{}string-position","slot":"2"}]}]},{"N":"sequence","line":"1053","C":[{"N":"choose","C":[{"N":"and","op":"and","C":[{"N":"let","var":"Q{}this","as":"1NE","slot":"4","eval":"16","C":[{"N":"dot","type":"1NE"},{"N":"fn","line":"2146","name":"exists","C":[{"N":"sequence","line":"2121","C":[{"N":"analyzeString","C":[{"N":"cvUntyped","role":"select","to":"AS","C":[{"N":"data","diag":"4|0||analyze-string\/select","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"4"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}ref"}]}]}]},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","line":"2124","C":[{"N":"compareToString","op":"eq","val":"index","C":[{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"str","val":"i"}]},{"N":"empty","role":"nonMatching"}]},{"N":"analyzeString","line":"2133","C":[{"N":"cvUntyped","role":"select","to":"AS","C":[{"N":"data","diag":"4|0||analyze-string\/select","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"4"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}nodeset"}]}]}]},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","line":"2136","C":[{"N":"compareToString","op":"eq","val":"index","C":[{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"str","val":"i"}]},{"N":"empty","role":"nonMatching"}]}]}]}]},{"N":"fn","name":"empty","C":[{"N":"filter","flags":"b","C":[{"N":"slash","simple":"1","C":[{"N":"dot","type":"1NE"},{"N":"axis","name":"ancestor","nodeTest":"NE"}]},{"N":"let","var":"Q{}this","as":"1NE","slot":"5","eval":"16","C":[{"N":"dot","type":"1NE"},{"N":"fn","line":"2146","name":"exists","C":[{"N":"sequence","line":"2121","C":[{"N":"analyzeString","C":[{"N":"cvUntyped","role":"select","to":"AS","C":[{"N":"data","diag":"4|0||analyze-string\/select","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"5"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}ref"}]}]}]},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","line":"2124","C":[{"N":"compareToString","op":"eq","val":"index","C":[{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"str","val":"i"}]},{"N":"empty","role":"nonMatching"}]},{"N":"analyzeString","line":"2133","C":[{"N":"cvUntyped","role":"select","to":"AS","C":[{"N":"data","diag":"4|0||analyze-string\/select","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"5"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}nodeset"}]}]}]},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","line":"2136","C":[{"N":"compareToString","op":"eq","val":"index","C":[{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"str","val":"i"}]},{"N":"empty","role":"nonMatching"}]}]}]}]}]}]}]},{"N":"ifCall","line":"1054","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"setElementUsingIndexFunction"},{"N":"arrayBlock","C":[{"N":"varRef","name":"Q{}myid","slot":"3"},{"N":"dot","type":"1NE"}]}]}]},{"N":"let","line":"1058","var":"Q{}refi","as":"1AS","slot":"6","eval":"16","C":[{"N":"treat","line":"1059","as":"AS","diag":"3|0|XTTE0570|refi","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|refi","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|refi","C":[{"N":"data","diag":"3|0|XTTE0570|refi","C":[{"N":"applyT","mode":"Q{}get-data-ref","bSlot":"3","C":[{"N":"dot","role":"select","type":"1NE"}]}]}]}]}]},{"N":"let","line":"1062","var":"Q{}this-instance-id","as":"1AS","slot":"7","eval":"16","C":[{"N":"treat","line":"1063","as":"AS","diag":"3|0|XTTE0570|this-instance-id","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|this-instance-id","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|this-instance-id","C":[{"N":"data","diag":"3|0|XTTE0570|this-instance-id","C":[{"N":"applyT","mode":"Q{}get-context-instance-id","bSlot":"4","C":[{"N":"dot","role":"select","type":"1NE"},{"N":"withParam","name":"Q{}nodeset","as":"1AS","C":[{"N":"varRef","line":"1064","name":"Q{}refi","slot":"6"}]}]}]}]}]}]},{"N":"let","line":"1068","var":"Q{}bindingi","as":"*NE nQ{http:\/\/www.w3.org\/2002\/xforms}bind","slot":"8","eval":"3","C":[{"N":"treat","line":"1069","as":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}bind","diag":"3|0|XTTE0570|bindingi","C":[{"N":"applyT","mode":"Q{}get-binding","bSlot":"5","C":[{"N":"dot","role":"select","type":"1NE"},{"N":"withParam","name":"Q{}instance-id","flags":"t","as":"1AS","C":[{"N":"varRef","line":"1070","name":"Q{}this-instance-id","slot":"7"}]},{"N":"withParam","name":"Q{}nodeset","flags":"t","as":"1AS","C":[{"N":"varRef","line":"1071","name":"Q{}refi","slot":"6"}]}]}]},{"N":"let","line":"1078","var":"Q{}actions","as":"*FM","slot":"9","eval":"4","C":[{"N":"treat","line":"1079","as":"FM","diag":"3|0|XTTE0570|actions","C":[{"N":"applyT","mode":"Q{}set-actions","bSlot":"6","C":[{"N":"dot","role":"select","type":"1NE"},{"N":"withParam","name":"Q{}instance-key","flags":"t","as":"1AS","C":[{"N":"varRef","line":"1080","name":"Q{}this-instance-id","slot":"7"}]},{"N":"withParam","name":"Q{}nodeset","flags":"t","as":"1AS","C":[{"N":"varRef","line":"1081","name":"Q{}refi","slot":"6"}]}]}]},{"N":"sequence","line":"1086","C":[{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}actions","slot":"9"}]},{"N":"ifCall","line":"1087","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"addAction"},{"N":"arrayBlock","C":[{"N":"varRef","name":"Q{}myid","slot":"3"},{"N":"varRef","name":"Q{}actions","slot":"9"}]}]}]},{"N":"applyT","line":"1090","mode":"Q{}get-html","flags":"t","bSlot":"7","C":[{"N":"dot","role":"select","type":"1NE"},{"N":"withParam","name":"Q{}id","as":"1AS","C":[{"N":"varRef","line":"1091","name":"Q{}myid","slot":"3"}]},{"N":"withParam","name":"Q{}instance-context","as":"1AS","C":[{"N":"varRef","line":"1093","name":"Q{}this-instance-id","slot":"7"}]},{"N":"withParam","name":"Q{}binding","as":"*NE nQ{http:\/\/www.w3.org\/2002\/xforms}bind","C":[{"N":"varRef","line":"1094","name":"Q{}bindingi","slot":"8"}]},{"N":"withParam","name":"Q{}actions","as":"*FM","C":[{"N":"varRef","line":"1095","name":"Q{}actions","slot":"9"}]},{"N":"withParam","name":"Q{}nodeset","flags":"t","as":"1AS","C":[{"N":"varRef","line":"1092","name":"Q{}refi","slot":"6"}]}]}]}]}]}]}]}]}]}]}]}]},{"N":"templateRule","prec":"0","prio":"0.0","seq":"31","part":"2","rank":"1","minImp":"0","slots":"1","matches":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}show","flags":"s","line":"1904","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}show"},{"N":"let","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"1912","var":"Q{}action-map","as":"1FM","slot":"0","eval":"16","C":[{"N":"treat","line":"1913","as":"FM","diag":"3|0|XTTE0570|action-map","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|action-map","C":[{"N":"applyT","mode":"Q{}set-action","bSlot":"2","C":[{"N":"dot","role":"select","type":"1NE"}]}]}]},{"N":"varRef","line":"1925","name":"Q{}action-map","slot":"0"}]}]},{"N":"templateRule","prec":"0","prio":"0.0","seq":"18","rank":"1","minImp":"0","slots":"0","matches":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}hint","flags":"s","line":"1438","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}hint"},{"N":"empty","role":"action"}]},{"N":"templateRule","prec":"0","prio":"0.0","seq":"11","rank":"1","minImp":"0","slots":"0","matches":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}xform","flags":"s","line":"1005","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}xform"},{"N":"applyT","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"1006","flags":"t","bSlot":"8","C":[{"N":"axis","role":"select","name":"child","nodeTest":"N"}]}]},{"N":"templateRule","prec":"0","prio":"0.0","seq":"22","rank":"1","minImp":"0","slots":"0","matches":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}label","flags":"s","line":"1551","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}label"},{"N":"elem","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"1552","name":"label","nsuri":"","namespaces":"array ev fn in js map rdf xd xhtml","C":[{"N":"sequence","line":"1553","C":[{"N":"copyOf","flags":"c","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}class"}]},{"N":"choose","line":"1555","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"child","nodeTest":"N u[NE,NP,NC,NT]"}]},{"N":"applyT","line":"1556","bSlot":"9","C":[{"N":"axis","role":"select","name":"child","nodeTest":"N"}]},{"N":"true"},{"N":"valueOf","flags":"l","C":[{"N":"str","val":""}]}]}]}]}]},{"N":"templateRule","prec":"0","prio":"0.0","seq":"31","part":"4","rank":"1","minImp":"0","slots":"1","matches":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}script","flags":"s","line":"1904","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}script"},{"N":"let","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"1912","var":"Q{}action-map","as":"1FM","slot":"0","eval":"16","C":[{"N":"treat","line":"1913","as":"FM","diag":"3|0|XTTE0570|action-map","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|action-map","C":[{"N":"applyT","mode":"Q{}set-action","bSlot":"2","C":[{"N":"dot","role":"select","type":"1NE"}]}]}]},{"N":"varRef","line":"1925","name":"Q{}action-map","slot":"0"}]}]},{"N":"templateRule","prec":"0","prio":"0.0","seq":"14","part":"1","rank":"1","minImp":"0","slots":"10","matches":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}group","flags":"s","line":"1038","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}group"},{"N":"sequence","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"1039","C":[{"N":"param","name":"Q{}position","slot":"0","as":"1ADI","C":[{"N":"int","role":"select","val":"0"},{"N":"treat","role":"conversion","as":"ADI","diag":"8|0|XTTE0590|position","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|position","C":[{"N":"cvUntyped","to":"ADI","diag":"8|0|XTTE0590|position","C":[{"N":"data","diag":"8|0|XTTE0590|position","C":[{"N":"supplied","slot":"0"}]}]}]}]}]},{"N":"param","line":"1040","name":"Q{}context-position","slot":"1","as":"1AS","C":[{"N":"str","role":"select","val":""},{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|context-position","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|context-position","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|context-position","C":[{"N":"data","diag":"8|0|XTTE0590|context-position","C":[{"N":"supplied","slot":"1"}]}]}]}]}]},{"N":"let","line":"1047","var":"Q{}string-position","as":"1AS","slot":"2","eval":"16","C":[{"N":"choose","C":[{"N":"varRef","name":"Q{}context-position","slot":"1"},{"N":"varRef","name":"Q{}context-position","slot":"1"},{"N":"true"},{"N":"fn","name":"string","C":[{"N":"varRef","name":"Q{}position","slot":"0"}]}]},{"N":"let","line":"1051","var":"Q{}myid","as":"1AS","slot":"3","eval":"16","C":[{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}id"}]},{"N":"fn","name":"concat","C":[{"N":"attVal","name":"Q{}id","chk":"0"},{"N":"str","val":"-"},{"N":"varRef","name":"Q{}string-position","slot":"2"}]},{"N":"true"},{"N":"fn","name":"concat","C":[{"N":"fn","name":"generate-id","C":[{"N":"dot","type":"1NE"}]},{"N":"str","val":"-"},{"N":"varRef","name":"Q{}string-position","slot":"2"}]}]},{"N":"sequence","line":"1053","C":[{"N":"choose","C":[{"N":"and","op":"and","C":[{"N":"let","var":"Q{}this","as":"1NE","slot":"4","eval":"16","C":[{"N":"dot","type":"1NE"},{"N":"fn","line":"2146","name":"exists","C":[{"N":"sequence","line":"2121","C":[{"N":"analyzeString","C":[{"N":"cvUntyped","role":"select","to":"AS","C":[{"N":"data","diag":"4|0||analyze-string\/select","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"4"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}ref"}]}]}]},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","line":"2124","C":[{"N":"compareToString","op":"eq","val":"index","C":[{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"str","val":"i"}]},{"N":"empty","role":"nonMatching"}]},{"N":"analyzeString","line":"2133","C":[{"N":"cvUntyped","role":"select","to":"AS","C":[{"N":"data","diag":"4|0||analyze-string\/select","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"4"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}nodeset"}]}]}]},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","line":"2136","C":[{"N":"compareToString","op":"eq","val":"index","C":[{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"str","val":"i"}]},{"N":"empty","role":"nonMatching"}]}]}]}]},{"N":"fn","name":"empty","C":[{"N":"filter","flags":"b","C":[{"N":"slash","simple":"1","C":[{"N":"dot","type":"1NE"},{"N":"axis","name":"ancestor","nodeTest":"NE"}]},{"N":"let","var":"Q{}this","as":"1NE","slot":"5","eval":"16","C":[{"N":"dot","type":"1NE"},{"N":"fn","line":"2146","name":"exists","C":[{"N":"sequence","line":"2121","C":[{"N":"analyzeString","C":[{"N":"cvUntyped","role":"select","to":"AS","C":[{"N":"data","diag":"4|0||analyze-string\/select","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"5"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}ref"}]}]}]},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","line":"2124","C":[{"N":"compareToString","op":"eq","val":"index","C":[{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"str","val":"i"}]},{"N":"empty","role":"nonMatching"}]},{"N":"analyzeString","line":"2133","C":[{"N":"cvUntyped","role":"select","to":"AS","C":[{"N":"data","diag":"4|0||analyze-string\/select","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"5"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}nodeset"}]}]}]},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","line":"2136","C":[{"N":"compareToString","op":"eq","val":"index","C":[{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"str","val":"i"}]},{"N":"empty","role":"nonMatching"}]}]}]}]}]}]}]},{"N":"ifCall","line":"1054","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"setElementUsingIndexFunction"},{"N":"arrayBlock","C":[{"N":"varRef","name":"Q{}myid","slot":"3"},{"N":"dot","type":"1NE"}]}]}]},{"N":"let","line":"1058","var":"Q{}refi","as":"1AS","slot":"6","eval":"16","C":[{"N":"treat","line":"1059","as":"AS","diag":"3|0|XTTE0570|refi","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|refi","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|refi","C":[{"N":"data","diag":"3|0|XTTE0570|refi","C":[{"N":"applyT","mode":"Q{}get-data-ref","bSlot":"3","C":[{"N":"dot","role":"select","type":"1NE"}]}]}]}]}]},{"N":"let","line":"1062","var":"Q{}this-instance-id","as":"1AS","slot":"7","eval":"16","C":[{"N":"treat","line":"1063","as":"AS","diag":"3|0|XTTE0570|this-instance-id","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|this-instance-id","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|this-instance-id","C":[{"N":"data","diag":"3|0|XTTE0570|this-instance-id","C":[{"N":"applyT","mode":"Q{}get-context-instance-id","bSlot":"4","C":[{"N":"dot","role":"select","type":"1NE"},{"N":"withParam","name":"Q{}nodeset","as":"1AS","C":[{"N":"varRef","line":"1064","name":"Q{}refi","slot":"6"}]}]}]}]}]}]},{"N":"let","line":"1068","var":"Q{}bindingi","as":"*NE nQ{http:\/\/www.w3.org\/2002\/xforms}bind","slot":"8","eval":"3","C":[{"N":"treat","line":"1069","as":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}bind","diag":"3|0|XTTE0570|bindingi","C":[{"N":"applyT","mode":"Q{}get-binding","bSlot":"5","C":[{"N":"dot","role":"select","type":"1NE"},{"N":"withParam","name":"Q{}instance-id","flags":"t","as":"1AS","C":[{"N":"varRef","line":"1070","name":"Q{}this-instance-id","slot":"7"}]},{"N":"withParam","name":"Q{}nodeset","flags":"t","as":"1AS","C":[{"N":"varRef","line":"1071","name":"Q{}refi","slot":"6"}]}]}]},{"N":"let","line":"1078","var":"Q{}actions","as":"*FM","slot":"9","eval":"4","C":[{"N":"treat","line":"1079","as":"FM","diag":"3|0|XTTE0570|actions","C":[{"N":"applyT","mode":"Q{}set-actions","bSlot":"6","C":[{"N":"dot","role":"select","type":"1NE"},{"N":"withParam","name":"Q{}instance-key","flags":"t","as":"1AS","C":[{"N":"varRef","line":"1080","name":"Q{}this-instance-id","slot":"7"}]},{"N":"withParam","name":"Q{}nodeset","flags":"t","as":"1AS","C":[{"N":"varRef","line":"1081","name":"Q{}refi","slot":"6"}]}]}]},{"N":"sequence","line":"1086","C":[{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}actions","slot":"9"}]},{"N":"ifCall","line":"1087","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"addAction"},{"N":"arrayBlock","C":[{"N":"varRef","name":"Q{}myid","slot":"3"},{"N":"varRef","name":"Q{}actions","slot":"9"}]}]}]},{"N":"applyT","line":"1090","mode":"Q{}get-html","flags":"t","bSlot":"7","C":[{"N":"dot","role":"select","type":"1NE"},{"N":"withParam","name":"Q{}id","as":"1AS","C":[{"N":"varRef","line":"1091","name":"Q{}myid","slot":"3"}]},{"N":"withParam","name":"Q{}instance-context","as":"1AS","C":[{"N":"varRef","line":"1093","name":"Q{}this-instance-id","slot":"7"}]},{"N":"withParam","name":"Q{}binding","as":"*NE nQ{http:\/\/www.w3.org\/2002\/xforms}bind","C":[{"N":"varRef","line":"1094","name":"Q{}bindingi","slot":"8"}]},{"N":"withParam","name":"Q{}actions","as":"*FM","C":[{"N":"varRef","line":"1095","name":"Q{}actions","slot":"9"}]},{"N":"withParam","name":"Q{}nodeset","flags":"t","as":"1AS","C":[{"N":"varRef","line":"1092","name":"Q{}refi","slot":"6"}]}]}]}]}]}]}]}]}]}]}]}]},{"N":"templateRule","prec":"0","prio":"0.0","seq":"31","part":"1","rank":"1","minImp":"0","slots":"1","matches":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}action","flags":"s","line":"1904","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}action"},{"N":"let","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"1912","var":"Q{}action-map","as":"1FM","slot":"0","eval":"16","C":[{"N":"treat","line":"1913","as":"FM","diag":"3|0|XTTE0570|action-map","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|action-map","C":[{"N":"applyT","mode":"Q{}set-action","bSlot":"2","C":[{"N":"dot","role":"select","type":"1NE"}]}]}]},{"N":"varRef","line":"1925","name":"Q{}action-map","slot":"0"}]}]},{"N":"templateRule","prec":"0","prio":"0.0","seq":"12","rank":"1","minImp":"0","slots":"0","matches":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}model","flags":"s","line":"1015","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}model"},{"N":"empty","role":"action"}]},{"N":"templateRule","prec":"0","prio":"0.0","seq":"31","part":"3","rank":"1","minImp":"0","slots":"1","matches":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}hide","flags":"s","line":"1904","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}hide"},{"N":"let","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"1912","var":"Q{}action-map","as":"1FM","slot":"0","eval":"16","C":[{"N":"treat","line":"1913","as":"FM","diag":"3|0|XTTE0570|action-map","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|action-map","C":[{"N":"applyT","mode":"Q{}set-action","bSlot":"2","C":[{"N":"dot","role":"select","type":"1NE"}]}]}]},{"N":"varRef","line":"1925","name":"Q{}action-map","slot":"0"}]}]},{"N":"templateRule","prec":"0","prio":"0.0","seq":"26","rank":"1","minImp":"0","slots":"3","matches":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}submit","flags":"s","line":"1744","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}submit"},{"N":"sequence","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"1745","C":[{"N":"param","name":"Q{}submissions","slot":"0","flags":"t","as":"1FM k[AS] v[1FM]","C":[{"N":"map","role":"select","size":"0"},{"N":"treat","role":"conversion","as":"FM k[AS] v[1FM]","diag":"8|0|XTTE0590|submissions","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|submissions","C":[{"N":"supplied","slot":"0"}]}]}]},{"N":"let","line":"1752","var":"Q{}submission-id","as":"1AS","slot":"1","eval":"16","C":[{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}submission"}]},{"N":"check","card":"1","diag":"3|0|XTTE0570|submission-id","C":[{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"attVal","name":"Q{}submission","chk":"0"}]}]},{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}id"}]},{"N":"check","card":"1","diag":"3|0|XTTE0570|submission-id","C":[{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"attVal","name":"Q{}id","chk":"0"}]}]},{"N":"true"},{"N":"str","val":"saxon-forms-default-submission"}]},{"N":"let","line":"1758","var":"Q{}innerbody","as":"1ND","slot":"2","eval":"16","C":[{"N":"doc","line":"1759","C":[{"N":"applyT","bSlot":"10","C":[{"N":"axis","role":"select","name":"child","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}label"}]}]},{"N":"choose","line":"1763","C":[{"N":"vc","op":"eq","onEmpty":"0","comp":"CCC","C":[{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"attVal","name":"Q{}appearance","chk":"0"}]},{"N":"str","val":"minimal"}]},{"N":"elem","line":"1764","name":"a","nsuri":"","namespaces":"array ev fn in js map rdf xd xhtml","C":[{"N":"copyOf","line":"1765","flags":"c","C":[{"N":"varRef","name":"Q{}innerbody","slot":"2"}]}]},{"N":"true"},{"N":"elem","line":"1769","name":"button","nsuri":"","namespaces":"array ev fn in js map rdf xd xhtml","C":[{"N":"sequence","C":[{"N":"att","name":"type","flags":"l","C":[{"N":"str","val":"button"}]},{"N":"copyOf","line":"1770","flags":"c","C":[{"N":"filter","flags":"b","C":[{"N":"axis","name":"attribute","nodeTest":"NA"},{"N":"compareToString","op":"ne","val":"submission","C":[{"N":"fn","name":"local-name","C":[{"N":"dot","type":"1NA"}]}]}]}]},{"N":"choose","line":"1772","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}contains","type":"1AB","C":[{"N":"varRef","name":"Q{}submissions","slot":"0"},{"N":"varRef","name":"Q{}submission-id","slot":"1"}]},{"N":"att","line":"1774","name":"data-submit","flags":"l","C":[{"N":"varRef","name":"Q{}submission-id","slot":"1"}]}]},{"N":"copyOf","line":"1776","flags":"c","C":[{"N":"varRef","name":"Q{}innerbody","slot":"2"}]}]}]}]}]}]}]}]},{"N":"templateRule","prec":"0","prio":"0.0","seq":"23","rank":"1","minImp":"0","slots":"1","matches":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}item","flags":"s","line":"1570","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}item"},{"N":"sequence","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"1571","C":[{"N":"param","name":"Q{}selectedValue","slot":"0","as":"1AS","C":[{"N":"str","role":"select","val":""},{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|selectedValue","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|selectedValue","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|selectedValue","C":[{"N":"data","diag":"8|0|XTTE0590|selectedValue","C":[{"N":"supplied","slot":"0"}]}]}]}]}]},{"N":"elem","line":"1573","name":"option","nsuri":"","namespaces":"array ev fn in js map rdf xd xhtml","C":[{"N":"sequence","C":[{"N":"att","name":"value","flags":"l","C":[{"N":"fn","name":"string-join","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}value"}]}]},{"N":"str","val":" "}]}]},{"N":"choose","line":"1574","C":[{"N":"vc","op":"eq","onEmpty":"0","comp":"CCC","C":[{"N":"varRef","name":"Q{}selectedValue","slot":"0"},{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"atomSing","card":"?","diag":"2|0||cast as","C":[{"N":"slash","simple":"2","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}value"},{"N":"axis","name":"child","nodeTest":"NT"}]}]}]}]},{"N":"att","line":"1575","name":"selected","flags":"l","C":[{"N":"varRef","name":"Q{}selectedValue","slot":"0"}]}]},{"N":"valueOf","line":"1578","flags":"l","C":[{"N":"fn","name":"string-join","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}label"}]}]},{"N":"str","val":" "}]}]}]}]}]}]},{"N":"templateRule","prec":"0","prio":"0.0","seq":"25","rank":"1","minImp":"0","slots":"18","matches":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}repeat","flags":"s","line":"1617","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}repeat"},{"N":"sequence","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"1618","C":[{"N":"param","name":"Q{}nodeset","slot":"0","flags":"t","as":"1AS","C":[{"N":"str","role":"select","val":""},{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|nodeset","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|nodeset","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|nodeset","C":[{"N":"data","diag":"8|0|XTTE0590|nodeset","C":[{"N":"supplied","slot":"0"}]}]}]}]}]},{"N":"param","line":"1619","name":"Q{}position","slot":"1","as":"1ADI","C":[{"N":"int","role":"select","val":"0"},{"N":"treat","role":"conversion","as":"ADI","diag":"8|0|XTTE0590|position","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|position","C":[{"N":"cvUntyped","to":"ADI","diag":"8|0|XTTE0590|position","C":[{"N":"data","diag":"8|0|XTTE0590|position","C":[{"N":"supplied","slot":"1"}]}]}]}]}]},{"N":"param","line":"1620","name":"Q{}context-position","slot":"2","as":"1AS","C":[{"N":"str","role":"select","val":""},{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|context-position","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|context-position","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|context-position","C":[{"N":"data","diag":"8|0|XTTE0590|context-position","C":[{"N":"supplied","slot":"2"}]}]}]}]}]},{"N":"param","line":"1621","name":"Q{}recalculate","slot":"3","flags":"t","as":"1AB","C":[{"N":"false","role":"select"},{"N":"treat","role":"conversion","as":"AB","diag":"8|0|XTTE0590|recalculate","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|recalculate","C":[{"N":"cvUntyped","to":"AB","diag":"8|0|XTTE0590|recalculate","C":[{"N":"data","diag":"8|0|XTTE0590|recalculate","C":[{"N":"supplied","slot":"3"}]}]}]}]}]},{"N":"param","line":"1622","name":"Q{}refreshRepeats","slot":"4","flags":"t","as":"1AB","C":[{"N":"false","role":"select"},{"N":"treat","role":"conversion","as":"AB","diag":"8|0|XTTE0590|refreshRepeats","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|refreshRepeats","C":[{"N":"cvUntyped","to":"AB","diag":"8|0|XTTE0590|refreshRepeats","C":[{"N":"data","diag":"8|0|XTTE0590|refreshRepeats","C":[{"N":"supplied","slot":"4"}]}]}]}]}]},{"N":"let","line":"1630","var":"Q{}myid","as":"1AS","slot":"5","eval":"16","C":[{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}id"}]},{"N":"check","card":"1","diag":"3|0|XTTE0570|myid","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|myid","C":[{"N":"attVal","name":"Q{}id","chk":"0"}]}]},{"N":"true"},{"N":"fn","name":"concat","C":[{"N":"fn","name":"generate-id","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.w3.org\/2002\/xforms}repeat"}]},{"N":"str","val":"-"},{"N":"choose","line":"1626","C":[{"N":"varRef","name":"Q{}context-position","slot":"2"},{"N":"varRef","name":"Q{}context-position","slot":"2"},{"N":"true"},{"N":"fn","name":"string","C":[{"N":"varRef","name":"Q{}position","slot":"1"}]}]}]}]},{"N":"let","line":"1632","var":"Q{}refi","as":"1AS","slot":"6","eval":"16","C":[{"N":"treat","line":"1633","as":"AS","diag":"3|0|XTTE0570|refi","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|refi","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|refi","C":[{"N":"data","diag":"3|0|XTTE0570|refi","C":[{"N":"applyT","mode":"Q{}get-data-ref","bSlot":"11","C":[{"N":"dot","role":"select","type":"1NE nQ{http:\/\/www.w3.org\/2002\/xforms}repeat"}]}]}]}]}]},{"N":"let","line":"1636","var":"Q{}this-instance-id","as":"1AS","slot":"7","eval":"16","C":[{"N":"treat","line":"1637","as":"AS","diag":"3|0|XTTE0570|this-instance-id","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|this-instance-id","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|this-instance-id","C":[{"N":"data","diag":"3|0|XTTE0570|this-instance-id","C":[{"N":"applyT","mode":"Q{}get-context-instance-id","bSlot":"12","C":[{"N":"dot","role":"select","type":"1NE nQ{http:\/\/www.w3.org\/2002\/xforms}repeat"},{"N":"withParam","name":"Q{}nodeset","as":"1AS","C":[{"N":"varRef","line":"1638","name":"Q{}refi","slot":"6"}]}]}]}]}]}]},{"N":"sequence","line":"1644","C":[{"N":"choose","C":[{"N":"varRef","name":"Q{}recalculate","slot":"3"},{"N":"empty"},{"N":"true"},{"N":"ifCall","line":"1663","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"setRepeatIndex"},{"N":"arrayBlock","C":[{"N":"varRef","name":"Q{}myid","slot":"5"},{"N":"choose","line":"1650","C":[{"N":"fn","name":"empty","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}startindex"}]},{"N":"dbl","val":"1"},{"N":"castable","line":"1653","flags":"a","as":"1AO","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}startindex"}]},{"N":"cvUntyped","line":"1654","to":"AO","diag":"3|0|XTTE0570|this-index","C":[{"N":"convert","from":"AO","to":"AZ","C":[{"N":"fn","name":"number","C":[{"N":"attVal","name":"Q{}startindex","chk":"0"}]}]}]},{"N":"true"},{"N":"dbl","val":"1"}]}]}]}]},{"N":"let","line":"1670","var":"Q{}selectedRepeatVar","as":"*NE","slot":"8","eval":"8","C":[{"N":"let","line":"1672","var":"Q{}instanceXML","as":"1NE","slot":"9","eval":"16","C":[{"N":"treat","as":"NE","diag":"3|0|XTTE0570|instanceXML","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|instanceXML","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"getInstance"},{"N":"arrayBlock","C":[{"N":"varRef","name":"Q{}this-instance-id","slot":"7"}]}]}]}]},{"N":"treat","line":"1673","as":"NE","diag":"3|0|XTTE0570|selectedRepeatVar","C":[{"N":"evaluate","dxns":"","C":[{"N":"let","role":"xpath","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"51","var":"Q{}input2","as":"1AS","slot":"10","eval":"8","C":[{"N":"fn","name":"string-join","C":[{"N":"analyzeString","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"saxon-xforms.xsl","line":"1673","C":[{"N":"varRef","role":"select","name":"Q{}refi","slot":"6"},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"36","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"6","C":[{"N":"str","val":"instance"},{"N":"str","val":"index"},{"N":"str","val":"avg"},{"N":"str","val":"foo"},{"N":"str","val":"current-date"},{"N":"str","val":"random"}]},{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"fn","line":"37","name":"concat","C":[{"N":"str","val":"xforms:"},{"N":"dot","type":"1AS"}]},{"N":"true"},{"N":"dot","line":"41","type":"1AS"}]},{"N":"dot","role":"nonMatching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"46","type":"1AS"}]}]},{"N":"choose","line":"56","C":[{"N":"fn","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"10"},{"N":"str","val":"^\\s*\/"},{"N":"str","val":""}]},{"N":"fn","line":"57","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"10"},{"N":"str","val":"^\\s\/[^\/]+"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"fn","line":"60","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"10"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":""}]},{"N":"fn","line":"61","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"10"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"true"},{"N":"varRef","line":"64","name":"Q{}input2","slot":"10"}]}]},{"N":"varRef","role":"cxt","name":"Q{}instanceXML","slot":"9"},{"N":"varRef","role":"nsCxt","name":"Q{}instanceXML","slot":"9"},{"N":"str","role":"sa","val":"no"},{"N":"map","role":"options","size":"0"},{"N":"map","role":"wp","size":"0"}]}]}]},{"N":"let","line":"1687","var":"Q{}repeat-items","as":"*NE","slot":"11","eval":"3","C":[{"N":"let","line":"1688","var":"Q{}this","as":"1NE nQ{http:\/\/www.w3.org\/2002\/xforms}repeat","slot":"12","eval":"16","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.w3.org\/2002\/xforms}repeat"},{"N":"let","line":"1693","var":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","as":"*NE","slot":"13","eval":"4","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"12"},{"N":"axis","name":"child","nodeTest":"NE"}]},{"N":"forEach","line":"1689","C":[{"N":"varRef","name":"Q{}selectedRepeatVar","slot":"8"},{"N":"let","line":"1690","var":"Q{}string-position","as":"1AS","slot":"14","eval":"8","C":[{"N":"fn","name":"string","C":[{"N":"fn","name":"position"}]},{"N":"elem","line":"1692","name":"div","nsuri":"","namespaces":"array ev fn in js map rdf xd xhtml","C":[{"N":"sequence","C":[{"N":"att","name":"data-repeat-item","flags":"l","C":[{"N":"str","val":"true"}]},{"N":"applyT","line":"1693","bSlot":"13","C":[{"N":"varRef","role":"select","name":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","slot":"13"},{"N":"withParam","name":"Q{}position","as":"1ADI","C":[{"N":"fn","line":"1695","name":"position"}]},{"N":"withParam","name":"Q{}context-position","as":"1AS","C":[{"N":"choose","line":"1691","C":[{"N":"varRef","name":"Q{}context-position","slot":"2"},{"N":"fn","name":"concat","C":[{"N":"varRef","name":"Q{}context-position","slot":"2"},{"N":"str","val":"."},{"N":"varRef","name":"Q{}string-position","slot":"14"}]},{"N":"true"},{"N":"varRef","name":"Q{}string-position","slot":"14"}]}]},{"N":"withParam","name":"Q{}nodeset","flags":"t","as":"1AS","C":[{"N":"fn","line":"1694","name":"concat","C":[{"N":"varRef","name":"Q{}refi","slot":"6"},{"N":"str","val":"["},{"N":"fn","name":"position"},{"N":"str","val":"]"}]}]}]}]}]}]}]}]}]},{"N":"sequence","line":"1704","C":[{"N":"choose","C":[{"N":"and","op":"and","C":[{"N":"varRef","name":"Q{}refreshRepeats","slot":"4"},{"N":"fn","name":"empty","C":[{"N":"slash","simple":"1","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.w3.org\/2002\/xforms}repeat"},{"N":"axis","name":"ancestor","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}repeat"}]}]}]},{"N":"varRef","line":"1705","name":"Q{}repeat-items","slot":"11"},{"N":"true"},{"N":"elem","line":"1708","name":"div","nsuri":"","namespaces":"array ev fn in js map rdf xd xhtml","C":[{"N":"sequence","line":"1709","C":[{"N":"let","var":"Q{}element","as":"1NE","slot":"15","eval":"16","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.w3.org\/2002\/xforms}repeat"},{"N":"let","line":"2219","var":"Q{}class","as":"?AS","slot":"16","eval":"7","C":[{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}element","slot":"15"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}class"}]}]},{"N":"cvUntyped","line":"2220","to":"AS","diag":"3|0|XTTE0570|class","C":[{"N":"cast","flags":"a","as":"1AZ","C":[{"N":"fn","name":"string","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}element","slot":"15"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}class"}]}]}]}]}]}]}]},{"N":"let","line":"2225","var":"Q{}class-mod","as":"?AS","slot":"17","eval":"7","C":[{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}element","slot":"15"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}incremental"}]}]},{"N":"cvUntyped","line":"2226","to":"AS","diag":"3|0|XTTE0570|class-mod","C":[{"N":"cast","flags":"a","as":"1AZ","C":[{"N":"fn","name":"string-join","C":[{"N":"sequence","C":[{"N":"varRef","name":"Q{}class","slot":"16"},{"N":"str","val":"incremental"}]},{"N":"str","val":" "}]}]}]},{"N":"true"},{"N":"varRef","line":"2229","name":"Q{}class","slot":"16"}]},{"N":"choose","line":"2233","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}class-mod","slot":"17"}]},{"N":"treat","line":"2234","as":"NA nQ{}class","diag":"5|0|XTTE0780|xforms:getClass#1","C":[{"N":"att","name":"class","flags":"l","C":[{"N":"varRef","name":"Q{}class-mod","slot":"17"}]}]}]}]}]}]},{"N":"att","line":"1711","name":"data-repeatable-context","flags":"l","C":[{"N":"varRef","name":"Q{}refi","slot":"6"}]},{"N":"att","line":"1712","name":"data-count","flags":"l","C":[{"N":"convert","from":"ADI","to":"AS","C":[{"N":"fn","name":"count","C":[{"N":"varRef","name":"Q{}selectedRepeatVar","slot":"8"}]}]}]},{"N":"att","line":"1713","name":"id","flags":"l","C":[{"N":"varRef","name":"Q{}myid","slot":"5"}]},{"N":"varRef","line":"1715","name":"Q{}repeat-items","slot":"11"}]}]}]},{"N":"choose","line":"1722","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"not","C":[{"N":"varRef","name":"Q{}recalculate","slot":"3"}]},{"N":"fn","name":"empty","C":[{"N":"slash","simple":"1","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.w3.org\/2002\/xforms}repeat"},{"N":"axis","name":"ancestor","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}repeat"}]}]}]},{"N":"sequence","line":"1726","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"addRepeat"},{"N":"arrayBlock","C":[{"N":"varRef","name":"Q{}myid","slot":"5"},{"N":"dot","type":"1NE nQ{http:\/\/www.w3.org\/2002\/xforms}repeat"}]}]},{"N":"ifCall","line":"1729","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"addRepeatContext"},{"N":"arrayBlock","C":[{"N":"varRef","name":"Q{}myid","slot":"5"},{"N":"varRef","name":"Q{}nodeset","slot":"0"}]}]}]}]},{"N":"ifCall","line":"1733","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"setRepeatSize"},{"N":"arrayBlock","C":[{"N":"varRef","name":"Q{}myid","slot":"5"},{"N":"fn","name":"count","C":[{"N":"varRef","name":"Q{}selectedRepeatVar","slot":"8"}]}]}]}]}]}]}]}]}]}]}]}]},{"N":"templateRule","prec":"0","prio":"0.0","seq":"31","part":"5","rank":"1","minImp":"0","slots":"1","matches":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}unload","flags":"s","line":"1904","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}unload"},{"N":"let","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"1912","var":"Q{}action-map","as":"1FM","slot":"0","eval":"16","C":[{"N":"treat","line":"1913","as":"FM","diag":"3|0|XTTE0570|action-map","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|action-map","C":[{"N":"applyT","mode":"Q{}set-action","bSlot":"2","C":[{"N":"dot","role":"select","type":"1NE"}]}]}]},{"N":"varRef","line":"1925","name":"Q{}action-map","slot":"0"}]}]},{"N":"templateRule","prec":"0","prio":"-0.5","seq":"20","part":"1","rank":"0","minImp":"0","slots":"0","matches":"NA","flags":"s","line":"1530","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NA"},{"N":"copy","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"1532","flags":"cin","sit":"1N","C":[{"N":"applyT","role":"content","bSlot":"14","C":[{"N":"sequence","role":"select","C":[{"N":"axis","name":"attribute","nodeTest":"NA"},{"N":"axis","name":"child","nodeTest":"N u[NE,NP,NC,NT]"}]}]}]}]},{"N":"templateRule","prec":"0","prio":"0.5","seq":"21","rank":"2","minImp":"0","slots":"0","matches":"NT","flags":"s","line":"1541","module":"saxon-xforms.xsl","C":[{"N":"p.withPredicate","role":"match","C":[{"N":"p.nodeTest","test":"NT"},{"N":"axis","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"1541","name":"ancestor","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}model"}]},{"N":"empty","role":"action"}]},{"N":"templateRule","prec":"0","prio":"-0.5","seq":"20","rank":"0","minImp":"0","slots":"0","matches":"N","flags":"s","line":"1530","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"N u[NE,NP,NC,NT]"},{"N":"copy","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"1532","flags":"cin","sit":"1N","C":[{"N":"applyT","role":"content","bSlot":"14","C":[{"N":"sequence","role":"select","C":[{"N":"axis","name":"attribute","nodeTest":"NA"},{"N":"axis","name":"child","nodeTest":"N u[NE,NP,NC,NT]"}]}]}]}]}]}]},{"N":"co","id":"50","binds":"","C":[{"N":"template","name":"Q{}refreshRelevantFields-JS","flags":"os","line":"2374","module":"saxon-xforms.xsl","slots":"6","C":[{"N":"let","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"2379","var":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","as":"1","slot":"0","eval":"13","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"sequence","line":"2375","C":[{"N":"message","C":[{"N":"valueOf","role":"select","C":[{"N":"str","val":"[refreshRelevantFields-JS] START"}]},{"N":"str","role":"terminate","val":"no"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]},{"N":"forEach","line":"2378","C":[{"N":"filter","flags":"b","C":[{"N":"slash","simple":"1","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}page","type":"1ND"},{"N":"axis","name":"descendant","nodeTest":"NE"}]},{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}data-relevant"}]}]},{"N":"let","line":"2379","var":"Q{}instanceXML","as":"1NE","slot":"1","eval":"16","C":[{"N":"treat","as":"NE","diag":"3|0|XTTE0570|instanceXML","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|instanceXML","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"varRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","slot":"0"},{"N":"str","val":"getInstance"},{"N":"arrayBlock","C":[{"N":"fn","name":"string","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}instance-context"}]}]}]}]}]},{"N":"let","line":"2380","var":"Q{}context-node","as":"?N","slot":"2","eval":"7","C":[{"N":"treat","line":"2381","as":"N","diag":"3|0|XTTE0570|context-node","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|context-node","C":[{"N":"evaluate","dxns":"","C":[{"N":"let","role":"xpath","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"51","var":"Q{}input2","as":"1AS","slot":"3","eval":"8","C":[{"N":"fn","name":"string-join","C":[{"N":"analyzeString","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"saxon-xforms.xsl","line":"2381","C":[{"N":"check","role":"select","card":"1","diag":"0|0||xforms:impose","C":[{"N":"cvUntyped","to":"AS","C":[{"N":"attVal","name":"Q{}data-ref","chk":"0"}]}]},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"36","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"6","C":[{"N":"str","val":"instance"},{"N":"str","val":"index"},{"N":"str","val":"avg"},{"N":"str","val":"foo"},{"N":"str","val":"current-date"},{"N":"str","val":"random"}]},{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"fn","line":"37","name":"concat","C":[{"N":"str","val":"xforms:"},{"N":"dot","type":"1AS"}]},{"N":"true"},{"N":"dot","line":"41","type":"1AS"}]},{"N":"dot","role":"nonMatching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"46","type":"1AS"}]}]},{"N":"choose","line":"56","C":[{"N":"fn","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"3"},{"N":"str","val":"^\\s*\/"},{"N":"str","val":""}]},{"N":"fn","line":"57","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"3"},{"N":"str","val":"^\\s\/[^\/]+"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"fn","line":"60","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"3"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":""}]},{"N":"fn","line":"61","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"3"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"true"},{"N":"varRef","line":"64","name":"Q{}input2","slot":"3"}]}]},{"N":"varRef","role":"cxt","name":"Q{}instanceXML","slot":"1"},{"N":"varRef","role":"nsCxt","name":"Q{}instanceXML","slot":"1"},{"N":"str","role":"sa","val":"no"},{"N":"map","role":"options","size":"0"},{"N":"map","role":"wp","size":"0"}]}]}]},{"N":"let","line":"2383","var":"Q{}relevantCheck","as":"1AB","slot":"4","eval":"16","C":[{"N":"treat","line":"2384","as":"AB","diag":"3|0|XTTE0570|relevantCheck","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|relevantCheck","C":[{"N":"cvUntyped","to":"AB","diag":"3|0|XTTE0570|relevantCheck","C":[{"N":"data","diag":"3|0|XTTE0570|relevantCheck","C":[{"N":"evaluate","dxns":"","C":[{"N":"let","role":"xpath","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"51","var":"Q{}input2","as":"1AS","slot":"5","eval":"8","C":[{"N":"fn","name":"string-join","C":[{"N":"analyzeString","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"saxon-xforms.xsl","line":"2384","C":[{"N":"check","role":"select","card":"1","diag":"0|0||xforms:impose","C":[{"N":"cvUntyped","to":"AS","C":[{"N":"attVal","name":"Q{}data-relevant","chk":"0"}]}]},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"36","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"6","C":[{"N":"str","val":"instance"},{"N":"str","val":"index"},{"N":"str","val":"avg"},{"N":"str","val":"foo"},{"N":"str","val":"current-date"},{"N":"str","val":"random"}]},{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"fn","line":"37","name":"concat","C":[{"N":"str","val":"xforms:"},{"N":"dot","type":"1AS"}]},{"N":"true"},{"N":"dot","line":"41","type":"1AS"}]},{"N":"dot","role":"nonMatching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"46","type":"1AS"}]}]},{"N":"choose","line":"56","C":[{"N":"fn","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"5"},{"N":"str","val":"^\\s*\/"},{"N":"str","val":""}]},{"N":"fn","line":"57","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"5"},{"N":"str","val":"^\\s\/[^\/]+"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"fn","line":"60","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"5"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":""}]},{"N":"fn","line":"61","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"5"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"true"},{"N":"varRef","line":"64","name":"Q{}input2","slot":"5"}]}]},{"N":"varRef","role":"cxt","name":"Q{}context-node","slot":"2"},{"N":"varRef","role":"nsCxt","name":"Q{}instanceXML","slot":"1"},{"N":"str","role":"sa","val":"no"},{"N":"map","role":"options","size":"0"},{"N":"map","role":"wp","size":"0"}]}]}]}]}]},{"N":"choose","line":"2388","C":[{"N":"varRef","name":"Q{}relevantCheck","slot":"4"},{"N":"ifCall","line":"2389","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}set-property","type":"?","C":[{"N":"str","val":"style.display"},{"N":"str","val":"inline"},{"N":"dot","type":"1NE"}]},{"N":"true"},{"N":"ifCall","line":"2392","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}set-property","type":"?","C":[{"N":"str","val":"style.display"},{"N":"str","val":"none"},{"N":"dot","type":"1NE"}]}]}]}]}]}]}]}]}]}]},{"N":"co","id":"2","binds":"","C":[{"N":"function","name":"Q{http:\/\/www.w3.org\/2002\/xforms}getInstanceId","line":"2246","module":"saxon-xforms.xsl","eval":"16","flags":"pU","as":"1AS","slots":"1","C":[{"N":"arg","name":"Q{}nodeset","as":"1AS"},{"N":"choose","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"2250","C":[{"N":"fn","name":"not","C":[{"N":"varRef","name":"Q{}nodeset","slot":"0"}]},{"N":"str","val":"saxon-forms-default-instance"},{"N":"true"},{"N":"check","line":"2256","card":"1","diag":"5|0|XTTE0780|xforms:getInstanceId#1","C":[{"N":"analyzeString","C":[{"N":"fn","role":"select","name":"normalize-space","C":[{"N":"varRef","name":"Q{}nodeset","slot":"0"}]},{"N":"str","role":"regex","val":"^instance\\s*\\(\\s*'([^']+)'\\s*\\)\\s*(\/\\s*(.*)|)$"},{"N":"str","role":"flags","val":""},{"N":"fn","role":"matching","line":"2258","name":"regex-group","C":[{"N":"int","val":"1"}]},{"N":"str","role":"nonMatching","val":"saxon-forms-default-instance"}]}]}]}]}]},{"N":"co","id":"27","binds":"13 71 19","C":[{"N":"template","name":"Q{}outermost-action-handler","flags":"os","line":"3255","module":"saxon-xforms.xsl","slots":"1","C":[{"N":"let","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"3256","var":"Q{}deferred-update-flags","as":"?FM","slot":"0","eval":"7","C":[{"N":"treat","as":"FM","diag":"3|0|XTTE0570|deferred-update-flags","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|deferred-update-flags","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"getDeferredUpdateFlags"},{"N":"array","size":"0"}]}]}]},{"N":"sequence","line":"3258","C":[{"N":"message","C":[{"N":"valueOf","role":"select","C":[{"N":"str","val":"[outermost-action-handler] START"}]},{"N":"str","role":"terminate","val":"no"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]},{"N":"choose","line":"3264","C":[{"N":"gc","op":"=","card":"N:1","comp":"GAC|http:\/\/www.w3.org\/2005\/xpath-functions\/collation\/codepoint","C":[{"N":"data","diag":"1|0||=","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"check","card":"1","diag":"0|0||map:get","C":[{"N":"varRef","name":"Q{}deferred-update-flags","slot":"0"}]},{"N":"str","val":"recalculate"}]}]},{"N":"str","val":"true"}]},{"N":"sequence","line":"3265","C":[{"N":"message","C":[{"N":"valueOf","role":"select","C":[{"N":"str","val":"[outermost-action-handler] triggering xforms-recalculate"}]},{"N":"str","role":"terminate","val":"no"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]},{"N":"callT","line":"3266","name":"Q{}xforms-recalculate","bSlot":"0"}]}]},{"N":"choose","line":"3268","C":[{"N":"gc","op":"=","card":"N:1","comp":"GAC|http:\/\/www.w3.org\/2005\/xpath-functions\/collation\/codepoint","C":[{"N":"data","diag":"1|0||=","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"check","card":"1","diag":"0|0||map:get","C":[{"N":"varRef","name":"Q{}deferred-update-flags","slot":"0"}]},{"N":"str","val":"revalidate"}]}]},{"N":"str","val":"true"}]},{"N":"sequence","line":"3269","C":[{"N":"message","C":[{"N":"valueOf","role":"select","C":[{"N":"str","val":"[outermost-action-handler] triggering xforms-revalidate"}]},{"N":"str","role":"terminate","val":"no"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]},{"N":"callT","line":"3270","name":"Q{}xforms-revalidate","bSlot":"1"}]}]},{"N":"choose","line":"3272","C":[{"N":"gc","op":"=","card":"N:1","comp":"GAC|http:\/\/www.w3.org\/2005\/xpath-functions\/collation\/codepoint","C":[{"N":"data","diag":"1|0||=","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"check","card":"1","diag":"0|0||map:get","C":[{"N":"varRef","name":"Q{}deferred-update-flags","slot":"0"}]},{"N":"str","val":"refresh"}]}]},{"N":"str","val":"true"}]},{"N":"sequence","line":"3273","C":[{"N":"message","C":[{"N":"valueOf","role":"select","C":[{"N":"str","val":"[outermost-action-handler] triggering xforms-refresh"}]},{"N":"str","role":"terminate","val":"no"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]},{"N":"callT","line":"3274","name":"Q{}xforms-refresh","bSlot":"2"}]}]},{"N":"ifCall","line":"3278","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"clearDeferredUpdateFlags"},{"N":"array","size":"0"}]}]}]}]}]},{"N":"co","id":"72","binds":"73 32 13","C":[{"N":"template","name":"Q{}xforms-model-construct","flags":"os","line":"2791","module":"saxon-xforms.xsl","slots":"3","C":[{"N":"let","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"2803","var":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","as":"1","slot":"1","eval":"13","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"sequence","line":"2792","C":[{"N":"param","name":"Q{}model","slot":"0","flags":"tr","as":"1NE nQ{http:\/\/www.w3.org\/2002\/xforms}model","C":[{"N":"treat","role":"conversion","as":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}model","diag":"8|0|XTTE0590|model","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|model","C":[{"N":"supplied","slot":"0"}]}]}]},{"N":"forEach","line":"2798","C":[{"N":"slash","line":"2796","simple":"1","C":[{"N":"varRef","name":"Q{}model","slot":"0"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}instance"}]},{"N":"let","line":"2799","var":"Q{}instance-with-explicit-namespaces","as":"1NE","slot":"2","eval":"16","C":[{"N":"treat","line":"2800","as":"NE","diag":"3|0|XTTE0570|instance-with-explicit-namespaces","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|instance-with-explicit-namespaces","C":[{"N":"applyT","mode":"Q{}namespace-fix","bSlot":"0","C":[{"N":"axis","role":"select","name":"child","nodeTest":"NE"}]}]}]},{"N":"sequence","line":"2803","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"varRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","slot":"1"},{"N":"str","val":"setInstance"},{"N":"arrayBlock","C":[{"N":"choose","line":"2802","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}id"}]},{"N":"check","card":"1","diag":"3|0|XTTE0570|instance-key","C":[{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"attVal","name":"Q{}id","chk":"0"}]}]},{"N":"true"},{"N":"str","val":"saxon-forms-default-instance"}]},{"N":"varRef","name":"Q{}instance-with-explicit-namespaces","slot":"2"}]}]},{"N":"choose","line":"2804","C":[{"N":"compareToInt","op":"eq","val":"1","C":[{"N":"fn","name":"position"}]},{"N":"ifCall","line":"2805","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"setDefaultInstance"},{"N":"arrayBlock","C":[{"N":"varRef","name":"Q{}instance-with-explicit-namespaces","slot":"2"}]}]}]}]}]}]},{"N":"callT","line":"2811","name":"Q{}xforms-rebuild","bSlot":"1","C":[{"N":"withParam","name":"Q{}get-bindings","flags":"c","as":"1AB","C":[{"N":"true"}]},{"N":"withParam","name":"Q{}model-key","flags":"t","as":"1AS","C":[{"N":"choose","line":"2794","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}model","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}id"}]}]},{"N":"check","card":"1","diag":"3|0|XTTE0570|model-key","C":[{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"data","diag":"2|0||cast as","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}model","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}id"}]}]}]}]},{"N":"true"},{"N":"str","val":"saxon-forms-default-model"}]}]}]},{"N":"callT","line":"2816","name":"Q{}xforms-recalculate","bSlot":"2","flags":"t"}]}]}]}]},{"N":"co","id":"74","binds":"","C":[{"N":"globalVariable","name":"Q{}debugMode","as":"1AB","line":"85","module":"saxon-xforms.xsl","visibility":"PRIVATE","flags":"s","C":[{"N":"true"}]}]},{"N":"co","id":"75","binds":"","C":[{"N":"function","name":"Q{http:\/\/www.w3.org\/2002\/xforms}getWhileStatement","line":"747","module":"saxon-xforms.xsl","eval":"7","flags":"pU","as":"?AS","slots":"1","C":[{"N":"arg","name":"Q{}map","as":"1FM"},{"N":"choose","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"750","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}contains","type":"1AB","C":[{"N":"varRef","name":"Q{}map","slot":"0"},{"N":"str","val":"@while"}]},{"N":"treat","line":"751","as":"AS","diag":"5|0|XTTE0780|xforms:getWhileStatement#1","C":[{"N":"check","card":"?","diag":"5|0|XTTE0780|xforms:getWhileStatement#1","C":[{"N":"cvUntyped","to":"AS","diag":"5|0|XTTE0780|xforms:getWhileStatement#1","C":[{"N":"data","diag":"5|0|XTTE0780|xforms:getWhileStatement#1","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}map","slot":"0"},{"N":"str","val":"@while"}]}]}]}]}]}]}]}]},{"N":"co","id":"53","binds":"53 17","C":[{"N":"mode","name":"Q{}get-data-ref","onNo":"TC","flags":"W","patternSlots":"0","C":[{"N":"templateRule","prec":"0","prio":"-0.25","seq":"6","rank":"0","minImp":"0","slots":"7","matches":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}*","flags":"s","as":"1AS","line":"481","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}*"},{"N":"check","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"482","card":"1","diag":"7|0|XTTE0505|match=\"xforms:*\" mode=\"get-data-ref\"","C":[{"N":"sequence","C":[{"N":"param","name":"Q{}nodeset","slot":"0","flags":"t","as":"1AS","C":[{"N":"str","role":"select","val":""},{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|nodeset","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|nodeset","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|nodeset","C":[{"N":"data","diag":"8|0|XTTE0590|nodeset","C":[{"N":"supplied","slot":"0"}]}]}]}]}]},{"N":"choose","line":"485","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}bind"}]},{"N":"let","line":"486","var":"Q{}bind","as":"1AS","slot":"1","eval":"16","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|bind","C":[{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"attVal","name":"Q{}bind","chk":"0"}]}]},{"N":"let","line":"487","var":"Q{}this-binding","as":"?NE nQ{http:\/\/www.w3.org\/2002\/xforms}bind","slot":"2","eval":"7","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|this-binding","C":[{"N":"docOrder","intra":"1","C":[{"N":"filter","flags":"b","C":[{"N":"slash","simple":"2","C":[{"N":"fn","name":"reverse","C":[{"N":"slash","simple":"1","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.w3.org\/2002\/xforms}*"},{"N":"axis","name":"ancestor","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}xform"}]}]},{"N":"axis","name":"descendant","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}bind"}]},{"N":"vc","op":"eq","onEmpty":"0","comp":"CCC","C":[{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"attVal","name":"Q{}id","chk":"0"}]},{"N":"varRef","name":"Q{}bind","slot":"1"}]}]}]}]},{"N":"choose","line":"489","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}this-binding","slot":"2"}]},{"N":"treat","line":"490","as":"AS","diag":"7|0|XTTE0505|match=\"xforms:*\" mode=\"get-data-ref\"","C":[{"N":"cvUntyped","to":"AS","diag":"7|0|XTTE0505|match=\"xforms:*\" mode=\"get-data-ref\"","C":[{"N":"data","diag":"7|0|XTTE0505|match=\"xforms:*\" mode=\"get-data-ref\"","C":[{"N":"applyT","mode":"Q{}get-data-ref","flags":"t","bSlot":"0","C":[{"N":"varRef","role":"select","name":"Q{}this-binding","slot":"2"},{"N":"withParam","name":"Q{}nodeset","as":"?AS","C":[{"N":"choose","line":"491","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}nodeset"}]},{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"attVal","name":"Q{}nodeset","chk":"0"}]},{"N":"true"},{"N":"str","val":""}]}]}]}]}]}]},{"N":"true"},{"N":"treat","line":"495","as":"AS","diag":"7|0|XTTE0505|match=\"xforms:*\" mode=\"get-data-ref\"","C":[{"N":"cvUntyped","to":"AS","diag":"7|0|XTTE0505|match=\"xforms:*\" mode=\"get-data-ref\"","C":[{"N":"data","diag":"7|0|XTTE0505|match=\"xforms:*\" mode=\"get-data-ref\"","C":[{"N":"callT","name":"Q{}xforms-binding-exception","bSlot":"1","flags":"t","C":[{"N":"withParam","name":"Q{}message","flags":"c","as":"1AS","C":[{"N":"fn","line":"496","name":"concat","C":[{"N":"str","val":"No binding found with ID "},{"N":"varRef","name":"Q{}bind","slot":"1"}]}]}]}]}]}]}]}]}]},{"N":"true"},{"N":"let","line":"507","var":"Q{}this-ref","as":"?AS","slot":"3","eval":"7","C":[{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}nodeset"}]},{"N":"fn","name":"normalize-space","C":[{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"attVal","name":"Q{}nodeset","chk":"0"}]}]},{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}ref"}]},{"N":"fn","name":"normalize-space","C":[{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"attVal","name":"Q{}ref","chk":"0"}]}]}]},{"N":"choose","line":"516","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}this-ref","slot":"3"}]},{"N":"fn","name":"not","C":[{"N":"varRef","name":"Q{}nodeset","slot":"0"}]}]},{"N":"let","line":"512","var":"Q{}base","as":"1AS","slot":"4","eval":"16","C":[{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}context"}]},{"N":"fn","name":"normalize-space","C":[{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"attVal","name":"Q{}context","chk":"0"}]}]},{"N":"true"},{"N":"str","val":"."}]},{"N":"let","line":"517","var":"Q{}relative","as":"1AS","slot":"5","eval":"16","C":[{"N":"check","card":"1","diag":"0|1||xforms:resolveXPathStrings","C":[{"N":"varRef","name":"Q{}this-ref","slot":"3"}]},{"N":"choose","line":"776","C":[{"N":"fn","name":"starts-with","C":[{"N":"varRef","name":"Q{}relative","slot":"5"},{"N":"str","val":"\/"}]},{"N":"varRef","line":"777","name":"Q{}relative","slot":"5"},{"N":"fn","line":"779","name":"starts-with","C":[{"N":"varRef","name":"Q{}relative","slot":"5"},{"N":"str","val":"instance("}]},{"N":"varRef","line":"780","name":"Q{}relative","slot":"5"},{"N":"fn","line":"782","name":"not","C":[{"N":"varRef","name":"Q{}base","slot":"4"}]},{"N":"varRef","line":"783","name":"Q{}relative","slot":"5"},{"N":"or","line":"785","op":"or","C":[{"N":"fn","name":"not","C":[{"N":"varRef","name":"Q{}relative","slot":"5"}]},{"N":"compareToString","op":"eq","val":".","C":[{"N":"varRef","name":"Q{}relative","slot":"5"}]}]},{"N":"varRef","line":"786","name":"Q{}base","slot":"4"},{"N":"true"},{"N":"fn","line":"789","name":"concat","C":[{"N":"varRef","name":"Q{}base","slot":"4"},{"N":"str","val":"\/"},{"N":"varRef","name":"Q{}relative","slot":"5"}]}]}]}]},{"N":"fn","line":"519","name":"exists","C":[{"N":"varRef","name":"Q{}this-ref","slot":"3"}]},{"N":"let","line":"520","var":"Q{}relative","as":"1AS","slot":"6","eval":"16","C":[{"N":"check","card":"1","diag":"0|1||xforms:resolveXPathStrings","C":[{"N":"varRef","name":"Q{}this-ref","slot":"3"}]},{"N":"choose","line":"776","C":[{"N":"fn","name":"starts-with","C":[{"N":"varRef","name":"Q{}relative","slot":"6"},{"N":"str","val":"\/"}]},{"N":"varRef","line":"777","name":"Q{}relative","slot":"6"},{"N":"fn","line":"779","name":"starts-with","C":[{"N":"varRef","name":"Q{}relative","slot":"6"},{"N":"str","val":"instance("}]},{"N":"varRef","line":"780","name":"Q{}relative","slot":"6"},{"N":"fn","line":"520","name":"not","C":[{"N":"varRef","name":"Q{}nodeset","slot":"0"}]},{"N":"varRef","line":"783","name":"Q{}relative","slot":"6"},{"N":"or","line":"785","op":"or","C":[{"N":"fn","name":"not","C":[{"N":"varRef","name":"Q{}relative","slot":"6"}]},{"N":"compareToString","op":"eq","val":".","C":[{"N":"varRef","name":"Q{}relative","slot":"6"}]}]},{"N":"varRef","line":"520","name":"Q{}nodeset","slot":"0"},{"N":"true"},{"N":"fn","line":"520","name":"concat","C":[{"N":"varRef","name":"Q{}nodeset","slot":"0"},{"N":"str","val":"\/"},{"N":"varRef","line":"789","name":"Q{}relative","slot":"6"}]}]}]},{"N":"varRef","line":"522","name":"Q{}nodeset","slot":"0"},{"N":"choose","line":"523","C":[{"N":"fn","name":"starts-with","C":[{"N":"varRef","name":"Q{}nodeset","slot":"0"},{"N":"str","val":"\/"}]},{"N":"varRef","name":"Q{}nodeset","slot":"0"},{"N":"fn","name":"starts-with","C":[{"N":"varRef","name":"Q{}nodeset","slot":"0"},{"N":"str","val":"instance("}]},{"N":"varRef","name":"Q{}nodeset","slot":"0"},{"N":"true"},{"N":"varRef","name":"Q{}nodeset","slot":"0"}]},{"N":"true"},{"N":"cvUntyped","line":"526","to":"AS","diag":"3|0|XTTE0570|data-ref","C":[{"N":"cast","flags":"a","as":"1AZ","C":[{"N":"varRef","name":"Q{}nodeset","slot":"0"}]}]}]}]}]}]}]}]}]}]},{"N":"co","id":"68","binds":"53 54 68","C":[{"N":"mode","name":"Q{}set-action","onNo":"TC","flags":"W","patternSlots":"0","C":[{"N":"templateRule","prec":"0","prio":"-0.25","seq":"8","rank":"1","minImp":"0","slots":"10","matches":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}*","flags":"s","line":"555","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}*"},{"N":"sequence","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"556","C":[{"N":"param","name":"Q{}instance-id","slot":"0","flags":"t","as":"1AS","C":[{"N":"str","role":"select","val":"saxon-forms-default-instance"},{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|instance-id","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|instance-id","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|instance-id","C":[{"N":"data","diag":"8|0|XTTE0590|instance-id","C":[{"N":"supplied","slot":"0"}]}]}]}]}]},{"N":"param","line":"557","name":"Q{}nodeset","slot":"1","flags":"t","as":"1AS","C":[{"N":"str","role":"select","val":""},{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|nodeset","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|nodeset","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|nodeset","C":[{"N":"data","diag":"8|0|XTTE0590|nodeset","C":[{"N":"supplied","slot":"1"}]}]}]}]}]},{"N":"param","line":"558","name":"Q{}handler-status","slot":"2","flags":"t","C":[{"N":"str","role":"select","val":"outermost"},{"N":"supplied","role":"conversion","slot":"2"}]},{"N":"let","line":"562","var":"Q{}refi","as":"1AS","slot":"3","eval":"16","C":[{"N":"treat","line":"563","as":"AS","diag":"3|0|XTTE0570|refi","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|refi","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|refi","C":[{"N":"data","diag":"3|0|XTTE0570|refi","C":[{"N":"applyT","mode":"Q{}get-data-ref","bSlot":"0","C":[{"N":"dot","role":"select","type":"1NE nQ{http:\/\/www.w3.org\/2002\/xforms}*"},{"N":"withParam","name":"Q{}nodeset","as":"1AS","C":[{"N":"varRef","line":"564","name":"Q{}nodeset","slot":"1"}]}]}]}]}]}]},{"N":"let","line":"568","var":"Q{}this-instance-id","as":"1AS","slot":"4","eval":"16","C":[{"N":"treat","line":"569","as":"AS","diag":"3|0|XTTE0570|this-instance-id","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|this-instance-id","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|this-instance-id","C":[{"N":"data","diag":"3|0|XTTE0570|this-instance-id","C":[{"N":"applyT","mode":"Q{}get-context-instance-id","bSlot":"1","C":[{"N":"dot","role":"select","type":"1NE nQ{http:\/\/www.w3.org\/2002\/xforms}*"},{"N":"withParam","name":"Q{}nodeset","as":"1AS","C":[{"N":"varRef","line":"570","name":"Q{}refi","slot":"3"}]}]}]}]}]}]},{"N":"ifCall","line":"582","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}merge","type":"1FM","C":[{"N":"sequence","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"name"},{"N":"fn","name":"local-name","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.w3.org\/2002\/xforms}*"}]}]},{"N":"ifCall","line":"583","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"handler-status"},{"N":"varRef","name":"Q{}handler-status","slot":"2"}]},{"N":"ifCall","line":"584","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"instance-context"},{"N":"varRef","name":"Q{}this-instance-id","slot":"4"}]},{"N":"choose","line":"586","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}value"}]},{"N":"ifCall","line":"587","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"@value"},{"N":"fn","name":"string","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}value"}]}]}]},{"N":"choose","line":"593","C":[{"N":"and","op":"and","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"empty","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}value"}]},{"N":"fn","name":"exists","C":[{"N":"axis","name":"child","nodeTest":"NT"}]}]},{"N":"fn","name":"empty","C":[{"N":"axis","name":"self","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}message"}]}]},{"N":"ifCall","line":"594","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"value"},{"N":"fn","name":"string","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.w3.org\/2002\/xforms}*"}]}]}]},{"N":"ifCall","line":"597","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"@ref"},{"N":"varRef","name":"Q{}refi","slot":"3"}]},{"N":"choose","line":"603","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}position"}]},{"N":"ifCall","line":"604","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"@position"},{"N":"fn","name":"string","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}position"}]}]}]},{"N":"choose","line":"606","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}at"}]},{"N":"ifCall","line":"607","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"@at"},{"N":"fn","name":"string","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}at"}]}]}]},{"N":"choose","line":"611","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}if"}]},{"N":"ifCall","line":"612","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"@if"},{"N":"fn","name":"string","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}if"}]}]}]},{"N":"choose","line":"616","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}while"}]},{"N":"ifCall","line":"617","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"@while"},{"N":"fn","name":"string","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}while"}]}]}]},{"N":"choose","line":"620","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA n*:event"}]},{"N":"ifCall","line":"621","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"@event"},{"N":"fn","name":"string","C":[{"N":"check","card":"?","diag":"0|0||fn:string","C":[{"N":"axis","name":"attribute","nodeTest":"NA n*:event"}]}]}]}]},{"N":"choose","line":"623","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}submission"}]},{"N":"ifCall","line":"624","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"@submission"},{"N":"fn","name":"string","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}submission"}]}]}]},{"N":"choose","line":"627","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}model"}]},{"N":"ifCall","line":"628","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"@model"},{"N":"fn","name":"string","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}model"}]}]}]},{"N":"choose","line":"631","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}control"}]},{"N":"ifCall","line":"632","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"@control"},{"N":"fn","name":"string","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}control"}]}]}]},{"N":"choose","line":"635","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}repeat"}]},{"N":"ifCall","line":"636","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"@repeat"},{"N":"fn","name":"string","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}repeat"}]}]}]},{"N":"choose","line":"639","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}index"}]},{"N":"ifCall","line":"640","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"@index"},{"N":"fn","name":"string","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}index"}]}]}]},{"N":"choose","line":"643","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}level"}]},{"N":"ifCall","line":"644","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"@level"},{"N":"fn","name":"string","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}level"}]}]}]},{"N":"choose","line":"647","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}origin"}]},{"N":"ifCall","line":"655","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"@origin"},{"N":"let","line":"651","var":"Q{}base","as":"1AS","slot":"5","eval":"16","C":[{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}context"}]},{"N":"let","var":"Q{}relative","as":"1AS","slot":"6","eval":"16","C":[{"N":"check","card":"1","diag":"0|1||xforms:resolveXPathStrings","C":[{"N":"cvUntyped","to":"AS","C":[{"N":"attVal","name":"Q{}context","chk":"0"}]}]},{"N":"choose","line":"776","C":[{"N":"fn","name":"starts-with","C":[{"N":"varRef","name":"Q{}relative","slot":"6"},{"N":"str","val":"\/"}]},{"N":"varRef","line":"777","name":"Q{}relative","slot":"6"},{"N":"fn","line":"779","name":"starts-with","C":[{"N":"varRef","name":"Q{}relative","slot":"6"},{"N":"str","val":"instance("}]},{"N":"varRef","line":"780","name":"Q{}relative","slot":"6"},{"N":"fn","line":"651","name":"not","C":[{"N":"varRef","name":"Q{}nodeset","slot":"1"}]},{"N":"varRef","line":"783","name":"Q{}relative","slot":"6"},{"N":"or","line":"785","op":"or","C":[{"N":"fn","name":"not","C":[{"N":"varRef","name":"Q{}relative","slot":"6"}]},{"N":"compareToString","op":"eq","val":".","C":[{"N":"varRef","name":"Q{}relative","slot":"6"}]}]},{"N":"varRef","line":"651","name":"Q{}nodeset","slot":"1"},{"N":"true"},{"N":"fn","line":"651","name":"concat","C":[{"N":"varRef","name":"Q{}nodeset","slot":"1"},{"N":"str","val":"\/"},{"N":"varRef","line":"789","name":"Q{}relative","slot":"6"}]}]}]},{"N":"true"},{"N":"varRef","name":"Q{}nodeset","slot":"1"}]},{"N":"let","line":"653","var":"Q{}relative","as":"1AS","slot":"7","eval":"16","C":[{"N":"check","card":"1","diag":"0|1||xforms:resolveXPathStrings","C":[{"N":"cvUntyped","to":"AS","C":[{"N":"attVal","name":"Q{}origin","chk":"0"}]}]},{"N":"choose","line":"776","C":[{"N":"fn","name":"starts-with","C":[{"N":"varRef","name":"Q{}relative","slot":"7"},{"N":"str","val":"\/"}]},{"N":"varRef","line":"777","name":"Q{}relative","slot":"7"},{"N":"fn","line":"779","name":"starts-with","C":[{"N":"varRef","name":"Q{}relative","slot":"7"},{"N":"str","val":"instance("}]},{"N":"varRef","line":"780","name":"Q{}relative","slot":"7"},{"N":"fn","line":"782","name":"not","C":[{"N":"varRef","name":"Q{}base","slot":"5"}]},{"N":"varRef","line":"783","name":"Q{}relative","slot":"7"},{"N":"or","line":"785","op":"or","C":[{"N":"fn","name":"not","C":[{"N":"varRef","name":"Q{}relative","slot":"7"}]},{"N":"compareToString","op":"eq","val":".","C":[{"N":"varRef","name":"Q{}relative","slot":"7"}]}]},{"N":"varRef","line":"786","name":"Q{}base","slot":"5"},{"N":"true"},{"N":"fn","line":"789","name":"concat","C":[{"N":"varRef","name":"Q{}base","slot":"5"},{"N":"str","val":"\/"},{"N":"varRef","name":"Q{}relative","slot":"7"}]}]}]}]}]}]},{"N":"choose","line":"658","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}context"}]},{"N":"ifCall","line":"659","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"@context"},{"N":"let","var":"Q{}relative","as":"1AS","slot":"8","eval":"16","C":[{"N":"check","card":"1","diag":"0|1||xforms:resolveXPathStrings","C":[{"N":"cvUntyped","to":"AS","C":[{"N":"attVal","name":"Q{}context","chk":"0"}]}]},{"N":"choose","line":"776","C":[{"N":"fn","name":"starts-with","C":[{"N":"varRef","name":"Q{}relative","slot":"8"},{"N":"str","val":"\/"}]},{"N":"varRef","line":"777","name":"Q{}relative","slot":"8"},{"N":"fn","line":"779","name":"starts-with","C":[{"N":"varRef","name":"Q{}relative","slot":"8"},{"N":"str","val":"instance("}]},{"N":"varRef","line":"780","name":"Q{}relative","slot":"8"},{"N":"fn","line":"659","name":"not","C":[{"N":"varRef","name":"Q{}nodeset","slot":"1"}]},{"N":"varRef","line":"783","name":"Q{}relative","slot":"8"},{"N":"or","line":"785","op":"or","C":[{"N":"fn","name":"not","C":[{"N":"varRef","name":"Q{}relative","slot":"8"}]},{"N":"compareToString","op":"eq","val":".","C":[{"N":"varRef","name":"Q{}relative","slot":"8"}]}]},{"N":"varRef","line":"659","name":"Q{}nodeset","slot":"1"},{"N":"true"},{"N":"fn","line":"659","name":"concat","C":[{"N":"varRef","name":"Q{}nodeset","slot":"1"},{"N":"str","val":"\/"},{"N":"varRef","line":"789","name":"Q{}relative","slot":"8"}]}]}]}]}]},{"N":"choose","line":"663","C":[{"N":"or","op":"or","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"child","nodeTest":"NE"}]},{"N":"and","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"self","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}message"}]},{"N":"fn","name":"exists","C":[{"N":"axis","name":"child","nodeTest":"NT"}]}]}]},{"N":"ifCall","line":"664","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"nested-actions"},{"N":"let","line":"665","var":"Q{}array","as":"*FM","slot":"9","eval":"3","C":[{"N":"treat","line":"666","as":"FM","diag":"3|0|XTTE0570|array","C":[{"N":"forEach","C":[{"N":"filter","flags":"b","C":[{"N":"axis","name":"child","nodeTest":"N"},{"N":"or","op":"or","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"self","nodeTest":"NE"}]},{"N":"fn","name":"exists","C":[{"N":"filter","flags":"b","C":[{"N":"axis","name":"self","nodeTest":"NT"},{"N":"fn","name":"exists","C":[{"N":"axis","name":"parent","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}message"}]}]}]}]}]},{"N":"applyT","line":"667","mode":"Q{}set-action","bSlot":"2","C":[{"N":"dot","role":"select","type":"1N"},{"N":"withParam","name":"Q{}handler-status","flags":"t","as":"1AS","C":[{"N":"str","val":"inner"}]}]}]}]},{"N":"ifCall","line":"672","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/array}_from-sequence","type":"1FA","C":[{"N":"varRef","name":"Q{}array","slot":"9"}]}]}]}]}]},{"N":"map","size":"2","C":[{"N":"str","val":"duplicates"},{"N":"str","val":"reject"},{"N":"str","val":"duplicates-error-code"},{"N":"str","val":"XTDE3365"}]}]}]}]}]}]},{"N":"templateRule","prec":"0","prio":"-0.5","seq":"9","rank":"0","minImp":"0","slots":"0","matches":"NT","flags":"s","line":"686","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NT"},{"N":"ifCall","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"688","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}merge","type":"1FM","C":[{"N":"sequence","C":[{"N":"literal","count":"3","C":[{"N":"map","size":"1","C":[{"N":"str","val":"name"},{"N":"str","val":"text"}]},{"N":"map","size":"1","C":[{"N":"str","val":"instance-context"},{"N":"str","val":"saxon-forms-default-instance"}]},{"N":"map","size":"1","C":[{"N":"str","val":"handler-status"},{"N":"str","val":"inner"}]}]},{"N":"ifCall","line":"691","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"@value"},{"N":"fn","name":"string","C":[{"N":"dot","type":"1NT"}]}]}]},{"N":"map","size":"2","C":[{"N":"str","val":"duplicates"},{"N":"str","val":"reject"},{"N":"str","val":"duplicates-error-code"},{"N":"str","val":"XTDE3365"}]}]}]}]}]},{"N":"co","id":"69","binds":"38","C":[{"N":"mode","name":"Q{}set-actions","onNo":"TC","flags":"W","patternSlots":"0","C":[{"N":"templateRule","prec":"0","prio":"-0.25","seq":"7","rank":"0","minImp":"0","slots":"0","matches":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}*","flags":"s","line":"545","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}*"},{"N":"applyT","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"546","flags":"t","bSlot":"0","C":[{"N":"union","role":"select","op":"|","C":[{"N":"union","op":"|","C":[{"N":"union","op":"|","C":[{"N":"union","op":"|","C":[{"N":"union","op":"|","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}action"},{"N":"filter","flags":"b","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}*"},{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"15","C":[{"N":"str","val":"setvalue"},{"N":"str","val":"insert"},{"N":"str","val":"delete"},{"N":"str","val":"setindex"},{"N":"str","val":"toggle"},{"N":"str","val":"setfocus"},{"N":"str","val":"dispatch"},{"N":"str","val":"rebuild"},{"N":"str","val":"recalculate"},{"N":"str","val":"revalidate"},{"N":"str","val":"refresh"},{"N":"str","val":"reset"},{"N":"str","val":"load"},{"N":"str","val":"send"},{"N":"str","val":"message"}]},{"N":"fn","name":"local-name","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.w3.org\/2002\/xforms}*"}]}]}]}]},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}show"}]},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}hide"}]},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}script"}]},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}unload"}]}]}]}]}]},{"N":"co","id":"76","binds":"16","C":[{"N":"template","name":"Q{}DOMActivate","flags":"os","line":"3299","module":"saxon-xforms.xsl","slots":"3","C":[{"N":"sequence","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"3300","C":[{"N":"param","name":"Q{}form-control","slot":"0","flags":"i","as":"1N","C":[{"N":"treat","role":"conversion","as":"N","diag":"8|0|XTTE0590|form-control","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|form-control","C":[{"N":"supplied","slot":"0"}]}]}]},{"N":"let","line":"3302","var":"Q{}actions","as":"*FM","slot":"1","eval":"8","C":[{"N":"treat","as":"FM","diag":"3|0|XTTE0570|actions","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"getAction"},{"N":"arrayBlock","C":[{"N":"fn","name":"string","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}form-control","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}data-action"}]}]}]}]}]},{"N":"forEach","line":"3334","C":[{"N":"varRef","name":"Q{}actions","slot":"1"},{"N":"let","line":"3335","var":"Q{}action-map","as":"1","slot":"2","eval":"16","C":[{"N":"dot","type":"1FM"},{"N":"choose","line":"3338","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}contains","type":"1AB","C":[{"N":"varRef","name":"Q{}action-map","slot":"2"},{"N":"str","val":"@event"}]},{"N":"choose","line":"3339","C":[{"N":"gc","op":"=","card":"N:1","comp":"GAC|http:\/\/www.w3.org\/2005\/xpath-functions\/collation\/codepoint","C":[{"N":"data","diag":"1|0||=","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}action-map","slot":"2"},{"N":"str","val":"@event"}]}]},{"N":"str","val":"DOMActivate"}]},{"N":"callT","line":"3340","name":"Q{}applyActions","bSlot":"0","C":[{"N":"withParam","name":"Q{}action-map","flags":"t","as":"1","C":[{"N":"varRef","line":"3341","name":"Q{}action-map","slot":"2"}]}]}]}]}]}]}]}]}]}]},{"N":"co","id":"77","binds":"","C":[{"N":"template","name":"Q{}serverError","flags":"os","line":"994","module":"saxon-xforms.xsl","slots":"1","C":[{"N":"sequence","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"995","C":[{"N":"param","name":"Q{}responseMap","slot":"0","flags":"i","as":"1FM","C":[{"N":"treat","role":"conversion","as":"FM","diag":"8|0|XTTE0590|responseMap","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|responseMap","C":[{"N":"supplied","slot":"0"}]}]}]},{"N":"message","line":"996","C":[{"N":"sequence","role":"select","C":[{"N":"valueOf","C":[{"N":"str","val":"Server side error HTTP response - "}]},{"N":"valueOf","C":[{"N":"fn","name":"concat","C":[{"N":"atomSing","card":"?","diag":"0|0||fn:concat","C":[{"N":"lookup","C":[{"N":"varRef","name":"Q{}responseMap","slot":"0"},{"N":"str","val":"status"}]}]},{"N":"str","val":" "},{"N":"atomSing","card":"?","diag":"0|2||fn:concat","C":[{"N":"lookup","C":[{"N":"varRef","name":"Q{}responseMap","slot":"0"},{"N":"str","val":"message"}]}]}]}]}]},{"N":"str","role":"terminate","val":"no"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]}]}]}]},{"N":"co","id":"47","binds":"","C":[{"N":"function","name":"Q{http:\/\/www.w3.org\/2002\/xforms}check-constraints-on-fields","line":"898","module":"saxon-xforms.xsl","eval":"8","flags":"pU","as":"*","slots":"6","C":[{"N":"arg","name":"Q{}instanceXML","as":"1NE"},{"N":"let","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"901","var":"Q{}constraint-fieldsi","as":"*NE","slot":"1","eval":"8","C":[{"N":"filter","flags":"b","C":[{"N":"slash","simple":"1","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}page","type":"1ND"},{"N":"axis","name":"descendant","nodeTest":"NE"}]},{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}data-constraint"}]}]},{"N":"forEach","line":"903","C":[{"N":"varRef","name":"Q{}constraint-fieldsi","slot":"1"},{"N":"let","line":"904","var":"Q{}contexti","as":"1N","slot":"2","eval":"16","C":[{"N":"treat","line":"905","as":"N","diag":"3|0|XTTE0570|contexti","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|contexti","C":[{"N":"evaluate","dxns":"","C":[{"N":"let","role":"xpath","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"33","var":"Q{}input2","as":"1AS","slot":"3","eval":"8","C":[{"N":"fn","name":"string-join","C":[{"N":"analyzeString","C":[{"N":"check","role":"select","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"saxon-xforms.xsl","line":"905","card":"1","diag":"0|0||xforms:impose","C":[{"N":"cvUntyped","to":"AS","C":[{"N":"attVal","name":"Q{}data-ref","chk":"0"}]}]},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","line":"36","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"6","C":[{"N":"str","val":"instance"},{"N":"str","val":"index"},{"N":"str","val":"avg"},{"N":"str","val":"foo"},{"N":"str","val":"current-date"},{"N":"str","val":"random"}]},{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"fn","line":"37","name":"concat","C":[{"N":"str","val":"xforms:"},{"N":"dot","type":"1AS"}]},{"N":"true"},{"N":"dot","line":"41","type":"1AS"}]},{"N":"dot","role":"nonMatching","line":"46","type":"1AS"}]}]},{"N":"choose","line":"56","C":[{"N":"fn","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"3"},{"N":"str","val":"^\\s*\/"},{"N":"str","val":""}]},{"N":"fn","line":"57","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"3"},{"N":"str","val":"^\\s\/[^\/]+"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"fn","line":"60","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"3"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":""}]},{"N":"fn","line":"61","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"3"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"true"},{"N":"varRef","line":"64","name":"Q{}input2","slot":"3"}]}]},{"N":"varRef","role":"cxt","name":"Q{}instanceXML","slot":"0"},{"N":"varRef","role":"nsCxt","name":"Q{}instanceXML","slot":"0"},{"N":"str","role":"sa","val":"no"},{"N":"map","role":"options","size":"0"},{"N":"map","role":"wp","size":"0"}]}]}]},{"N":"sequence","line":"907","C":[{"N":"message","C":[{"N":"sequence","role":"select","C":[{"N":"valueOf","C":[{"N":"str","val":"[xforms:check-constraints-on-fields] Evaluating XPath: "}]},{"N":"fn","name":"serialize","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}data-ref"}]}]},{"N":"str","role":"terminate","val":"no"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]},{"N":"let","line":"909","var":"Q{}resulti","as":"1AB","slot":"4","eval":"16","C":[{"N":"treat","line":"910","as":"AB","diag":"3|0|XTTE0570|resulti","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|resulti","C":[{"N":"cvUntyped","to":"AB","diag":"3|0|XTTE0570|resulti","C":[{"N":"data","diag":"3|0|XTTE0570|resulti","C":[{"N":"evaluate","dxns":"","C":[{"N":"let","role":"xpath","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"33","var":"Q{}input2","as":"1AS","slot":"5","eval":"8","C":[{"N":"fn","name":"string-join","C":[{"N":"analyzeString","C":[{"N":"check","role":"select","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"saxon-xforms.xsl","line":"910","card":"1","diag":"0|0||xforms:impose","C":[{"N":"cvUntyped","to":"AS","C":[{"N":"attVal","name":"Q{}data-constraint","chk":"0"}]}]},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","line":"36","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"6","C":[{"N":"str","val":"instance"},{"N":"str","val":"index"},{"N":"str","val":"avg"},{"N":"str","val":"foo"},{"N":"str","val":"current-date"},{"N":"str","val":"random"}]},{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"fn","line":"37","name":"concat","C":[{"N":"str","val":"xforms:"},{"N":"dot","type":"1AS"}]},{"N":"true"},{"N":"dot","line":"41","type":"1AS"}]},{"N":"dot","role":"nonMatching","line":"46","type":"1AS"}]}]},{"N":"choose","line":"56","C":[{"N":"fn","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"5"},{"N":"str","val":"^\\s*\/"},{"N":"str","val":""}]},{"N":"fn","line":"57","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"5"},{"N":"str","val":"^\\s\/[^\/]+"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"fn","line":"60","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"5"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":""}]},{"N":"fn","line":"61","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"5"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"true"},{"N":"varRef","line":"64","name":"Q{}input2","slot":"5"}]}]},{"N":"varRef","role":"cxt","name":"Q{}contexti","slot":"2"},{"N":"varRef","role":"nsCxt","name":"Q{}instanceXML","slot":"0"},{"N":"str","role":"sa","val":"no"},{"N":"map","role":"options","size":"0"},{"N":"map","role":"wp","size":"0"}]}]}]}]}]},{"N":"choose","line":"912","C":[{"N":"fn","name":"not","C":[{"N":"varRef","name":"Q{}resulti","slot":"4"}]},{"N":"dot","type":"1NE"}]}]}]}]}]}]}]}]},{"N":"co","id":"78","binds":"79 27","C":[{"N":"mode","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}onchange","onNo":"TC","flags":"W","patternSlots":"0","C":[{"N":"templateRule","prec":"0","prio":"-0.25","seq":"2","part":"2","rank":"0","minImp":"0","slots":"0","matches":"NE n*:textarea","flags":"s","line":"308","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE n*:textarea"},{"N":"sequence","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"309","C":[{"N":"callT","name":"Q{}action-setvalue-form-control","bSlot":"0","C":[{"N":"withParam","name":"Q{}form-control","flags":"c","as":"1N","C":[{"N":"dot","line":"310","type":"1NE"}]}]},{"N":"callT","line":"312","name":"Q{}outermost-action-handler","bSlot":"1","flags":"t"}]}]},{"N":"templateRule","prec":"0","prio":"-0.25","seq":"2","part":"1","rank":"0","minImp":"0","slots":"0","matches":"NE n*:select","flags":"s","line":"308","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE n*:select"},{"N":"sequence","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"309","C":[{"N":"callT","name":"Q{}action-setvalue-form-control","bSlot":"0","C":[{"N":"withParam","name":"Q{}form-control","flags":"c","as":"1N","C":[{"N":"dot","line":"310","type":"1NE"}]}]},{"N":"callT","line":"312","name":"Q{}outermost-action-handler","bSlot":"1","flags":"t"}]}]},{"N":"templateRule","prec":"0","prio":"-0.25","seq":"2","rank":"0","minImp":"0","slots":"0","matches":"NE n*:input","flags":"s","line":"308","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE n*:input"},{"N":"sequence","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"309","C":[{"N":"callT","name":"Q{}action-setvalue-form-control","bSlot":"0","C":[{"N":"withParam","name":"Q{}form-control","flags":"c","as":"1N","C":[{"N":"dot","line":"310","type":"1NE"}]}]},{"N":"callT","line":"312","name":"Q{}outermost-action-handler","bSlot":"1","flags":"t"}]}]}]}]},{"N":"co","id":"67","binds":"41 80 81 81 72 82 38","C":[{"N":"template","name":"Q{}xformsjs-main","flags":"os","line":"139","module":"saxon-xforms.xsl","slots":"16","C":[{"N":"let","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"241","var":"Q{http:\/\/saxon.sf.net\/generated-variable}v1","as":"1","slot":"4","eval":"13","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"sequence","line":"140","C":[{"N":"param","name":"Q{}xforms-doc","slot":"0","as":"?ND","C":[{"N":"empty","role":"select"},{"N":"treat","role":"conversion","as":"ND","diag":"8|0|XTTE0590|xforms-doc","C":[{"N":"check","card":"?","diag":"8|0|XTTE0590|xforms-doc","C":[{"N":"supplied","slot":"0"}]}]}]},{"N":"param","line":"141","name":"Q{}xforms-file","slot":"1","as":"?AS","C":[{"N":"empty","role":"select"},{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|xforms-file","C":[{"N":"check","card":"?","diag":"8|0|XTTE0590|xforms-file","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|xforms-file","C":[{"N":"data","diag":"8|0|XTTE0590|xforms-file","C":[{"N":"supplied","slot":"1"}]}]}]}]}]},{"N":"param","line":"142","name":"Q{}instance-docs","slot":"2","as":"?FM","C":[{"N":"empty","role":"select"},{"N":"treat","role":"conversion","as":"FM","diag":"8|0|XTTE0590|instance-docs","C":[{"N":"check","card":"?","diag":"8|0|XTTE0590|instance-docs","C":[{"N":"supplied","slot":"2"}]}]}]},{"N":"param","line":"143","name":"Q{}xFormsId","slot":"3","as":"1AS","C":[{"N":"gVarRef","role":"select","name":"Q{}xform-html-id","bSlot":"0"},{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|xFormsId","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|xFormsId","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|xFormsId","C":[{"N":"data","diag":"8|0|XTTE0590|xFormsId","C":[{"N":"supplied","slot":"3"}]}]}]}]}]},{"N":"message","line":"145","C":[{"N":"valueOf","role":"select","C":[{"N":"str","val":"[xformsjs-main] START"}]},{"N":"str","role":"terminate","val":"no"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]},{"N":"applyT","line":"149","mode":"Q{}set-js","bSlot":"1","C":[{"N":"slash","role":"select","simple":"1","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}page","type":"1ND"},{"N":"axis","name":"descendant","nodeTest":"NE n*:head"}]}]},{"N":"let","line":"158","var":"Q{}xforms-doci","as":"?ND","slot":"5","eval":"7","C":[{"N":"choose","line":"160","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}xforms-doc","slot":"0"}]},{"N":"varRef","line":"161","name":"Q{}xforms-doc","slot":"0"},{"N":"fn","line":"163","name":"doc-available","C":[{"N":"varRef","name":"Q{}xforms-file","slot":"1"}]},{"N":"fn","line":"164","name":"doc","C":[{"N":"varRef","name":"Q{}xforms-file","slot":"1"}]},{"N":"fn","line":"166","name":"exists","C":[{"N":"gVarRef","name":"Q{}xforms-doc-global","bSlot":"2"}]},{"N":"gVarRef","line":"167","name":"Q{}xforms-doc-global","bSlot":"3"},{"N":"fn","line":"169","name":"exists","C":[{"N":"varRef","name":"Q{}xforms-file","slot":"1"}]},{"N":"treat","line":"170","as":"ND","diag":"3|0|XTTE0570|xforms-doci","C":[{"N":"message","C":[{"N":"sequence","role":"select","C":[{"N":"valueOf","C":[{"N":"str","val":"[xformsjs-main] Unable to locate XForm file at "}]},{"N":"varRef","name":"Q{}xforms-file","slot":"1"}]},{"N":"str","role":"terminate","val":"yes"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]}]},{"N":"true"},{"N":"treat","line":"173","as":"ND","diag":"3|0|XTTE0570|xforms-doci","C":[{"N":"message","C":[{"N":"valueOf","role":"select","C":[{"N":"str","val":"[xformsjs-main] Unable to locate XForm!"}]},{"N":"str","role":"terminate","val":"yes"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]}]}]},{"N":"let","line":"181","var":"Q{}first-model","as":"1NE nQ{http:\/\/www.w3.org\/2002\/xforms}model","slot":"6","eval":"16","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|first-model","C":[{"N":"slash","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}xforms-doci","slot":"5"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}xform"}]},{"N":"first","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}model"}]}]}]},{"N":"let","line":"182","var":"Q{}first-model-id","as":"?NA","slot":"7","eval":"8","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}first-model","slot":"6"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}id"}]},{"N":"let","line":"198","var":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","as":"?","slot":"8","eval":"13","C":[{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}first-model-id","slot":"7"}]},{"N":"varRef","name":"Q{}first-model-id","slot":"7"},{"N":"true"},{"N":"str","val":"saxon-forms-default-model"}]},{"N":"let","line":"184","var":"Q{}first-instance-id","as":"?NA","slot":"9","eval":"8","C":[{"N":"slash","line":"183","simple":"1","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|first-instance","C":[{"N":"slash","C":[{"N":"varRef","name":"Q{}first-model","slot":"6"},{"N":"first","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}instance"}]}]}]},{"N":"axis","line":"184","name":"attribute","nodeTest":"NA nQ{}id"}]},{"N":"let","line":"185","var":"Q{}default-instance-id","as":"1AS","slot":"10","eval":"16","C":[{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}first-instance-id","slot":"9"}]},{"N":"check","card":"1","diag":"3|0|XTTE0570|default-instance-id","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|default-instance-id","C":[{"N":"data","diag":"3|0|XTTE0570|default-instance-id","C":[{"N":"varRef","name":"Q{}first-instance-id","slot":"9"}]}]}]},{"N":"true"},{"N":"str","val":"saxon-forms-default-instance"}]},{"N":"let","line":"188","var":"Q{}models","as":"*NE nQ{http:\/\/www.w3.org\/2002\/xforms}model","slot":"11","eval":"3","C":[{"N":"slash","simple":"2","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}xforms-doci","slot":"5"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}xform"}]},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}model"}]},{"N":"sequence","line":"190","C":[{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"tail","start":"2","C":[{"N":"filter","flags":"b","C":[{"N":"varRef","name":"Q{}models","slot":"11"},{"N":"fn","name":"empty","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}id"}]}]}]}]},{"N":"message","line":"192","C":[{"N":"str","role":"select","val":"[xformsjs-main] FATAL ERROR: The XForm contains more than one model with no ID. At most one model may have no ID."},{"N":"str","role":"terminate","val":"yes"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]}]},{"N":"forEach","line":"194","C":[{"N":"varRef","name":"Q{}models","slot":"11"},{"N":"sequence","line":"195","C":[{"N":"message","C":[{"N":"valueOf","role":"select","C":[{"N":"str","val":"[xformsjs-main] Construct model ..."}]},{"N":"str","role":"terminate","val":"no"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]},{"N":"callT","line":"196","name":"Q{}xforms-model-construct","bSlot":"4","C":[{"N":"withParam","name":"Q{}model","flags":"t","as":"1","C":[{"N":"dot","line":"197","type":"1NE nQ{http:\/\/www.w3.org\/2002\/xforms}model"}]},{"N":"withParam","name":"Q{}default-model-id","flags":"t","as":"?","C":[{"N":"varRef","line":"198","name":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","slot":"8"}]},{"N":"withParam","name":"Q{}default-instance-id","flags":"t","as":"1AS","C":[{"N":"varRef","line":"199","name":"Q{}default-instance-id","slot":"10"}]}]}]}]},{"N":"ifCall","line":"205","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"setXFormsDoc"},{"N":"arrayBlock","C":[{"N":"varRef","name":"Q{}xforms-doci","slot":"5"}]}]},{"N":"ifCall","line":"206","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"setXForm"},{"N":"arrayBlock","C":[{"N":"treat","line":"179","as":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}xform","diag":"3|0|XTTE0570|xform","C":[{"N":"let","var":"Q{}this","as":"1NE","slot":"12","eval":"16","C":[{"N":"check","card":"1","diag":"0|0||xforms:addNamespaceDeclarations","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}xforms-doci","slot":"5"},{"N":"axis","name":"child","nodeTest":"NE"}]}]},{"N":"compElem","line":"2156","C":[{"N":"fn","role":"name","name":"name","C":[{"N":"varRef","name":"Q{}this","slot":"12"}]},{"N":"sequence","role":"content","line":"2157","C":[{"N":"namespace","flags":"l","C":[{"N":"str","role":"name","val":"xforms"},{"N":"str","role":"select","val":"http:\/\/www.w3.org\/2002\/xforms"}]},{"N":"forEach","line":"2158","C":[{"N":"filter","flags":"b","C":[{"N":"filter","flags":"b","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"12"},{"N":"axis","name":"descendant","nodeTest":"NE"}]},{"N":"fn","name":"boolean","C":[{"N":"fn","name":"namespace-uri","C":[{"N":"dot","type":"1NE"}]}]}]},{"N":"fn","name":"not","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"sequence","C":[{"N":"slash","C":[{"N":"fn","name":"reverse","C":[{"N":"axis","name":"ancestor","nodeTest":"NE"}]},{"N":"fn","name":"namespace-uri","C":[{"N":"dot","type":"1NE"}]}]},{"N":"slash","C":[{"N":"fn","name":"reverse","C":[{"N":"axis","name":"preceding","nodeTest":"NE"}]},{"N":"fn","name":"namespace-uri","C":[{"N":"dot","type":"1NE"}]}]}]},{"N":"fn","name":"namespace-uri","C":[{"N":"dot","type":"1NE"}]}]}]}]},{"N":"namespace","line":"2161","flags":"l","C":[{"N":"fn","role":"name","line":"2160","name":"substring-before","C":[{"N":"fn","name":"name","C":[{"N":"dot","type":"1NE"}]},{"N":"str","val":":"}]},{"N":"convert","role":"select","from":"AU","to":"AS","C":[{"N":"fn","line":"2159","name":"namespace-uri","C":[{"N":"dot","type":"1NE"}]}]}]}]},{"N":"copyOf","line":"2163","flags":"c","C":[{"N":"sequence","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"12"},{"N":"axis","name":"attribute","nodeTest":"NA"}]},{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"12"},{"N":"axis","name":"child","nodeTest":"N u[NE,NP,NC,NT]"}]}]}]}]}]}]}]}]}]},{"N":"choose","line":"208","C":[{"N":"fn","name":"empty","C":[{"N":"varRef","name":"Q{}instance-docs","slot":"2"}]},{"N":"ifCall","line":"209","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"clearDeferredUpdateFlags"},{"N":"array","size":"0"}]}]},{"N":"let","line":"215","var":"Q{}submissions","as":"1FM k[AS] v[1FM]","slot":"13","eval":"8","C":[{"N":"ifCall","line":"217","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}merge","type":"1FM","C":[{"N":"forEach","C":[{"N":"slash","simple":"2","C":[{"N":"slash","simple":"2","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}xforms-doci","slot":"5"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}xform"}]},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}model"}]},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}submission"}]},{"N":"let","line":"222","var":"Q{}map-key","as":"1AS","slot":"14","eval":"16","C":[{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}id"}]},{"N":"check","card":"1","diag":"3|0|XTTE0570|map-key","C":[{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"attVal","name":"Q{}id","chk":"0"}]}]},{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}ref"}]},{"N":"check","card":"1","diag":"3|0|XTTE0570|map-key","C":[{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"attVal","name":"Q{}ref","chk":"0"}]}]},{"N":"true"},{"N":"str","val":"saxon-forms-default-submission"}]},{"N":"let","line":"223","var":"Q{}map-value","as":"1FM","slot":"15","eval":"16","C":[{"N":"treat","line":"224","as":"FM","diag":"3|0|XTTE0570|map-value","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|map-value","C":[{"N":"callT","name":"Q{}setSubmission","bSlot":"5","C":[{"N":"withParam","name":"Q{}this","flags":"c","as":"1NE","C":[{"N":"dot","line":"225","type":"1NE nQ{http:\/\/www.w3.org\/2002\/xforms}submission"}]},{"N":"withParam","name":"Q{}submission-id","flags":"c","as":"1AS","C":[{"N":"varRef","line":"226","name":"Q{}map-key","slot":"14"}]},{"N":"withParam","name":"Q{}default-instance-id","flags":"t","as":"1AS","C":[{"N":"varRef","line":"227","name":"Q{}default-instance-id","slot":"10"}]}]}]}]},{"N":"ifCall","line":"230","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"varRef","name":"Q{}map-key","slot":"14"},{"N":"varRef","name":"Q{}map-value","slot":"15"}]}]}]}]},{"N":"map","size":"2","C":[{"N":"str","val":"duplicates"},{"N":"str","val":"reject"},{"N":"str","val":"duplicates-error-code"},{"N":"str","val":"XTDE3365"}]}]},{"N":"sequence","line":"239","C":[{"N":"forEach","C":[{"N":"treat","line":"237","as":"AS","diag":"3|0|XTTE0570|submissionKeys","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|submissionKeys","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}keys","type":"*A","C":[{"N":"varRef","name":"Q{}submissions","slot":"13"}]}]}]},{"N":"ifCall","line":"241","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"varRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}v1","slot":"4"},{"N":"str","val":"addSubmission"},{"N":"arrayBlock","C":[{"N":"dot","type":"1AS"},{"N":"check","line":"240","card":"1","diag":"3|0|XTTE0570|submission","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{}submissions","slot":"13"},{"N":"dot","type":"1AS"}]}]}]}]}]},{"N":"resultDoc","line":"250","global":"indent=no\ndoctype-system=http:\/\/www.w3.org\/TR\/xhtml1\/DTD\/xhtml1-transitional.dtd\nencoding=utf-8\nomit-xml-declaration=no\ndoctype-public=-\/\/W3C\/\/DTD XHTML 1.0 Transitional\/\/EN\nmethod=html\n","local":"method=Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}replace-content\n","C":[{"N":"fn","role":"href","name":"concat","C":[{"N":"str","val":"#"},{"N":"varRef","name":"Q{}xFormsId","slot":"3"}]},{"N":"applyT","role":"content","line":"251","bSlot":"6","C":[{"N":"slash","role":"select","simple":"1","C":[{"N":"varRef","name":"Q{}xforms-doci","slot":"5"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}xform"}]},{"N":"withParam","name":"Q{}bindings-js","flags":"t","as":"*NE nQ{http:\/\/www.w3.org\/2002\/xforms}bind","C":[{"N":"treat","line":"252","as":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}bind","diag":"8|0|XTTE0590|bindings-js","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"getBindings"},{"N":"array","size":"0"}]}]}]},{"N":"withParam","name":"Q{}submissions","flags":"t","as":"1FM k[AS] v[1FM]","C":[{"N":"varRef","line":"253","name":"Q{}submissions","slot":"13"}]},{"N":"withParam","name":"Q{}nodeset","flags":"t","as":"1AS","C":[{"N":"str","val":""}]},{"N":"withParam","name":"Q{}default-instance-id","flags":"t","as":"1AS","C":[{"N":"varRef","line":"256","name":"Q{}default-instance-id","slot":"10"}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"N":"co","id":"80","binds":"60 60 55","C":[{"N":"mode","name":"Q{}set-js","onNo":"TC","flags":"W","patternSlots":"0","C":[{"N":"templateRule","prec":"0","prio":"-0.25","seq":"0","rank":"0","minImp":"0","slots":"0","matches":"NE n*:head","flags":"s","line":"268","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE n*:head"},{"N":"choose","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"281","C":[{"N":"fn","name":"not","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"data","diag":"1|0||=","C":[{"N":"slash","simple":"2","C":[{"N":"slash","simple":"1","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}page","type":"1ND"},{"N":"axis","name":"descendant","nodeTest":"NE nQ{}script"}]},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}id"}]}]},{"N":"gVarRef","name":"Q{}xforms-cache-id","bSlot":"0"}]}]},{"N":"resultDoc","line":"282","global":"indent=no\ndoctype-system=http:\/\/www.w3.org\/TR\/xhtml1\/DTD\/xhtml1-transitional.dtd\nencoding=utf-8\nomit-xml-declaration=no\ndoctype-public=-\/\/W3C\/\/DTD XHTML 1.0 Transitional\/\/EN\nmethod=html\n","local":"","C":[{"N":"str","role":"href","val":"?."},{"N":"elem","role":"content","line":"283","name":"script","nsuri":"","namespaces":"array ev fn in js map rdf xd xhtml","C":[{"N":"sequence","C":[{"N":"att","name":"type","flags":"l","C":[{"N":"str","val":"text\/javascript"}]},{"N":"att","name":"id","flags":"l","C":[{"N":"gVarRef","name":"Q{}xforms-cache-id","bSlot":"1"}]},{"N":"gVarRef","line":"284","name":"Q{}saxon-forms-javascript","bSlot":"2"}]}]}]}]}]}]}]},{"N":"co","id":"73","binds":"73","C":[{"N":"mode","name":"Q{}namespace-fix","onNo":"TC","flags":"W","patternSlots":"0","C":[{"N":"templateRule","prec":"0","prio":"-0.5","seq":"34","rank":"0","minImp":"0","slots":"1","matches":"NE","flags":"s","line":"1994","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE"},{"N":"let","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"1995","var":"Q{}current-namespace","as":"1AU","slot":"0","eval":"8","C":[{"N":"fn","name":"namespace-uri","C":[{"N":"dot","type":"1NE"}]},{"N":"compElem","line":"1997","C":[{"N":"convert","role":"name","from":"AQ","to":"AS","C":[{"N":"fn","line":"1996","name":"QName","C":[{"N":"convert","from":"AU","to":"AS","C":[{"N":"varRef","name":"Q{}current-namespace","slot":"0"}]},{"N":"fn","name":"name","C":[{"N":"dot","type":"1NE"}]}]}]},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"varRef","name":"Q{}current-namespace","slot":"0"}]},{"N":"sequence","role":"content","line":"1998","C":[{"N":"namespace","flags":"l","C":[{"N":"str","role":"name","val":"xforms"},{"N":"str","role":"select","val":"http:\/\/www.w3.org\/2002\/xforms"}]},{"N":"applyT","line":"2000","mode":"Q{}namespace-fix","bSlot":"0","C":[{"N":"sequence","role":"select","C":[{"N":"axis","name":"attribute","nodeTest":"NA"},{"N":"axis","name":"child","nodeTest":"N u[NE,NP,NC,NT]"}]}]}]}]}]}]}]}]},{"N":"co","id":"48","binds":"77 64","C":[{"N":"template","name":"Q{}HTTPsubmit","cxt":"1FM","flags":"s","line":"939","module":"saxon-xforms.xsl","slots":"4","C":[{"N":"sequence","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"943","C":[{"N":"param","name":"Q{}instance-id","slot":"0","as":"1AS","C":[{"N":"str","role":"select","val":"saxon-forms-default-instance"},{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|instance-id","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|instance-id","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|instance-id","C":[{"N":"data","diag":"8|0|XTTE0590|instance-id","C":[{"N":"supplied","slot":"0"}]}]}]}]}]},{"N":"param","line":"944","name":"Q{}targetref","slot":"1","as":"?AS","C":[{"N":"empty","role":"select"},{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|targetref","C":[{"N":"check","card":"?","diag":"8|0|XTTE0590|targetref","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|targetref","C":[{"N":"data","diag":"8|0|XTTE0590|targetref","C":[{"N":"supplied","slot":"1"}]}]}]}]}]},{"N":"param","line":"945","name":"Q{}replace","slot":"2","as":"?AS","C":[{"N":"empty","role":"select"},{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|replace","C":[{"N":"check","card":"?","diag":"8|0|XTTE0590|replace","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|replace","C":[{"N":"data","diag":"8|0|XTTE0590|replace","C":[{"N":"supplied","slot":"2"}]}]}]}]}]},{"N":"let","line":"955","var":"Q{}response","as":"?","slot":"3","eval":"7","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|response","C":[{"N":"lookup","C":[{"N":"dot","type":"1FM"},{"N":"str","val":"body"}]}]},{"N":"choose","line":"958","C":[{"N":"fn","name":"empty","C":[{"N":"varRef","name":"Q{}response","slot":"3"}]},{"N":"callT","line":"959","name":"Q{}serverError","bSlot":"0","flags":"t","C":[{"N":"withParam","name":"Q{}responseMap","flags":"c","as":"1FM","C":[{"N":"dot","line":"960","type":"1FM"}]}]},{"N":"and","line":"972","op":"and","C":[{"N":"vc","op":"eq","onEmpty":"0","comp":"CCC","C":[{"N":"varRef","name":"Q{}replace","slot":"2"},{"N":"str","val":"instance"}]},{"N":"filter","flags":"b","C":[{"N":"varRef","name":"Q{}response","slot":"3"},{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"treat","as":"N","diag":"14|12|XPTY0020|","C":[{"N":"dot"}]},{"N":"axis","name":"self","nodeTest":"ND"}]}]}]}]},{"N":"sequence","line":"973","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"setInstance"},{"N":"arrayBlock","C":[{"N":"varRef","name":"Q{}instance-id","slot":"0"},{"N":"slash","simple":"1","C":[{"N":"treat","as":"N","diag":"1|0|XPTY0019|\/","C":[{"N":"varRef","name":"Q{}response","slot":"3"}]},{"N":"axis","name":"child","nodeTest":"NE"}]}]}]},{"N":"callT","line":"975","name":"Q{}xforms-submit-done","bSlot":"1","flags":"t"}]}]}]}]}]}]},{"N":"co","id":"40","binds":"","C":[{"N":"function","name":"Q{http:\/\/www.w3.org\/2002\/xforms}instance","line":"127","module":"xforms-function-library.xsl","eval":"7","flags":"pU","as":"?NE","slots":"1","C":[{"N":"arg","name":"Q{}instance-id","as":"1AS"},{"N":"treat","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"129","as":"NE","diag":"5|0|XTTE0780|xforms:instance#1","C":[{"N":"check","card":"?","diag":"5|0|XTTE0780|xforms:instance#1","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"getInstance"},{"N":"arrayBlock","C":[{"N":"varRef","name":"Q{}instance-id","slot":"0"}]}]}]}]}]}]},{"N":"co","id":"83","binds":"76 9 49","C":[{"N":"mode","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}onclick","onNo":"TC","flags":"W","patternSlots":"0","C":[{"N":"templateRule","prec":"0","prio":"0.5","seq":"29","rank":"0","minImp":"0","slots":"0","matches":"NE n*:button","flags":"s","line":"1846","module":"saxon-xforms.xsl","C":[{"N":"p.withPredicate","role":"match","C":[{"N":"p.nodeTest","test":"NE n*:button"},{"N":"fn","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"1846","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}data-action"}]}]},{"N":"callT","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"1847","name":"Q{}DOMActivate","bSlot":"0","flags":"t","C":[{"N":"withParam","name":"Q{}form-control","flags":"c","as":"1N","C":[{"N":"dot","line":"1848","type":"1NE n*:button"}]}]}]},{"N":"templateRule","prec":"0","prio":"0.5","seq":"10","rank":"0","minImp":"0","slots":"0","matches":"NE n*:button","flags":"s","line":"921","module":"saxon-xforms.xsl","C":[{"N":"p.withPredicate","role":"match","C":[{"N":"p.nodeTest","test":"NE n*:button"},{"N":"fn","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"921","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}data-submit"}]}]},{"N":"callT","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"923","name":"Q{}xforms-submit","bSlot":"1","flags":"t","C":[{"N":"withParam","name":"Q{}submission","flags":"c","as":"1AS","C":[{"N":"fn","line":"924","name":"string","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}data-submit"}]}]}]}]},{"N":"templateRule","prec":"0","prio":"0.5","seq":"3","rank":"0","minImp":"0","slots":"1","matches":"NE","flags":"s","line":"321","module":"saxon-xforms.xsl","C":[{"N":"p.withUpper","role":"match","axis":"ancestor","upFirst":"false","C":[{"N":"p.withPredicate","C":[{"N":"p.nodeTest","test":"NE"},{"N":"or","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"321","op":"or","C":[{"N":"axis","name":"self","nodeTest":"NE n*:span"},{"N":"axis","name":"self","nodeTest":"NE n*:input"}]}]},{"N":"p.withPredicate","C":[{"N":"p.nodeTest","test":"NE n*:div"},{"N":"vc","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"321","op":"eq","onEmpty":"0","comp":"CCC","C":[{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"data","diag":"1|0||=","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}data-repeat-item"}]}]},{"N":"str","val":"true"}]}]}]},{"N":"let","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"330","var":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","as":"1","slot":"0","eval":"13","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"sequence","line":"322","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"highlightClicked"},{"N":"arrayBlock","C":[{"N":"fn","name":"string","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}id"}]}]}]},{"N":"forEach","line":"325","C":[{"N":"fn","name":"reverse","C":[{"N":"filter","flags":"b","C":[{"N":"axis","name":"ancestor","nodeTest":"NE n*:div"},{"N":"vc","op":"eq","onEmpty":"0","comp":"CCC","C":[{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"attVal","name":"Q{}data-repeat-item","chk":"0"}]},{"N":"str","val":"true"}]}]}]},{"N":"ifCall","line":"330","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"varRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","slot":"0"},{"N":"str","val":"setRepeatIndex"},{"N":"arrayBlock","C":[{"N":"check","line":"326","card":"1","diag":"3|0|XTTE0570|repeat-id","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|repeat-id","C":[{"N":"data","diag":"3|0|XTTE0570|repeat-id","C":[{"N":"slash","simple":"1","C":[{"N":"first","C":[{"N":"filter","flags":"b","C":[{"N":"axis","name":"ancestor","nodeTest":"NE n*:div"},{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}data-repeatable-context"}]}]}]},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}id"}]}]}]}]},{"N":"arith","line":"327","op":"+","calc":"i+i","C":[{"N":"fn","name":"count","C":[{"N":"filter","flags":"b","C":[{"N":"axis","name":"preceding-sibling","nodeTest":"NE n*:div"},{"N":"vc","op":"eq","onEmpty":"0","comp":"CCC","C":[{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"attVal","name":"Q{}data-repeat-item","chk":"0"}]},{"N":"str","val":"true"}]}]}]},{"N":"int","val":"1"}]}]}]}]},{"N":"choose","line":"333","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"self","nodeTest":"NE n*:span"}]},{"N":"callT","line":"334","name":"Q{}refreshElementsUsingIndexFunction-JS","bSlot":"2","flags":"t"}]}]}]}]}]}]},{"N":"co","id":"82","binds":"53 54 69","C":[{"N":"template","name":"Q{}setSubmission","flags":"os","line":"2639","module":"saxon-xforms.xsl","slots":"7","C":[{"N":"sequence","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"2640","C":[{"N":"param","name":"Q{}this","slot":"0","flags":"i","as":"1NE","C":[{"N":"treat","role":"conversion","as":"NE","diag":"8|0|XTTE0590|this","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|this","C":[{"N":"supplied","slot":"0"}]}]}]},{"N":"param","line":"2641","name":"Q{}submission-id","slot":"1","flags":"i","as":"1AS","C":[{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|submission-id","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|submission-id","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|submission-id","C":[{"N":"data","diag":"8|0|XTTE0590|submission-id","C":[{"N":"supplied","slot":"1"}]}]}]}]}]},{"N":"let","line":"2645","var":"Q{}refi","as":"1AS","slot":"2","eval":"16","C":[{"N":"treat","line":"2646","as":"AS","diag":"3|0|XTTE0570|refi","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|refi","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|refi","C":[{"N":"data","diag":"3|0|XTTE0570|refi","C":[{"N":"applyT","mode":"Q{}get-data-ref","bSlot":"0","C":[{"N":"dot","role":"select","flags":"a"}]}]}]}]}]},{"N":"let","line":"2649","var":"Q{}this-instance-id","as":"1AS","slot":"3","eval":"16","C":[{"N":"treat","line":"2650","as":"AS","diag":"3|0|XTTE0570|this-instance-id","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|this-instance-id","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|this-instance-id","C":[{"N":"data","diag":"3|0|XTTE0570|this-instance-id","C":[{"N":"applyT","mode":"Q{}get-context-instance-id","bSlot":"1","C":[{"N":"dot","role":"select","flags":"a"},{"N":"withParam","name":"Q{}nodeset","as":"1AS","C":[{"N":"varRef","line":"2651","name":"Q{}refi","slot":"2"}]}]}]}]}]}]},{"N":"let","line":"2663","var":"Q{}actions","as":"*FM","slot":"4","eval":"4","C":[{"N":"treat","line":"2664","as":"FM","diag":"3|0|XTTE0570|actions","C":[{"N":"applyT","mode":"Q{}set-actions","bSlot":"2","C":[{"N":"dot","role":"select","flags":"a"},{"N":"withParam","name":"Q{}instance-key","flags":"t","as":"1AS","C":[{"N":"varRef","line":"2665","name":"Q{}this-instance-id","slot":"3"}]},{"N":"withParam","name":"Q{}nodeset","flags":"t","as":"1AS","C":[{"N":"varRef","line":"2666","name":"Q{}refi","slot":"2"}]}]}]},{"N":"sequence","line":"2670","C":[{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}actions","slot":"4"}]},{"N":"ifCall","line":"2671","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"addAction"},{"N":"arrayBlock","C":[{"N":"varRef","name":"Q{}submission-id","slot":"1"},{"N":"varRef","name":"Q{}actions","slot":"4"}]}]}]},{"N":"ifCall","line":"2676","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}merge","type":"1FM","C":[{"N":"sequence","C":[{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}resource"}]}]},{"N":"ifCall","line":"2677","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"@resource"},{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"data","diag":"2|0||cast as","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}resource"}]}]}]}]}]},{"N":"ifCall","line":"2680","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"@ref"},{"N":"varRef","name":"Q{}refi","slot":"2"}]},{"N":"choose","line":"2682","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}bind"}]}]},{"N":"ifCall","line":"2683","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"@bind"},{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"data","diag":"2|0||cast as","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}bind"}]}]}]}]}]},{"N":"ifCall","line":"2686","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"@mode"},{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}mode"}]}]},{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"data","diag":"2|0||cast as","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}mode"}]}]}]},{"N":"true"},{"N":"str","val":"asynchronous"}]}]},{"N":"let","line":"2688","var":"Q{}submission-method","as":"1AS","slot":"5","eval":"16","C":[{"N":"choose","line":"2690","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"2","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}method"}]},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}value"}]}]},{"N":"cvUntyped","line":"2691","to":"AS","diag":"3|0|XTTE0570|submission-method","C":[{"N":"cast","flags":"a","as":"1AZ","C":[{"N":"fn","name":"string-join","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"slash","simple":"2","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}method"}]},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}value"}]}]}]},{"N":"str","val":" "}]}]}]},{"N":"fn","line":"2693","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}method"}]}]},{"N":"fn","line":"2694","name":"string","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}method"}]}]},{"N":"true"},{"N":"str","val":"POST"}]},{"N":"sequence","line":"2702","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"@method"},{"N":"varRef","name":"Q{}submission-method","slot":"5"}]},{"N":"let","line":"2705","var":"Q{}serialization","as":"1AS","slot":"6","eval":"16","C":[{"N":"choose","line":"2707","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}serialization"}]}]},{"N":"cvUntyped","line":"2708","to":"AS","diag":"3|0|XTTE0570|serialization","C":[{"N":"cast","flags":"a","as":"1AZ","C":[{"N":"fn","name":"string","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}serialization"}]}]}]}]}]}]},{"N":"gc","line":"2710","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"4","C":[{"N":"str","val":"post"},{"N":"str","val":"POST"},{"N":"str","val":"put"},{"N":"str","val":"PUT"}]},{"N":"varRef","name":"Q{}submission-method","slot":"5"}]},{"N":"str","val":"application\/xml"},{"N":"gc","line":"2713","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"6","C":[{"N":"str","val":"get"},{"N":"str","val":"GET"},{"N":"str","val":"delete"},{"N":"str","val":"DELETE"},{"N":"str","val":"urlencoded-post"},{"N":"str","val":"URLENCODED-POST"}]},{"N":"varRef","name":"Q{}submission-method","slot":"5"}]},{"N":"str","val":"application\/x-www-form-urlencoded"},{"N":"gc","line":"2716","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"2","C":[{"N":"str","val":"multipart-post"},{"N":"str","val":"MULTIPART-POST"}]},{"N":"varRef","name":"Q{}submission-method","slot":"5"}]},{"N":"str","val":"multipart\/related"},{"N":"gc","line":"2719","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"2","C":[{"N":"str","val":"form-data-post"},{"N":"str","val":"FORM-DATA-POST"}]},{"N":"varRef","name":"Q{}submission-method","slot":"5"}]},{"N":"str","val":"multipart\/form-data"},{"N":"gc","line":"2722","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"2","C":[{"N":"str","val":"post"},{"N":"str","val":"POST"}]},{"N":"varRef","name":"Q{}submission-method","slot":"5"}]},{"N":"str","val":"application\/xml"},{"N":"true"},{"N":"str","val":"application\/xml"}]},{"N":"sequence","line":"2733","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"@validate"},{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}validate"}]}]},{"N":"fn","name":"string","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}validate"}]}]},{"N":"compareToString","op":"eq","val":"none","C":[{"N":"varRef","name":"Q{}serialization","slot":"6"}]},{"N":"str","val":"false"},{"N":"true"},{"N":"str","val":"true"}]}]},{"N":"ifCall","line":"2738","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"@relevant"},{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}relevant"}]}]},{"N":"fn","name":"string","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}relevant"}]}]},{"N":"compareToString","op":"eq","val":"none","C":[{"N":"varRef","name":"Q{}serialization","slot":"6"}]},{"N":"str","val":"false"},{"N":"true"},{"N":"str","val":"true"}]}]},{"N":"ifCall","line":"2740","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"@serialization"},{"N":"varRef","name":"Q{}serialization","slot":"6"}]},{"N":"ifCall","line":"2742","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"@version"},{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}version"}]}]},{"N":"fn","name":"string","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}version"}]}]},{"N":"true"},{"N":"str","val":"1.0"}]}]},{"N":"ifCall","line":"2744","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"@indent"},{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}indent"}]}]},{"N":"fn","name":"string","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}indent"}]}]},{"N":"true"},{"N":"str","val":"false"}]}]},{"N":"ifCall","line":"2747","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"@mediatype"},{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}mediatype"}]}]},{"N":"fn","name":"string","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}mediatype"}]}]},{"N":"true"},{"N":"str","val":"application\/xml"}]}]},{"N":"ifCall","line":"2750","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"@encoding"},{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}encoding"}]}]},{"N":"fn","name":"string","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}encoding"}]}]},{"N":"true"},{"N":"str","val":"UTF-8"}]}]},{"N":"ifCall","line":"2752","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"@omit-xml-declaration"},{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}omit-xml-declaration"}]}]},{"N":"fn","name":"string","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}omit-xml-declaration"}]}]},{"N":"true"},{"N":"str","val":"false"}]}]},{"N":"choose","line":"2754","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}standalone"}]}]},{"N":"ifCall","line":"2755","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"@standalone"},{"N":"fn","name":"string","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}standalone"}]}]}]}]},{"N":"ifCall","line":"2758","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"@cdata-section-elements"},{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}cdata-section-elements"}]}]},{"N":"fn","name":"string","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}cdata-section-elements"}]}]},{"N":"true"},{"N":"str","val":""}]}]},{"N":"ifCall","line":"2760","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"@replace"},{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}replace"}]}]},{"N":"fn","name":"string","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}replace"}]}]},{"N":"true"},{"N":"str","val":"all"}]}]},{"N":"ifCall","line":"2762","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"@instance"},{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}instance"}]}]},{"N":"fn","name":"string","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}instance"}]}]},{"N":"true"},{"N":"varRef","name":"Q{}this-instance-id","slot":"3"}]}]},{"N":"choose","line":"2765","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}targetref"}]}]},{"N":"ifCall","line":"2766","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"@targetref"},{"N":"fn","name":"string","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}targetref"}]}]}]}]},{"N":"ifCall","line":"2769","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"@separator"},{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}separator"}]}]},{"N":"fn","name":"string","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}separator"}]}]},{"N":"true"},{"N":"str","val":"&"}]}]},{"N":"choose","line":"2771","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}includenamespaceprefixes"}]}]},{"N":"ifCall","line":"2772","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"@includenamespaceprefixes"},{"N":"fn","name":"string","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}includenamespaceprefixes"}]}]}]}]}]}]}]}]}]},{"N":"map","size":"2","C":[{"N":"str","val":"duplicates"},{"N":"str","val":"reject"},{"N":"str","val":"duplicates-error-code"},{"N":"str","val":"XTDE3365"}]}]}]}]}]}]}]}]}]},{"N":"co","id":"84","binds":"79 27","C":[{"N":"mode","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}onkeyup","onNo":"TC","flags":"W","patternSlots":"0","C":[{"N":"templateRule","prec":"0","prio":"0.5","seq":"1","rank":"0","minImp":"0","slots":"0","matches":"NE n*:input","flags":"s","line":"297","module":"saxon-xforms.xsl","C":[{"N":"p.withPredicate","role":"match","C":[{"N":"p.nodeTest","test":"NE n*:input"},{"N":"gc","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"297","op":"=","card":"N:1","comp":"CCC","C":[{"N":"fn","name":"tokenize","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|class","C":[{"N":"data","diag":"3|0|XTTE0570|class","C":[{"N":"slash","simple":"1","C":[{"N":"dot","type":"1NE n*:input"},{"N":"axis","line":"2198","name":"attribute","nodeTest":"NA nQ{}class"}]}]}]}]},{"N":"str","val":"incremental"}]}]},{"N":"sequence","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"298","C":[{"N":"callT","name":"Q{}action-setvalue-form-control","bSlot":"0","C":[{"N":"withParam","name":"Q{}form-control","flags":"c","as":"1N","C":[{"N":"dot","line":"299","type":"1NE n*:input"}]}]},{"N":"callT","line":"301","name":"Q{}outermost-action-handler","bSlot":"1","flags":"t"}]}]}]}]},{"N":"co","id":"21","binds":"41","C":[{"N":"template","name":"Q{}logToPage","flags":"os","line":"2172","module":"saxon-xforms.xsl","slots":"2","C":[{"N":"sequence","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"2173","C":[{"N":"param","name":"Q{}message","slot":"0","flags":"i","as":"1AS","C":[{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|message","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|message","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|message","C":[{"N":"data","diag":"8|0|XTTE0590|message","C":[{"N":"supplied","slot":"0"}]}]}]}]}]},{"N":"param","line":"2174","name":"Q{}level","slot":"1","as":"1AS","C":[{"N":"str","role":"select","val":"info"},{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|level","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|level","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|level","C":[{"N":"data","diag":"8|0|XTTE0590|level","C":[{"N":"supplied","slot":"1"}]}]}]}]}]},{"N":"resultDoc","line":"2176","global":"indent=no\ndoctype-system=http:\/\/www.w3.org\/TR\/xhtml1\/DTD\/xhtml1-transitional.dtd\nencoding=utf-8\nomit-xml-declaration=no\ndoctype-public=-\/\/W3C\/\/DTD XHTML 1.0 Transitional\/\/EN\nmethod=html\n","local":"method=Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}append-content\n","C":[{"N":"fn","role":"href","name":"concat","C":[{"N":"str","val":"#"},{"N":"gVarRef","name":"Q{}xform-html-id","bSlot":"0"}]},{"N":"elem","role":"content","line":"2177","name":"div","nsuri":"","namespaces":"array ev fn in js map rdf xd xhtml","C":[{"N":"sequence","C":[{"N":"att","name":"class","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"message-"},{"N":"varRef","name":"Q{}level","slot":"1"}]}]},{"N":"elem","line":"2178","name":"p","nsuri":"","flags":"l","namespaces":"array ev fn in js map rdf xd xhtml","C":[{"N":"sequence","line":"2179","C":[{"N":"elem","name":"b","nsuri":"","flags":"l","namespaces":"array ev fn in js map rdf xd xhtml","C":[{"N":"fn","line":"2180","name":"concat","C":[{"N":"fn","name":"upper-case","C":[{"N":"varRef","name":"Q{}level","slot":"1"}]},{"N":"str","val":": "}]}]},{"N":"varRef","line":"2182","name":"Q{}message","slot":"0"}]}]}]}]}]}]}]}]},{"N":"co","id":"71","binds":"","C":[{"N":"template","name":"Q{}xforms-revalidate","flags":"os","line":"2944","module":"saxon-xforms.xsl","slots":"0","C":[{"N":"empty","role":"body"}]}]},{"N":"co","id":"81","binds":"43 43 43","C":[{"N":"globalParam","name":"Q{}xforms-doc-global","as":"?ND","line":"83","module":"saxon-xforms.xsl","visibility":"PUBLIC","C":[{"N":"choose","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"83","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"gVarRef","name":"Q{}xforms-file-global","bSlot":"0"}]},{"N":"fn","name":"doc-available","C":[{"N":"gVarRef","name":"Q{}xforms-file-global","bSlot":"1"}]}]},{"N":"fn","name":"doc","C":[{"N":"gVarRef","name":"Q{}xforms-file-global","bSlot":"2"}]},{"N":"compareToString","op":"eq","val":"http:\/\/www.w3.org\/2002\/xforms","C":[{"N":"fn","name":"namespace-uri","C":[{"N":"check","card":"?","diag":"0|0||fn:namespace-uri","C":[{"N":"slash","simple":"1","C":[{"N":"root"},{"N":"axis","name":"child","nodeTest":"NE"}]}]}]}]},{"N":"root"}]}]}]},{"N":"co","id":"85","binds":"","C":[{"N":"globalVariable","name":"Q{}debugTiming","as":"1AB","line":"86","module":"saxon-xforms.xsl","visibility":"PRIVATE","flags":"s","C":[{"N":"false"}]}]},{"N":"co","id":"31","binds":"31 31","C":[{"N":"mode","name":"Q{}recalculate","onNo":"TC","flags":"W","patternSlots":"0","C":[{"N":"templateRule","prec":"0","prio":"-0.5","seq":"32","rank":"0","minImp":"0","slots":"5","matches":"NE","flags":"s","line":"1942","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE"},{"N":"sequence","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"1943","C":[{"N":"param","name":"Q{}updated-nodes","slot":"0","flags":"t","as":"*N","C":[{"N":"empty","role":"select"},{"N":"treat","role":"conversion","as":"N","diag":"8|0|XTTE0590|updated-nodes","C":[{"N":"supplied","slot":"0"}]}]},{"N":"param","line":"1944","name":"Q{}updated-values","slot":"1","flags":"t","as":"*AS","C":[{"N":"empty","role":"select"},{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|updated-values","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|updated-values","C":[{"N":"data","diag":"8|0|XTTE0590|updated-values","C":[{"N":"supplied","slot":"1"}]}]}]}]},{"N":"copy","line":"1950","flags":"cin","sit":"1NE","C":[{"N":"sequence","role":"content","C":[{"N":"applyT","mode":"Q{}recalculate","bSlot":"0","C":[{"N":"axis","role":"select","name":"attribute","nodeTest":"NA"}]},{"N":"choose","line":"1953","C":[{"N":"fn","name":"exists","C":[{"N":"let","line":"1946","var":"Q{http:\/\/saxon.sf.net\/generated-variable}current-1932141010","as":"1","slot":"2","eval":"16","C":[{"N":"dot","type":"1NE"},{"N":"treat","as":"NE","diag":"3|0|XTTE0570|updated-node","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|updated-node","C":[{"N":"filter","flags":"","C":[{"N":"varRef","name":"Q{}updated-nodes","slot":"0"},{"N":"is","op":"is","C":[{"N":"dot","type":"1N"},{"N":"varRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}current-1932141010","slot":"2"}]}]}]}]}]}]},{"N":"let","line":"1954","var":"Q{}updated-node-position","as":"1ADI","slot":"3","eval":"16","C":[{"N":"let","var":"Q{http:\/\/saxon.sf.net\/generated-variable}current-859037584","as":"1","slot":"4","eval":"16","C":[{"N":"dot","type":"1NE"},{"N":"check","card":"1","diag":"3|0|XTTE0570|updated-node-position","C":[{"N":"slash","C":[{"N":"filter","flags":"","C":[{"N":"varRef","name":"Q{}updated-nodes","slot":"0"},{"N":"is","op":"is","C":[{"N":"dot","type":"1N"},{"N":"varRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}current-859037584","slot":"4"}]}]},{"N":"fn","name":"position"}]}]}]},{"N":"subscript","line":"1956","C":[{"N":"varRef","name":"Q{}updated-values","slot":"1"},{"N":"varRef","name":"Q{}updated-node-position","slot":"3"}]}]},{"N":"true"},{"N":"applyT","line":"1959","mode":"Q{}recalculate","bSlot":"1","C":[{"N":"axis","role":"select","name":"child","nodeTest":"N"}]}]}]}]}]}]},{"N":"templateRule","prec":"0","prio":"-0.5","seq":"33","rank":"0","minImp":"0","slots":"5","matches":"NA","flags":"s","line":"1972","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NA"},{"N":"sequence","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"1973","C":[{"N":"param","name":"Q{}updated-nodes","slot":"0","flags":"t","as":"*N","C":[{"N":"empty","role":"select"},{"N":"treat","role":"conversion","as":"N","diag":"8|0|XTTE0590|updated-nodes","C":[{"N":"supplied","slot":"0"}]}]},{"N":"param","line":"1974","name":"Q{}updated-values","slot":"1","flags":"t","as":"*AS","C":[{"N":"empty","role":"select"},{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|updated-values","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|updated-values","C":[{"N":"data","diag":"8|0|XTTE0590|updated-values","C":[{"N":"supplied","slot":"1"}]}]}]}]},{"N":"choose","line":"1979","C":[{"N":"fn","name":"exists","C":[{"N":"let","line":"1976","var":"Q{http:\/\/saxon.sf.net\/generated-variable}current-1932141011","as":"1","slot":"2","eval":"16","C":[{"N":"dot","type":"1NA"},{"N":"treat","as":"NA","diag":"3|0|XTTE0570|updated-node","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|updated-node","C":[{"N":"filter","flags":"","C":[{"N":"varRef","name":"Q{}updated-nodes","slot":"0"},{"N":"is","op":"is","C":[{"N":"dot","type":"1N"},{"N":"varRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}current-1932141011","slot":"2"}]}]}]}]}]}]},{"N":"let","line":"1980","var":"Q{}updated-node-position","as":"1ADI","slot":"3","eval":"16","C":[{"N":"let","var":"Q{http:\/\/saxon.sf.net\/generated-variable}current-859037584","as":"1","slot":"4","eval":"16","C":[{"N":"dot","type":"1NA"},{"N":"check","card":"1","diag":"3|0|XTTE0570|updated-node-position","C":[{"N":"slash","C":[{"N":"filter","flags":"","C":[{"N":"varRef","name":"Q{}updated-nodes","slot":"0"},{"N":"is","op":"is","C":[{"N":"dot","type":"1N"},{"N":"varRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}current-859037584","slot":"4"}]}]},{"N":"fn","name":"position"}]}]}]},{"N":"compAtt","line":"1981","C":[{"N":"fn","role":"name","name":"name","C":[{"N":"dot","type":"1NA"}]},{"N":"subscript","role":"select","C":[{"N":"varRef","name":"Q{}updated-values","slot":"1"},{"N":"varRef","name":"Q{}updated-node-position","slot":"3"}]}]}]},{"N":"true"},{"N":"copyOf","line":"1984","flags":"c","C":[{"N":"dot","type":"1NA"}]}]}]}]}]}]},{"N":"co","id":"79","binds":"2 40 45 31 15","C":[{"N":"template","name":"Q{}action-setvalue-form-control","flags":"os","line":"3438","module":"saxon-xforms.xsl","slots":"9","C":[{"N":"sequence","role":"body","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"3439","C":[{"N":"param","name":"Q{}form-control","slot":"0","flags":"i","as":"1N","C":[{"N":"treat","role":"conversion","as":"N","diag":"8|0|XTTE0590|form-control","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|form-control","C":[{"N":"supplied","slot":"0"}]}]}]},{"N":"let","line":"3441","var":"Q{}refi","as":"?NA","slot":"1","eval":"8","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}form-control","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}data-ref"}]},{"N":"let","line":"3444","var":"Q{}instance-id","as":"1AS","slot":"2","eval":"16","C":[{"N":"ufCall","name":"Q{http:\/\/www.w3.org\/2002\/xforms}getInstanceId","tailCall":"false","bSlot":"0","eval":"16","C":[{"N":"check","card":"1","diag":"0|0||xforms:getInstanceId","C":[{"N":"cvUntyped","to":"AS","C":[{"N":"data","diag":"0|0||xforms:getInstanceId","C":[{"N":"varRef","name":"Q{}refi","slot":"1"}]}]}]}]},{"N":"let","line":"3445","var":"Q{}actions","slot":"3","eval":"8","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"getAction"},{"N":"arrayBlock","C":[{"N":"fn","name":"string","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}form-control","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}data-action"}]}]}]}]},{"N":"let","line":"3450","var":"Q{}instanceXML","as":"1NE","slot":"4","eval":"16","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|instanceXML","C":[{"N":"ufCall","name":"Q{http:\/\/www.w3.org\/2002\/xforms}instance","tailCall":"false","bSlot":"1","eval":"6","C":[{"N":"varRef","name":"Q{}instance-id","slot":"2"}]}]},{"N":"let","line":"3451","var":"Q{}updatedNode","as":"1N","slot":"5","eval":"16","C":[{"N":"treat","line":"3452","as":"N","diag":"3|0|XTTE0570|updatedNode","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|updatedNode","C":[{"N":"evaluate","dxns":"","C":[{"N":"let","role":"xpath","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"51","var":"Q{}input2","as":"1AS","slot":"6","eval":"8","C":[{"N":"fn","name":"string-join","C":[{"N":"analyzeString","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"saxon-xforms.xsl","line":"3452","C":[{"N":"check","role":"select","card":"1","diag":"0|0||xforms:impose","C":[{"N":"cvUntyped","to":"AS","C":[{"N":"data","diag":"0|0||xforms:impose","C":[{"N":"varRef","name":"Q{}refi","slot":"1"}]}]}]},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"36","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"6","C":[{"N":"str","val":"instance"},{"N":"str","val":"index"},{"N":"str","val":"avg"},{"N":"str","val":"foo"},{"N":"str","val":"current-date"},{"N":"str","val":"random"}]},{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"fn","line":"37","name":"concat","C":[{"N":"str","val":"xforms:"},{"N":"dot","type":"1AS"}]},{"N":"true"},{"N":"dot","line":"41","type":"1AS"}]},{"N":"dot","role":"nonMatching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"46","type":"1AS"}]}]},{"N":"choose","line":"56","C":[{"N":"fn","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"6"},{"N":"str","val":"^\\s*\/"},{"N":"str","val":""}]},{"N":"fn","line":"57","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"6"},{"N":"str","val":"^\\s\/[^\/]+"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"fn","line":"60","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"6"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":""}]},{"N":"fn","line":"61","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"6"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"true"},{"N":"varRef","line":"64","name":"Q{}input2","slot":"6"}]}]},{"N":"varRef","role":"cxt","name":"Q{}instanceXML","slot":"4"},{"N":"varRef","role":"nsCxt","name":"Q{}instanceXML","slot":"4"},{"N":"str","role":"sa","val":"no"},{"N":"map","role":"options","size":"0"},{"N":"map","role":"wp","size":"0"}]}]}]},{"N":"let","line":"3454","var":"Q{}new-value","as":"1AS","slot":"7","eval":"16","C":[{"N":"treat","line":"3455","as":"AS","diag":"3|0|XTTE0570|new-value","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|new-value","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|new-value","C":[{"N":"data","diag":"3|0|XTTE0570|new-value","C":[{"N":"applyT","mode":"Q{}get-field","bSlot":"2","C":[{"N":"varRef","role":"select","name":"Q{}form-control","slot":"0"}]}]}]}]}]},{"N":"let","line":"3457","var":"Q{}updatedInstanceXML","as":"1NE","slot":"8","eval":"16","C":[{"N":"treat","line":"3458","as":"NE","diag":"3|0|XTTE0570|updatedInstanceXML","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|updatedInstanceXML","C":[{"N":"applyT","mode":"Q{}recalculate","bSlot":"3","C":[{"N":"varRef","role":"select","name":"Q{}instanceXML","slot":"4"},{"N":"withParam","name":"Q{}instance-id","as":"1AS","C":[{"N":"varRef","line":"3459","name":"Q{}instance-id","slot":"2"}]},{"N":"withParam","name":"Q{}updated-nodes","flags":"t","as":"1N","C":[{"N":"varRef","line":"3460","name":"Q{}updatedNode","slot":"5"}]},{"N":"withParam","name":"Q{}updated-values","flags":"t","as":"1AS","C":[{"N":"varRef","line":"3461","name":"Q{}new-value","slot":"7"}]}]}]}]},{"N":"sequence","line":"3467","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"setInstance"},{"N":"arrayBlock","C":[{"N":"varRef","name":"Q{}instance-id","slot":"2"},{"N":"varRef","name":"Q{}updatedInstanceXML","slot":"8"}]}]},{"N":"ifCall","line":"3469","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"setDeferredUpdateFlags"},{"N":"array","size":"1","C":[{"N":"literal","count":"3","C":[{"N":"str","val":"recalculate"},{"N":"str","val":"revalidate"},{"N":"str","val":"refresh"}]}]}]},{"N":"callT","line":"3475","name":"Q{}xforms-value-changed","bSlot":"4","flags":"t","C":[{"N":"withParam","name":"Q{}when-value-changed","flags":"t","C":[{"N":"filter","line":"3476","flags":"b","C":[{"N":"varRef","name":"Q{}actions","slot":"3"},{"N":"gc","op":"=","card":"N:1","comp":"GAC|http:\/\/www.w3.org\/2005\/xpath-functions\/collation\/codepoint","C":[{"N":"data","diag":"1|0||=","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"treat","as":"FM","diag":"0|0||map:get","C":[{"N":"dot"}]},{"N":"str","val":"@event"}]}]},{"N":"str","val":"xforms-value-changed"}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"N":"co","id":"86","binds":"","C":[{"N":"globalVariable","name":"Q{}global-default-submission-id","as":"1AS","line":"89","module":"saxon-xforms.xsl","visibility":"PRIVATE","flags":"s","C":[{"N":"str","val":"saxon-forms-default-submission"}]}]},{"N":"co","id":"70","binds":"38 38 38 38 38 38 38","C":[{"N":"mode","name":"Q{}get-html","onNo":"TC","flags":"W","patternSlots":"0","C":[{"N":"templateRule","prec":"0","prio":"0.0","seq":"17","rank":"0","minImp":"0","slots":"12","matches":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}textarea","flags":"s","line":"1374","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}textarea"},{"N":"sequence","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"1375","C":[{"N":"param","name":"Q{}id","slot":"0","flags":"i","as":"1AS","C":[{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|id","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|id","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|id","C":[{"N":"data","diag":"8|0|XTTE0590|id","C":[{"N":"supplied","slot":"0"}]}]}]}]}]},{"N":"param","line":"1376","name":"Q{}nodeset","slot":"1","flags":"ti","as":"1AS","C":[{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|nodeset","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|nodeset","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|nodeset","C":[{"N":"data","diag":"8|0|XTTE0590|nodeset","C":[{"N":"supplied","slot":"1"}]}]}]}]}]},{"N":"param","line":"1377","name":"Q{}instance-context","slot":"2","flags":"i","as":"1AS","C":[{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|instance-context","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|instance-context","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|instance-context","C":[{"N":"data","diag":"8|0|XTTE0590|instance-context","C":[{"N":"supplied","slot":"2"}]}]}]}]}]},{"N":"param","line":"1378","name":"Q{}binding","slot":"3","as":"*NE nQ{http:\/\/www.w3.org\/2002\/xforms}bind","C":[{"N":"empty","role":"select"},{"N":"treat","role":"conversion","as":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}bind","diag":"8|0|XTTE0590|binding","C":[{"N":"supplied","slot":"3"}]}]},{"N":"param","line":"1379","name":"Q{}actions","slot":"4","as":"*FM","C":[{"N":"empty","role":"select"},{"N":"treat","role":"conversion","as":"FM","diag":"8|0|XTTE0590|actions","C":[{"N":"supplied","slot":"4"}]}]},{"N":"let","line":"1381","var":"Q{}instanceField","as":"?N","slot":"5","eval":"7","C":[{"N":"choose","line":"1382","C":[{"N":"varRef","name":"Q{}nodeset","slot":"1"},{"N":"let","line":"1383","var":"Q{}instanceXML","as":"1NE","slot":"6","eval":"16","C":[{"N":"treat","as":"NE","diag":"3|0|XTTE0570|instanceXML","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|instanceXML","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"getInstance"},{"N":"arrayBlock","C":[{"N":"varRef","name":"Q{}instance-context","slot":"2"}]}]}]}]},{"N":"treat","line":"1384","as":"N","diag":"3|0|XTTE0570|instanceField","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|instanceField","C":[{"N":"evaluate","dxns":"","C":[{"N":"let","role":"xpath","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"51","var":"Q{}input2","as":"1AS","slot":"7","eval":"8","C":[{"N":"fn","name":"string-join","C":[{"N":"analyzeString","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"saxon-xforms.xsl","line":"1384","C":[{"N":"varRef","role":"select","name":"Q{}nodeset","slot":"1"},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"36","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"6","C":[{"N":"str","val":"instance"},{"N":"str","val":"index"},{"N":"str","val":"avg"},{"N":"str","val":"foo"},{"N":"str","val":"current-date"},{"N":"str","val":"random"}]},{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"fn","line":"37","name":"concat","C":[{"N":"str","val":"xforms:"},{"N":"dot","type":"1AS"}]},{"N":"true"},{"N":"dot","line":"41","type":"1AS"}]},{"N":"dot","role":"nonMatching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"46","type":"1AS"}]}]},{"N":"choose","line":"56","C":[{"N":"fn","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"7"},{"N":"str","val":"^\\s*\/"},{"N":"str","val":""}]},{"N":"fn","line":"57","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"7"},{"N":"str","val":"^\\s\/[^\/]+"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"fn","line":"60","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"7"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":""}]},{"N":"fn","line":"61","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"7"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"true"},{"N":"varRef","line":"64","name":"Q{}input2","slot":"7"}]}]},{"N":"varRef","role":"cxt","name":"Q{}instanceXML","slot":"6"},{"N":"varRef","role":"nsCxt","name":"Q{}instanceXML","slot":"6"},{"N":"str","role":"sa","val":"no"},{"N":"map","role":"options","size":"0"},{"N":"map","role":"wp","size":"0"}]}]}]}]}]},{"N":"let","line":"1388","var":"Q{}hints","as":"*NT","slot":"8","eval":"4","C":[{"N":"slash","simple":"2","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}hint"},{"N":"axis","name":"child","nodeTest":"NT"}]},{"N":"elem","line":"1390","name":"div","nsuri":"","namespaces":"array ev fn in js map rdf xd xhtml","C":[{"N":"sequence","C":[{"N":"att","name":"class","flags":"l","C":[{"N":"str","val":"xforms-textarea"}]},{"N":"applyT","line":"1391","bSlot":"0","C":[{"N":"axis","role":"select","name":"child","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}label"}]},{"N":"elem","line":"1392","name":"textarea","nsuri":"","flags":"l","namespaces":"array ev fn in js map rdf xd xhtml","C":[{"N":"sequence","line":"1393","C":[{"N":"let","var":"Q{}element","as":"1NE","slot":"9","eval":"16","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.w3.org\/2002\/xforms}textarea"},{"N":"let","line":"2219","var":"Q{}class","as":"?AS","slot":"10","eval":"7","C":[{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}element","slot":"9"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}class"}]}]},{"N":"cvUntyped","line":"2220","to":"AS","diag":"3|0|XTTE0570|class","C":[{"N":"cast","flags":"a","as":"1AZ","C":[{"N":"fn","name":"string","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}element","slot":"9"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}class"}]}]}]}]}]}]}]},{"N":"let","line":"2225","var":"Q{}class-mod","as":"?AS","slot":"11","eval":"7","C":[{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}element","slot":"9"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}incremental"}]}]},{"N":"cvUntyped","line":"2226","to":"AS","diag":"3|0|XTTE0570|class-mod","C":[{"N":"cast","flags":"a","as":"1AZ","C":[{"N":"fn","name":"string-join","C":[{"N":"sequence","C":[{"N":"varRef","name":"Q{}class","slot":"10"},{"N":"str","val":"incremental"}]},{"N":"str","val":" "}]}]}]},{"N":"true"},{"N":"varRef","line":"2229","name":"Q{}class","slot":"10"}]},{"N":"choose","line":"2233","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}class-mod","slot":"11"}]},{"N":"treat","line":"2234","as":"NA nQ{}class","diag":"5|0|XTTE0780|xforms:getClass#1","C":[{"N":"att","name":"class","flags":"l","C":[{"N":"varRef","name":"Q{}class-mod","slot":"11"}]}]}]}]}]}]},{"N":"att","line":"1394","name":"id","flags":"l","C":[{"N":"varRef","name":"Q{}id","slot":"0"}]},{"N":"att","line":"1396","name":"instance-context","flags":"l","C":[{"N":"varRef","name":"Q{}instance-context","slot":"2"}]},{"N":"att","line":"1397","name":"data-ref","flags":"l","C":[{"N":"varRef","name":"Q{}nodeset","slot":"1"}]},{"N":"choose","line":"1399","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}binding","slot":"3"}]},{"N":"fn","name":"exists","C":[{"N":"slash","simple":"2","C":[{"N":"varRef","name":"Q{}binding","slot":"3"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}constraint"}]}]}]},{"N":"att","line":"1400","name":"data-constraint","flags":"l","C":[{"N":"fn","name":"string-join","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"slash","simple":"2","C":[{"N":"varRef","name":"Q{}binding","slot":"3"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}constraint"}]}]}]},{"N":"str","val":" "}]}]}]},{"N":"choose","line":"1402","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}binding","slot":"3"}]},{"N":"fn","name":"exists","C":[{"N":"slash","simple":"2","C":[{"N":"varRef","name":"Q{}binding","slot":"3"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}relevant"}]}]}]},{"N":"att","line":"1403","name":"data-relevant","flags":"l","C":[{"N":"fn","name":"string-join","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"slash","simple":"2","C":[{"N":"varRef","name":"Q{}binding","slot":"3"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}relevant"}]}]}]},{"N":"str","val":" "}]}]}]},{"N":"choose","line":"1405","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}binding","slot":"3"}]},{"N":"fn","name":"exists","C":[{"N":"slash","simple":"2","C":[{"N":"varRef","name":"Q{}binding","slot":"3"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}required"}]}]}]},{"N":"att","line":"1406","name":"data-required","flags":"l","C":[{"N":"fn","name":"string-join","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"slash","simple":"2","C":[{"N":"varRef","name":"Q{}binding","slot":"3"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}required"}]}]}]},{"N":"str","val":" "}]}]}]},{"N":"choose","line":"1409","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}actions","slot":"4"}]},{"N":"att","line":"1410","name":"data-action","flags":"l","C":[{"N":"varRef","name":"Q{}id","slot":"0"}]}]},{"N":"choose","line":"1413","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}hints","slot":"8"}]},{"N":"att","line":"1414","name":"title","flags":"l","C":[{"N":"fn","name":"string-join","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"mergeAdj","C":[{"N":"varRef","name":"Q{}hints","slot":"8"}]}]}]},{"N":"str","val":" "}]}]}]},{"N":"choose","line":"1417","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}size"}]},{"N":"att","line":"1418","name":"size","flags":"l","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"attVal","name":"Q{}size","chk":"0"}]}]}]},{"N":"choose","line":"1422","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}instanceField","slot":"5"}]},{"N":"valueOf","line":"1423","flags":"l","C":[{"N":"convert","from":"A","to":"AS","C":[{"N":"data","C":[{"N":"varRef","name":"Q{}instanceField","slot":"5"}]}]}]},{"N":"true"},{"N":"sequence","line":"1425","C":[{"N":"valueOf","flags":"Sl","C":[{"N":"str","val":""}]},{"N":"valueOf","flags":"l","C":[{"N":"str","val":" "}]}]}]}]}]}]}]}]}]}]}]},{"N":"templateRule","prec":"0","prio":"0.0","seq":"15","rank":"0","minImp":"0","slots":"16","matches":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}output","flags":"s","line":"1112","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}output"},{"N":"sequence","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"1113","C":[{"N":"param","name":"Q{}id","slot":"0","flags":"i","as":"1AS","C":[{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|id","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|id","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|id","C":[{"N":"data","diag":"8|0|XTTE0590|id","C":[{"N":"supplied","slot":"0"}]}]}]}]}]},{"N":"param","line":"1114","name":"Q{}nodeset","slot":"1","flags":"ti","as":"1AS","C":[{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|nodeset","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|nodeset","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|nodeset","C":[{"N":"data","diag":"8|0|XTTE0590|nodeset","C":[{"N":"supplied","slot":"1"}]}]}]}]}]},{"N":"param","line":"1115","name":"Q{}instance-context","slot":"2","flags":"i","as":"1AS","C":[{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|instance-context","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|instance-context","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|instance-context","C":[{"N":"data","diag":"8|0|XTTE0590|instance-context","C":[{"N":"supplied","slot":"2"}]}]}]}]}]},{"N":"param","line":"1116","name":"Q{}binding","slot":"3","as":"*NE nQ{http:\/\/www.w3.org\/2002\/xforms}bind","C":[{"N":"empty","role":"select"},{"N":"treat","role":"conversion","as":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}bind","diag":"8|0|XTTE0590|binding","C":[{"N":"supplied","slot":"3"}]}]},{"N":"let","line":"1118","var":"Q{}instanceField","as":"?N","slot":"4","eval":"7","C":[{"N":"choose","line":"1120","C":[{"N":"varRef","name":"Q{}nodeset","slot":"1"},{"N":"let","line":"1121","var":"Q{}instanceXML","as":"1NE","slot":"5","eval":"16","C":[{"N":"treat","as":"NE","diag":"3|0|XTTE0570|instanceXML","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|instanceXML","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"getInstance"},{"N":"arrayBlock","C":[{"N":"varRef","name":"Q{}instance-context","slot":"2"}]}]}]}]},{"N":"treat","line":"1122","as":"N","diag":"3|0|XTTE0570|instanceField","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|instanceField","C":[{"N":"evaluate","dxns":"","C":[{"N":"let","role":"xpath","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"51","var":"Q{}input2","as":"1AS","slot":"6","eval":"8","C":[{"N":"fn","name":"string-join","C":[{"N":"analyzeString","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"saxon-xforms.xsl","line":"1122","C":[{"N":"varRef","role":"select","name":"Q{}nodeset","slot":"1"},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"36","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"6","C":[{"N":"str","val":"instance"},{"N":"str","val":"index"},{"N":"str","val":"avg"},{"N":"str","val":"foo"},{"N":"str","val":"current-date"},{"N":"str","val":"random"}]},{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"fn","line":"37","name":"concat","C":[{"N":"str","val":"xforms:"},{"N":"dot","type":"1AS"}]},{"N":"true"},{"N":"dot","line":"41","type":"1AS"}]},{"N":"dot","role":"nonMatching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"46","type":"1AS"}]}]},{"N":"choose","line":"56","C":[{"N":"fn","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"6"},{"N":"str","val":"^\\s*\/"},{"N":"str","val":""}]},{"N":"fn","line":"57","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"6"},{"N":"str","val":"^\\s\/[^\/]+"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"fn","line":"60","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"6"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":""}]},{"N":"fn","line":"61","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"6"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"true"},{"N":"varRef","line":"64","name":"Q{}input2","slot":"6"}]}]},{"N":"varRef","role":"cxt","name":"Q{}instanceXML","slot":"5"},{"N":"varRef","role":"nsCxt","name":"Q{}instanceXML","slot":"5"},{"N":"str","role":"sa","val":"no"},{"N":"map","role":"options","size":"0"},{"N":"map","role":"wp","size":"0"}]}]}]}]},{"N":"fn","line":"1124","name":"exists","C":[{"N":"varRef","name":"Q{}binding","slot":"3"}]},{"N":"treat","line":"1125","as":"N","diag":"3|0|XTTE0570|instanceField","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|instanceField","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"getInstance"},{"N":"arrayBlock","C":[{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"atomSing","card":"?","diag":"2|0||cast as","C":[{"N":"conditionalSort","C":[{"N":"fn","name":"exists","C":[{"N":"tail","start":"2","C":[{"N":"varRef","name":"Q{}binding","slot":"3"}]}]},{"N":"docOrder","intra":"0","C":[{"N":"slash","simple":"2","C":[{"N":"varRef","name":"Q{}binding","slot":"3"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}instance-context"}]}]}]}]}]}]}]}]}]}]},{"N":"let","line":"1139","var":"Q{}namespace-context-item","as":"1N","slot":"7","eval":"16","C":[{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}instanceField","slot":"4"}]},{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"filter","flags":"b","C":[{"N":"varRef","name":"Q{}instanceField","slot":"4"},{"N":"fn","name":"exists","C":[{"N":"axis","name":"self","nodeTest":"NT"}]}]}]},{"N":"check","card":"1","diag":"3|0|XTTE0570|namespace-context-item","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}instanceField","slot":"4"},{"N":"axis","name":"parent","nodeTest":"NE"}]}]},{"N":"true"},{"N":"check","card":"1","diag":"3|0|XTTE0570|namespace-context-item","C":[{"N":"varRef","name":"Q{}instanceField","slot":"4"}]}]},{"N":"true"},{"N":"let","var":"Q{}this","as":"1NE","slot":"8","eval":"16","C":[{"N":"check","card":"1","diag":"0|0||xforms:addNamespaceDeclarations","C":[{"N":"slash","simple":"1","C":[{"N":"root"},{"N":"axis","name":"child","nodeTest":"NE"}]}]},{"N":"compElem","line":"2156","C":[{"N":"fn","role":"name","name":"name","C":[{"N":"varRef","name":"Q{}this","slot":"8"}]},{"N":"sequence","role":"content","line":"2157","C":[{"N":"namespace","flags":"l","C":[{"N":"str","role":"name","val":"xforms"},{"N":"str","role":"select","val":"http:\/\/www.w3.org\/2002\/xforms"}]},{"N":"forEach","line":"2158","C":[{"N":"filter","flags":"b","C":[{"N":"filter","flags":"b","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"8"},{"N":"axis","name":"descendant","nodeTest":"NE"}]},{"N":"fn","name":"boolean","C":[{"N":"fn","name":"namespace-uri","C":[{"N":"dot","type":"1NE"}]}]}]},{"N":"fn","name":"not","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"sequence","C":[{"N":"slash","C":[{"N":"fn","name":"reverse","C":[{"N":"axis","name":"ancestor","nodeTest":"NE"}]},{"N":"fn","name":"namespace-uri","C":[{"N":"dot","type":"1NE"}]}]},{"N":"slash","C":[{"N":"fn","name":"reverse","C":[{"N":"axis","name":"preceding","nodeTest":"NE"}]},{"N":"fn","name":"namespace-uri","C":[{"N":"dot","type":"1NE"}]}]}]},{"N":"fn","name":"namespace-uri","C":[{"N":"dot","type":"1NE"}]}]}]}]},{"N":"namespace","line":"2161","flags":"l","C":[{"N":"fn","role":"name","line":"2160","name":"substring-before","C":[{"N":"fn","name":"name","C":[{"N":"dot","type":"1NE"}]},{"N":"str","val":":"}]},{"N":"convert","role":"select","from":"AU","to":"AS","C":[{"N":"fn","line":"2159","name":"namespace-uri","C":[{"N":"dot","type":"1NE"}]}]}]}]},{"N":"copyOf","line":"2163","flags":"c","C":[{"N":"sequence","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"8"},{"N":"axis","name":"attribute","nodeTest":"NA"}]},{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"8"},{"N":"axis","name":"child","nodeTest":"N u[NE,NP,NC,NT]"}]}]}]}]}]}]}]},{"N":"let","line":"1141","var":"Q{}valueExecuted","as":"1AS","slot":"9","eval":"16","C":[{"N":"choose","line":"1143","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}value"}]},{"N":"evaluate","line":"1144","as":"1AS","dxns":"","C":[{"N":"let","role":"xpath","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"51","var":"Q{}input2","as":"1AS","slot":"10","eval":"8","C":[{"N":"fn","name":"string-join","C":[{"N":"analyzeString","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"saxon-xforms.xsl","line":"1144","C":[{"N":"check","role":"select","card":"1","diag":"0|0||xforms:impose","C":[{"N":"cvUntyped","to":"AS","C":[{"N":"attVal","name":"Q{}value","chk":"0"}]}]},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"36","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"6","C":[{"N":"str","val":"instance"},{"N":"str","val":"index"},{"N":"str","val":"avg"},{"N":"str","val":"foo"},{"N":"str","val":"current-date"},{"N":"str","val":"random"}]},{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"fn","line":"37","name":"concat","C":[{"N":"str","val":"xforms:"},{"N":"dot","type":"1AS"}]},{"N":"true"},{"N":"dot","line":"41","type":"1AS"}]},{"N":"dot","role":"nonMatching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"46","type":"1AS"}]}]},{"N":"choose","line":"56","C":[{"N":"fn","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"10"},{"N":"str","val":"^\\s*\/"},{"N":"str","val":""}]},{"N":"fn","line":"57","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"10"},{"N":"str","val":"^\\s\/[^\/]+"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"fn","line":"60","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"10"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":""}]},{"N":"fn","line":"61","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"10"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"true"},{"N":"varRef","line":"64","name":"Q{}input2","slot":"10"}]}]},{"N":"varRef","role":"cxt","name":"Q{}instanceField","slot":"4"},{"N":"varRef","role":"nsCxt","name":"Q{}namespace-context-item","slot":"7"},{"N":"str","role":"sa","val":"no"},{"N":"map","role":"options","size":"0"},{"N":"map","role":"wp","size":"0"}]},{"N":"true"},{"N":"cvUntyped","line":"1147","to":"AS","diag":"3|0|XTTE0570|valueExecuted","C":[{"N":"cast","flags":"a","as":"1AZ","C":[{"N":"fn","name":"string","C":[{"N":"convert","from":"A","to":"AS","C":[{"N":"data","C":[{"N":"varRef","name":"Q{}instanceField","slot":"4"}]}]}]}]}]}]},{"N":"let","line":"1153","var":"Q{}relevantVar","as":"1AB","slot":"11","eval":"16","C":[{"N":"choose","line":"1155","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}binding","slot":"3"}]},{"N":"fn","name":"exists","C":[{"N":"slash","simple":"2","C":[{"N":"varRef","name":"Q{}binding","slot":"3"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}relevant"}]}]}]},{"N":"treat","line":"1156","as":"AB","diag":"3|0|XTTE0570|relevantVar","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|relevantVar","C":[{"N":"cvUntyped","to":"AB","diag":"3|0|XTTE0570|relevantVar","C":[{"N":"data","diag":"3|0|XTTE0570|relevantVar","C":[{"N":"evaluate","dxns":"","C":[{"N":"let","role":"xpath","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"51","var":"Q{}input2","as":"1AS","slot":"12","eval":"8","C":[{"N":"fn","name":"string-join","C":[{"N":"analyzeString","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"saxon-xforms.xsl","line":"1156","C":[{"N":"check","role":"select","card":"1","diag":"0|0||xforms:impose","C":[{"N":"cvUntyped","to":"AS","C":[{"N":"data","diag":"0|0||xforms:impose","C":[{"N":"conditionalSort","C":[{"N":"fn","name":"exists","C":[{"N":"tail","start":"2","C":[{"N":"varRef","name":"Q{}binding","slot":"3"}]}]},{"N":"docOrder","intra":"0","C":[{"N":"slash","simple":"2","C":[{"N":"varRef","name":"Q{}binding","slot":"3"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}relevant"}]}]}]}]}]}]},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"36","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"6","C":[{"N":"str","val":"instance"},{"N":"str","val":"index"},{"N":"str","val":"avg"},{"N":"str","val":"foo"},{"N":"str","val":"current-date"},{"N":"str","val":"random"}]},{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"fn","line":"37","name":"concat","C":[{"N":"str","val":"xforms:"},{"N":"dot","type":"1AS"}]},{"N":"true"},{"N":"dot","line":"41","type":"1AS"}]},{"N":"dot","role":"nonMatching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"46","type":"1AS"}]}]},{"N":"choose","line":"56","C":[{"N":"fn","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"12"},{"N":"str","val":"^\\s*\/"},{"N":"str","val":""}]},{"N":"fn","line":"57","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"12"},{"N":"str","val":"^\\s\/[^\/]+"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"fn","line":"60","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"12"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":""}]},{"N":"fn","line":"61","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"12"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"true"},{"N":"varRef","line":"64","name":"Q{}input2","slot":"12"}]}]},{"N":"varRef","role":"cxt","name":"Q{}instanceField","slot":"4"},{"N":"varRef","role":"nsCxt","name":"Q{}namespace-context-item","slot":"7"},{"N":"str","role":"sa","val":"no"},{"N":"map","role":"options","size":"0"},{"N":"map","role":"wp","size":"0"}]}]}]}]}]},{"N":"true"},{"N":"true"}]},{"N":"sequence","line":"1167","C":[{"N":"elem","name":"div","nsuri":"","namespaces":"array ev fn in js map rdf xd xhtml","C":[{"N":"sequence","line":"1168","C":[{"N":"let","var":"Q{}element","as":"1NE","slot":"13","eval":"16","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.w3.org\/2002\/xforms}output"},{"N":"let","line":"2219","var":"Q{}class","as":"?AS","slot":"14","eval":"7","C":[{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}element","slot":"13"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}class"}]}]},{"N":"cvUntyped","line":"2220","to":"AS","diag":"3|0|XTTE0570|class","C":[{"N":"cast","flags":"a","as":"1AZ","C":[{"N":"fn","name":"string","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}element","slot":"13"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}class"}]}]}]}]}]}]}]},{"N":"let","line":"2225","var":"Q{}class-mod","as":"?AS","slot":"15","eval":"7","C":[{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}element","slot":"13"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}incremental"}]}]},{"N":"cvUntyped","line":"2226","to":"AS","diag":"3|0|XTTE0570|class-mod","C":[{"N":"cast","flags":"a","as":"1AZ","C":[{"N":"fn","name":"string-join","C":[{"N":"sequence","C":[{"N":"varRef","name":"Q{}class","slot":"14"},{"N":"str","val":"incremental"}]},{"N":"str","val":" "}]}]}]},{"N":"true"},{"N":"varRef","line":"2229","name":"Q{}class","slot":"14"}]},{"N":"choose","line":"2233","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}class-mod","slot":"15"}]},{"N":"treat","line":"2234","as":"NA nQ{}class","diag":"5|0|XTTE0780|xforms:getClass#1","C":[{"N":"att","name":"class","flags":"l","C":[{"N":"varRef","name":"Q{}class-mod","slot":"15"}]}]}]}]}]}]},{"N":"applyT","line":"1170","bSlot":"1","C":[{"N":"axis","role":"select","name":"child","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}label"}]},{"N":"elem","line":"1172","name":"span","nsuri":"","flags":"l","namespaces":"array ev fn in js map rdf xd xhtml","C":[{"N":"sequence","line":"1173","C":[{"N":"att","name":"id","flags":"l","C":[{"N":"varRef","name":"Q{}id","slot":"0"}]},{"N":"att","line":"1174","name":"style","flags":"l","C":[{"N":"choose","C":[{"N":"varRef","name":"Q{}relevantVar","slot":"11"},{"N":"str","val":"display:inline"},{"N":"true"},{"N":"str","val":"display:none"}]}]},{"N":"att","line":"1175","name":"instance-context","flags":"l","C":[{"N":"varRef","name":"Q{}instance-context","slot":"2"}]},{"N":"att","line":"1176","name":"data-ref","flags":"l","C":[{"N":"varRef","name":"Q{}nodeset","slot":"1"}]},{"N":"choose","line":"1178","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}binding","slot":"3"}]},{"N":"fn","name":"exists","C":[{"N":"slash","simple":"2","C":[{"N":"varRef","name":"Q{}binding","slot":"3"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}relevant"}]}]}]},{"N":"att","line":"1179","name":"data-relevant","flags":"l","C":[{"N":"fn","name":"string-join","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"slash","simple":"2","C":[{"N":"varRef","name":"Q{}binding","slot":"3"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}relevant"}]}]}]},{"N":"str","val":" "}]}]}]},{"N":"varRef","line":"1183","name":"Q{}valueExecuted","slot":"9"}]}]}]}]},{"N":"choose","line":"1188","C":[{"N":"fn","name":"empty","C":[{"N":"slash","simple":"1","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.w3.org\/2002\/xforms}output"},{"N":"axis","name":"ancestor","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}repeat"}]}]},{"N":"ifCall","line":"1209","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"addOutput"},{"N":"arrayBlock","C":[{"N":"varRef","name":"Q{}id","slot":"0"},{"N":"ifCall","line":"1191","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}merge","type":"1FM","C":[{"N":"sequence","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"@instance-context"},{"N":"varRef","name":"Q{}instance-context","slot":"2"}]},{"N":"choose","line":"1193","C":[{"N":"varRef","name":"Q{}nodeset","slot":"1"},{"N":"ifCall","line":"1194","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"@ref"},{"N":"varRef","name":"Q{}nodeset","slot":"1"}]}]},{"N":"choose","line":"1197","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}value"}]},{"N":"ifCall","line":"1198","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}entry","type":"1FM","C":[{"N":"str","val":"@value"},{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"attVal","name":"Q{}value","chk":"0"}]}]}]}]},{"N":"map","size":"2","C":[{"N":"str","val":"duplicates"},{"N":"str","val":"reject"},{"N":"str","val":"duplicates-error-code"},{"N":"str","val":"XTDE3365"}]}]}]}]}]}]}]}]}]}]}]}]},{"N":"templateRule","prec":"0","prio":"0.0","seq":"19","part":"1","rank":"0","minImp":"0","slots":"12","matches":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}select","flags":"s","line":"1452","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}select"},{"N":"sequence","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"1453","C":[{"N":"param","name":"Q{}id","slot":"0","flags":"i","as":"1AS","C":[{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|id","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|id","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|id","C":[{"N":"data","diag":"8|0|XTTE0590|id","C":[{"N":"supplied","slot":"0"}]}]}]}]}]},{"N":"param","line":"1454","name":"Q{}nodeset","slot":"1","flags":"ti","as":"1AS","C":[{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|nodeset","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|nodeset","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|nodeset","C":[{"N":"data","diag":"8|0|XTTE0590|nodeset","C":[{"N":"supplied","slot":"1"}]}]}]}]}]},{"N":"param","line":"1455","name":"Q{}instance-context","slot":"2","flags":"i","as":"1AS","C":[{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|instance-context","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|instance-context","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|instance-context","C":[{"N":"data","diag":"8|0|XTTE0590|instance-context","C":[{"N":"supplied","slot":"2"}]}]}]}]}]},{"N":"param","line":"1456","name":"Q{}binding","slot":"3","as":"*NE nQ{http:\/\/www.w3.org\/2002\/xforms}bind","C":[{"N":"empty","role":"select"},{"N":"treat","role":"conversion","as":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}bind","diag":"8|0|XTTE0590|binding","C":[{"N":"supplied","slot":"3"}]}]},{"N":"param","line":"1457","name":"Q{}actions","slot":"4","as":"*FM","C":[{"N":"empty","role":"select"},{"N":"treat","role":"conversion","as":"FM","diag":"8|0|XTTE0590|actions","C":[{"N":"supplied","slot":"4"}]}]},{"N":"let","line":"1459","var":"Q{}instanceField","as":"?N","slot":"5","eval":"7","C":[{"N":"choose","line":"1460","C":[{"N":"varRef","name":"Q{}nodeset","slot":"1"},{"N":"let","line":"1461","var":"Q{}instanceXML","as":"1NE","slot":"6","eval":"16","C":[{"N":"treat","as":"NE","diag":"3|0|XTTE0570|instanceXML","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|instanceXML","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"getInstance"},{"N":"arrayBlock","C":[{"N":"varRef","name":"Q{}instance-context","slot":"2"}]}]}]}]},{"N":"treat","line":"1462","as":"N","diag":"3|0|XTTE0570|instanceField","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|instanceField","C":[{"N":"evaluate","dxns":"","C":[{"N":"let","role":"xpath","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"51","var":"Q{}input2","as":"1AS","slot":"7","eval":"8","C":[{"N":"fn","name":"string-join","C":[{"N":"analyzeString","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"saxon-xforms.xsl","line":"1462","C":[{"N":"varRef","role":"select","name":"Q{}nodeset","slot":"1"},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"36","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"6","C":[{"N":"str","val":"instance"},{"N":"str","val":"index"},{"N":"str","val":"avg"},{"N":"str","val":"foo"},{"N":"str","val":"current-date"},{"N":"str","val":"random"}]},{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"fn","line":"37","name":"concat","C":[{"N":"str","val":"xforms:"},{"N":"dot","type":"1AS"}]},{"N":"true"},{"N":"dot","line":"41","type":"1AS"}]},{"N":"dot","role":"nonMatching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"46","type":"1AS"}]}]},{"N":"choose","line":"56","C":[{"N":"fn","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"7"},{"N":"str","val":"^\\s*\/"},{"N":"str","val":""}]},{"N":"fn","line":"57","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"7"},{"N":"str","val":"^\\s\/[^\/]+"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"fn","line":"60","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"7"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":""}]},{"N":"fn","line":"61","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"7"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"true"},{"N":"varRef","line":"64","name":"Q{}input2","slot":"7"}]}]},{"N":"varRef","role":"cxt","name":"Q{}instanceXML","slot":"6"},{"N":"varRef","role":"nsCxt","name":"Q{}instanceXML","slot":"6"},{"N":"str","role":"sa","val":"no"},{"N":"map","role":"options","size":"0"},{"N":"map","role":"wp","size":"0"}]}]}]}]}]},{"N":"elem","line":"1477","name":"div","nsuri":"","namespaces":"array ev fn in js map rdf xd xhtml","C":[{"N":"sequence","C":[{"N":"att","name":"class","flags":"l","C":[{"N":"str","val":"xforms-select"}]},{"N":"applyT","line":"1478","bSlot":"2","C":[{"N":"axis","role":"select","name":"child","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}label"}]},{"N":"let","line":"1479","var":"Q{}hints","as":"*NT","slot":"8","eval":"4","C":[{"N":"slash","simple":"2","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}hint"},{"N":"axis","name":"child","nodeTest":"NT"}]},{"N":"elem","line":"1481","name":"select","nsuri":"","flags":"l","namespaces":"array ev fn in js map rdf xd xhtml","C":[{"N":"sequence","line":"1482","C":[{"N":"let","var":"Q{}element","as":"1NE","slot":"9","eval":"16","C":[{"N":"dot","type":"1NE"},{"N":"let","line":"2219","var":"Q{}class","as":"?AS","slot":"10","eval":"7","C":[{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}element","slot":"9"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}class"}]}]},{"N":"cvUntyped","line":"2220","to":"AS","diag":"3|0|XTTE0570|class","C":[{"N":"cast","flags":"a","as":"1AZ","C":[{"N":"fn","name":"string","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}element","slot":"9"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}class"}]}]}]}]}]}]}]},{"N":"let","line":"2225","var":"Q{}class-mod","as":"?AS","slot":"11","eval":"7","C":[{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}element","slot":"9"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}incremental"}]}]},{"N":"cvUntyped","line":"2226","to":"AS","diag":"3|0|XTTE0570|class-mod","C":[{"N":"cast","flags":"a","as":"1AZ","C":[{"N":"fn","name":"string-join","C":[{"N":"sequence","C":[{"N":"varRef","name":"Q{}class","slot":"10"},{"N":"str","val":"incremental"}]},{"N":"str","val":" "}]}]}]},{"N":"true"},{"N":"varRef","line":"2229","name":"Q{}class","slot":"10"}]},{"N":"choose","line":"2233","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}class-mod","slot":"11"}]},{"N":"treat","line":"2234","as":"NA nQ{}class","diag":"5|0|XTTE0780|xforms:getClass#1","C":[{"N":"att","name":"class","flags":"l","C":[{"N":"varRef","name":"Q{}class-mod","slot":"11"}]}]}]}]}]}]},{"N":"att","line":"1484","name":"instance-context","flags":"l","C":[{"N":"varRef","name":"Q{}instance-context","slot":"2"}]},{"N":"att","line":"1485","name":"data-ref","flags":"l","C":[{"N":"varRef","name":"Q{}nodeset","slot":"1"}]},{"N":"choose","line":"1487","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}binding","slot":"3"}]},{"N":"fn","name":"exists","C":[{"N":"slash","simple":"2","C":[{"N":"varRef","name":"Q{}binding","slot":"3"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}constraint"}]}]}]},{"N":"att","line":"1488","name":"data-constraint","flags":"l","C":[{"N":"fn","name":"string-join","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"slash","simple":"2","C":[{"N":"varRef","name":"Q{}binding","slot":"3"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}constraint"}]}]}]},{"N":"str","val":" "}]}]}]},{"N":"choose","line":"1490","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}binding","slot":"3"}]},{"N":"fn","name":"exists","C":[{"N":"slash","simple":"2","C":[{"N":"varRef","name":"Q{}binding","slot":"3"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}relevant"}]}]}]},{"N":"att","line":"1491","name":"data-relevant","flags":"l","C":[{"N":"fn","name":"string-join","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"slash","simple":"2","C":[{"N":"varRef","name":"Q{}binding","slot":"3"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}relevant"}]}]}]},{"N":"str","val":" "}]}]}]},{"N":"choose","line":"1493","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}binding","slot":"3"}]},{"N":"fn","name":"exists","C":[{"N":"slash","simple":"2","C":[{"N":"varRef","name":"Q{}binding","slot":"3"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}required"}]}]}]},{"N":"att","line":"1494","name":"data-required","flags":"l","C":[{"N":"fn","name":"string-join","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"slash","simple":"2","C":[{"N":"varRef","name":"Q{}binding","slot":"3"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}required"}]}]}]},{"N":"str","val":" "}]}]}]},{"N":"choose","line":"1497","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}actions","slot":"4"}]},{"N":"att","line":"1498","name":"data-action","flags":"l","C":[{"N":"varRef","name":"Q{}id","slot":"0"}]}]},{"N":"choose","line":"1501","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}hints","slot":"8"}]},{"N":"att","line":"1502","name":"title","flags":"l","C":[{"N":"fn","name":"string-join","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"mergeAdj","C":[{"N":"varRef","name":"Q{}hints","slot":"8"}]}]}]},{"N":"str","val":" "}]}]}]},{"N":"choose","line":"1506","C":[{"N":"compareToString","op":"eq","val":"select","C":[{"N":"fn","name":"local-name","C":[{"N":"dot","type":"1NE"}]}]},{"N":"sequence","line":"1507","C":[{"N":"att","name":"multiple","flags":"l","C":[{"N":"str","val":"true"}]},{"N":"att","line":"1508","name":"size","flags":"l","C":[{"N":"convert","line":"1509","from":"ADI","to":"AS","C":[{"N":"fn","name":"count","C":[{"N":"axis","name":"descendant","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}item"}]}]}]}]}]},{"N":"applyT","line":"1513","bSlot":"3","C":[{"N":"axis","role":"select","name":"child","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}item"},{"N":"withParam","name":"Q{}selectedValue","as":"1AS","C":[{"N":"choose","line":"1468","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}instanceField","slot":"5"}]},{"N":"cvUntyped","line":"1469","to":"AS","diag":"3|0|XTTE0570|selectedValue","C":[{"N":"cast","flags":"a","as":"1AZ","C":[{"N":"fn","name":"string","C":[{"N":"convert","from":"A","to":"AS","C":[{"N":"data","C":[{"N":"varRef","name":"Q{}instanceField","slot":"5"}]}]}]}]}]},{"N":"true"},{"N":"str","val":""}]}]}]}]}]}]}]}]}]}]}]},{"N":"templateRule","prec":"0","prio":"0.0","seq":"24","rank":"0","minImp":"0","slots":"2","matches":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}group","flags":"s","line":"1591","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}group"},{"N":"sequence","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"1592","C":[{"N":"param","name":"Q{}id","slot":"0","flags":"r","as":"1AS","C":[{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|id","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|id","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|id","C":[{"N":"data","diag":"8|0|XTTE0590|id","C":[{"N":"supplied","slot":"0"}]}]}]}]}]},{"N":"param","line":"1593","name":"Q{}nodeset","slot":"1","flags":"tr","as":"1AS","C":[{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|nodeset","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|nodeset","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|nodeset","C":[{"N":"data","diag":"8|0|XTTE0590|nodeset","C":[{"N":"supplied","slot":"1"}]}]}]}]}]},{"N":"elem","line":"1595","name":"div","nsuri":"","namespaces":"array ev fn in js map rdf xd xhtml","C":[{"N":"sequence","line":"1596","C":[{"N":"att","name":"id","flags":"l","C":[{"N":"varRef","name":"Q{}id","slot":"0"}]},{"N":"choose","line":"1597","C":[{"N":"varRef","name":"Q{}nodeset","slot":"1"},{"N":"att","line":"1598","name":"data-group-ref","flags":"l","C":[{"N":"varRef","name":"Q{}nodeset","slot":"1"}]}]},{"N":"applyT","line":"1600","bSlot":"4","C":[{"N":"axis","role":"select","name":"child","nodeTest":"NE"}]}]}]}]}]},{"N":"templateRule","prec":"0","prio":"0.0","seq":"16","rank":"0","minImp":"0","slots":"16","matches":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}input","flags":"s","line":"1226","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}input"},{"N":"sequence","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"1227","C":[{"N":"param","name":"Q{}id","slot":"0","flags":"i","as":"1AS","C":[{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|id","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|id","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|id","C":[{"N":"data","diag":"8|0|XTTE0590|id","C":[{"N":"supplied","slot":"0"}]}]}]}]}]},{"N":"param","line":"1228","name":"Q{}nodeset","slot":"1","flags":"ti","as":"1AS","C":[{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|nodeset","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|nodeset","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|nodeset","C":[{"N":"data","diag":"8|0|XTTE0590|nodeset","C":[{"N":"supplied","slot":"1"}]}]}]}]}]},{"N":"param","line":"1229","name":"Q{}instance-context","slot":"2","flags":"i","as":"1AS","C":[{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|instance-context","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|instance-context","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|instance-context","C":[{"N":"data","diag":"8|0|XTTE0590|instance-context","C":[{"N":"supplied","slot":"2"}]}]}]}]}]},{"N":"param","line":"1230","name":"Q{}binding","slot":"3","as":"*NE nQ{http:\/\/www.w3.org\/2002\/xforms}bind","C":[{"N":"empty","role":"select"},{"N":"treat","role":"conversion","as":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}bind","diag":"8|0|XTTE0590|binding","C":[{"N":"supplied","slot":"3"}]}]},{"N":"param","line":"1231","name":"Q{}actions","slot":"4","as":"*FM","C":[{"N":"empty","role":"select"},{"N":"treat","role":"conversion","as":"FM","diag":"8|0|XTTE0590|actions","C":[{"N":"supplied","slot":"4"}]}]},{"N":"let","line":"1233","var":"Q{}instanceField","as":"?N","slot":"5","eval":"7","C":[{"N":"choose","line":"1234","C":[{"N":"varRef","name":"Q{}nodeset","slot":"1"},{"N":"let","line":"1235","var":"Q{}instanceXML","as":"1NE","slot":"6","eval":"16","C":[{"N":"treat","as":"NE","diag":"3|0|XTTE0570|instanceXML","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|instanceXML","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"getInstance"},{"N":"arrayBlock","C":[{"N":"varRef","name":"Q{}instance-context","slot":"2"}]}]}]}]},{"N":"treat","line":"1236","as":"N","diag":"3|0|XTTE0570|instanceField","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|instanceField","C":[{"N":"evaluate","dxns":"","C":[{"N":"let","role":"xpath","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"51","var":"Q{}input2","as":"1AS","slot":"7","eval":"8","C":[{"N":"fn","name":"string-join","C":[{"N":"analyzeString","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"saxon-xforms.xsl","line":"1236","C":[{"N":"varRef","role":"select","name":"Q{}nodeset","slot":"1"},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"36","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"6","C":[{"N":"str","val":"instance"},{"N":"str","val":"index"},{"N":"str","val":"avg"},{"N":"str","val":"foo"},{"N":"str","val":"current-date"},{"N":"str","val":"random"}]},{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"fn","line":"37","name":"concat","C":[{"N":"str","val":"xforms:"},{"N":"dot","type":"1AS"}]},{"N":"true"},{"N":"dot","line":"41","type":"1AS"}]},{"N":"dot","role":"nonMatching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"46","type":"1AS"}]}]},{"N":"choose","line":"56","C":[{"N":"fn","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"7"},{"N":"str","val":"^\\s*\/"},{"N":"str","val":""}]},{"N":"fn","line":"57","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"7"},{"N":"str","val":"^\\s\/[^\/]+"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"fn","line":"60","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"7"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":""}]},{"N":"fn","line":"61","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"7"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"true"},{"N":"varRef","line":"64","name":"Q{}input2","slot":"7"}]}]},{"N":"varRef","role":"cxt","name":"Q{}instanceXML","slot":"6"},{"N":"varRef","role":"nsCxt","name":"Q{}instanceXML","slot":"6"},{"N":"str","role":"sa","val":"no"},{"N":"map","role":"options","size":"0"},{"N":"map","role":"wp","size":"0"}]}]}]}]}]},{"N":"let","line":"1247","var":"Q{}relevantVar","as":"1AB","slot":"8","eval":"16","C":[{"N":"choose","line":"1249","C":[{"N":"and","op":"and","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}binding","slot":"3"}]},{"N":"fn","name":"exists","C":[{"N":"slash","simple":"2","C":[{"N":"varRef","name":"Q{}binding","slot":"3"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}relevant"}]}]}]},{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}instanceField","slot":"5"}]}]},{"N":"treat","line":"1251","as":"AB","diag":"3|0|XTTE0570|relevantVar","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|relevantVar","C":[{"N":"cvUntyped","to":"AB","diag":"3|0|XTTE0570|relevantVar","C":[{"N":"data","diag":"3|0|XTTE0570|relevantVar","C":[{"N":"evaluate","dxns":"","C":[{"N":"let","role":"xpath","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"51","var":"Q{}input2","as":"1AS","slot":"9","eval":"8","C":[{"N":"fn","name":"string-join","C":[{"N":"analyzeString","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"saxon-xforms.xsl","line":"1251","C":[{"N":"check","role":"select","card":"1","diag":"0|0||xforms:impose","C":[{"N":"cvUntyped","to":"AS","C":[{"N":"data","diag":"0|0||xforms:impose","C":[{"N":"conditionalSort","C":[{"N":"fn","name":"exists","C":[{"N":"tail","start":"2","C":[{"N":"varRef","name":"Q{}binding","slot":"3"}]}]},{"N":"docOrder","intra":"0","C":[{"N":"slash","simple":"2","C":[{"N":"varRef","name":"Q{}binding","slot":"3"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}relevant"}]}]}]}]}]}]},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"36","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"6","C":[{"N":"str","val":"instance"},{"N":"str","val":"index"},{"N":"str","val":"avg"},{"N":"str","val":"foo"},{"N":"str","val":"current-date"},{"N":"str","val":"random"}]},{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"fn","line":"37","name":"concat","C":[{"N":"str","val":"xforms:"},{"N":"dot","type":"1AS"}]},{"N":"true"},{"N":"dot","line":"41","type":"1AS"}]},{"N":"dot","role":"nonMatching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"46","type":"1AS"}]}]},{"N":"choose","line":"56","C":[{"N":"fn","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"9"},{"N":"str","val":"^\\s*\/"},{"N":"str","val":""}]},{"N":"fn","line":"57","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"9"},{"N":"str","val":"^\\s\/[^\/]+"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"fn","line":"60","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"9"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":""}]},{"N":"fn","line":"61","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"9"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"true"},{"N":"varRef","line":"64","name":"Q{}input2","slot":"9"}]}]},{"N":"varRef","role":"cxt","name":"Q{}instanceField","slot":"5"},{"N":"choose","role":"nsCxt","line":"1243","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}instanceField","slot":"5"}]},{"N":"check","card":"1","diag":"3|0|XTTE0570|namespace-context-item","C":[{"N":"varRef","name":"Q{}instanceField","slot":"5"}]},{"N":"true"},{"N":"let","var":"Q{}this","as":"1NE","slot":"10","eval":"16","C":[{"N":"check","card":"1","diag":"0|0||xforms:addNamespaceDeclarations","C":[{"N":"slash","simple":"1","C":[{"N":"root"},{"N":"axis","name":"child","nodeTest":"NE"}]}]},{"N":"compElem","line":"2156","C":[{"N":"fn","role":"name","name":"name","C":[{"N":"varRef","name":"Q{}this","slot":"10"}]},{"N":"sequence","role":"content","line":"2157","C":[{"N":"namespace","flags":"l","C":[{"N":"str","role":"name","val":"xforms"},{"N":"str","role":"select","val":"http:\/\/www.w3.org\/2002\/xforms"}]},{"N":"forEach","line":"2158","C":[{"N":"filter","flags":"b","C":[{"N":"filter","flags":"b","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"10"},{"N":"axis","name":"descendant","nodeTest":"NE"}]},{"N":"fn","name":"boolean","C":[{"N":"fn","name":"namespace-uri","C":[{"N":"dot","type":"1NE"}]}]}]},{"N":"fn","name":"not","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"sequence","C":[{"N":"slash","C":[{"N":"fn","name":"reverse","C":[{"N":"axis","name":"ancestor","nodeTest":"NE"}]},{"N":"fn","name":"namespace-uri","C":[{"N":"dot","type":"1NE"}]}]},{"N":"slash","C":[{"N":"fn","name":"reverse","C":[{"N":"axis","name":"preceding","nodeTest":"NE"}]},{"N":"fn","name":"namespace-uri","C":[{"N":"dot","type":"1NE"}]}]}]},{"N":"fn","name":"namespace-uri","C":[{"N":"dot","type":"1NE"}]}]}]}]},{"N":"namespace","line":"2161","flags":"l","C":[{"N":"fn","role":"name","line":"2160","name":"substring-before","C":[{"N":"fn","name":"name","C":[{"N":"dot","type":"1NE"}]},{"N":"str","val":":"}]},{"N":"convert","role":"select","from":"AU","to":"AS","C":[{"N":"fn","line":"2159","name":"namespace-uri","C":[{"N":"dot","type":"1NE"}]}]}]}]},{"N":"copyOf","line":"2163","flags":"c","C":[{"N":"sequence","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"10"},{"N":"axis","name":"attribute","nodeTest":"NA"}]},{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"10"},{"N":"axis","name":"child","nodeTest":"N u[NE,NP,NC,NT]"}]}]}]}]}]}]}]},{"N":"str","role":"sa","val":"no"},{"N":"map","role":"options","size":"0"},{"N":"map","role":"wp","size":"0"}]}]}]}]}]},{"N":"true"},{"N":"true"}]},{"N":"elem","line":"1259","name":"div","nsuri":"","namespaces":"array ev fn in js map rdf xd xhtml","C":[{"N":"sequence","C":[{"N":"att","name":"class","flags":"l","C":[{"N":"str","val":"xforms-input"}]},{"N":"att","line":"1260","name":"style","flags":"l","C":[{"N":"choose","C":[{"N":"varRef","name":"Q{}relevantVar","slot":"8"},{"N":"str","val":"display:block"},{"N":"true"},{"N":"str","val":"display:none"}]}]},{"N":"applyT","line":"1262","bSlot":"5","C":[{"N":"axis","role":"select","name":"child","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}label"}]},{"N":"let","line":"1264","var":"Q{}hints","as":"*NT","slot":"11","eval":"4","C":[{"N":"slash","simple":"2","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}hint"},{"N":"axis","name":"child","nodeTest":"NT"}]},{"N":"elem","line":"1266","name":"input","nsuri":"","flags":"l","namespaces":"array ev fn in js map rdf xd xhtml","C":[{"N":"sequence","line":"1267","C":[{"N":"let","var":"Q{}element","as":"1NE","slot":"12","eval":"16","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.w3.org\/2002\/xforms}input"},{"N":"let","line":"2219","var":"Q{}class","as":"?AS","slot":"13","eval":"7","C":[{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}element","slot":"12"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}class"}]}]},{"N":"cvUntyped","line":"2220","to":"AS","diag":"3|0|XTTE0570|class","C":[{"N":"cast","flags":"a","as":"1AZ","C":[{"N":"fn","name":"string","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}element","slot":"12"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}class"}]}]}]}]}]}]}]},{"N":"let","line":"2225","var":"Q{}class-mod","as":"?AS","slot":"14","eval":"7","C":[{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}element","slot":"12"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}incremental"}]}]},{"N":"cvUntyped","line":"2226","to":"AS","diag":"3|0|XTTE0570|class-mod","C":[{"N":"cast","flags":"a","as":"1AZ","C":[{"N":"fn","name":"string-join","C":[{"N":"sequence","C":[{"N":"varRef","name":"Q{}class","slot":"13"},{"N":"str","val":"incremental"}]},{"N":"str","val":" "}]}]}]},{"N":"true"},{"N":"varRef","line":"2229","name":"Q{}class","slot":"13"}]},{"N":"choose","line":"2233","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}class-mod","slot":"14"}]},{"N":"treat","line":"2234","as":"NA nQ{}class","diag":"5|0|XTTE0780|xforms:getClass#1","C":[{"N":"att","name":"class","flags":"l","C":[{"N":"varRef","name":"Q{}class-mod","slot":"14"}]}]}]}]}]}]},{"N":"att","line":"1268","name":"id","flags":"l","C":[{"N":"varRef","name":"Q{}id","slot":"0"}]},{"N":"att","line":"1270","name":"instance-context","flags":"l","C":[{"N":"varRef","name":"Q{}instance-context","slot":"2"}]},{"N":"att","line":"1271","name":"data-ref","flags":"l","C":[{"N":"varRef","name":"Q{}nodeset","slot":"1"}]},{"N":"choose","line":"1273","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}binding","slot":"3"}]},{"N":"fn","name":"exists","C":[{"N":"slash","simple":"2","C":[{"N":"varRef","name":"Q{}binding","slot":"3"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}constraint"}]}]}]},{"N":"att","line":"1274","name":"data-constraint","flags":"l","C":[{"N":"fn","name":"string-join","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"slash","simple":"2","C":[{"N":"varRef","name":"Q{}binding","slot":"3"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}constraint"}]}]}]},{"N":"str","val":" "}]}]}]},{"N":"choose","line":"1276","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}binding","slot":"3"}]},{"N":"fn","name":"exists","C":[{"N":"slash","simple":"2","C":[{"N":"varRef","name":"Q{}binding","slot":"3"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}relevant"}]}]}]},{"N":"att","line":"1277","name":"data-relevant","flags":"l","C":[{"N":"fn","name":"string-join","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"slash","simple":"2","C":[{"N":"varRef","name":"Q{}binding","slot":"3"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}relevant"}]}]}]},{"N":"str","val":" "}]}]}]},{"N":"choose","line":"1279","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}binding","slot":"3"}]},{"N":"fn","name":"exists","C":[{"N":"slash","simple":"2","C":[{"N":"varRef","name":"Q{}binding","slot":"3"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}required"}]}]}]},{"N":"att","line":"1280","name":"data-required","flags":"l","C":[{"N":"fn","name":"string-join","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"slash","simple":"2","C":[{"N":"varRef","name":"Q{}binding","slot":"3"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}required"}]}]}]},{"N":"str","val":" "}]}]}]},{"N":"choose","line":"1283","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}actions","slot":"4"}]},{"N":"att","line":"1284","name":"data-action","flags":"l","C":[{"N":"varRef","name":"Q{}id","slot":"0"}]}]},{"N":"choose","line":"1287","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}hints","slot":"11"}]},{"N":"att","line":"1288","name":"title","flags":"l","C":[{"N":"fn","name":"string-join","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"mergeAdj","C":[{"N":"varRef","name":"Q{}hints","slot":"11"}]}]}]},{"N":"str","val":" "}]}]}]},{"N":"choose","line":"1291","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}size"}]},{"N":"att","line":"1292","name":"size","flags":"l","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"attVal","name":"Q{}size","chk":"0"}]}]}]},{"N":"let","line":"1295","var":"Q{}input-value","as":"1AS","slot":"15","eval":"16","C":[{"N":"choose","line":"1297","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}instanceField","slot":"5"}]},{"N":"cvUntyped","line":"1298","to":"AS","diag":"3|0|XTTE0570|input-value","C":[{"N":"cast","flags":"a","as":"1AZ","C":[{"N":"fn","name":"string","C":[{"N":"convert","from":"A","to":"AS","C":[{"N":"data","C":[{"N":"varRef","name":"Q{}instanceField","slot":"5"}]}]}]}]}]},{"N":"true"},{"N":"str","val":""}]},{"N":"choose","line":"1312","C":[{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}binding","slot":"3"}]},{"N":"vc","op":"eq","comp":"EQC","C":[{"N":"cast","flags":"ae","as":"?AQ","C":[{"N":"atomSing","card":"?","diag":"2|0||cast as","C":[{"N":"conditionalSort","C":[{"N":"fn","name":"exists","C":[{"N":"tail","start":"2","C":[{"N":"varRef","name":"Q{}binding","slot":"3"}]}]},{"N":"docOrder","intra":"0","C":[{"N":"slash","simple":"2","C":[{"N":"varRef","name":"Q{}binding","slot":"3"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}type"}]}]}]}]}]},{"N":"qName","pre":"xs","uri":"http:\/\/www.w3.org\/2001\/XMLSchema","loc":"date"}]},{"N":"true"},{"N":"false"}]},{"N":"sequence","line":"1313","C":[{"N":"att","name":"data-type","flags":"l","C":[{"N":"str","val":"date"}]},{"N":"att","line":"1315","name":"type","flags":"l","C":[{"N":"str","val":"date"}]},{"N":"att","line":"1317","name":"value","flags":"l","C":[{"N":"varRef","name":"Q{}input-value","slot":"15"}]}]},{"N":"choose","line":"1324","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}binding","slot":"3"}]},{"N":"vc","op":"eq","comp":"EQC","C":[{"N":"cast","flags":"ae","as":"?AQ","C":[{"N":"atomSing","card":"?","diag":"2|0||cast as","C":[{"N":"conditionalSort","C":[{"N":"fn","name":"exists","C":[{"N":"tail","start":"2","C":[{"N":"varRef","name":"Q{}binding","slot":"3"}]}]},{"N":"docOrder","intra":"0","C":[{"N":"slash","simple":"2","C":[{"N":"varRef","name":"Q{}binding","slot":"3"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}type"}]}]}]}]}]},{"N":"qName","pre":"xs","uri":"http:\/\/www.w3.org\/2001\/XMLSchema","loc":"time"}]},{"N":"true"},{"N":"false"}]},{"N":"sequence","line":"1325","C":[{"N":"att","name":"data-type","flags":"l","C":[{"N":"str","val":"time"}]},{"N":"att","line":"1327","name":"type","flags":"l","C":[{"N":"str","val":"time"}]},{"N":"att","line":"1330","name":"value","flags":"l","C":[{"N":"varRef","name":"Q{}input-value","slot":"15"}]}]},{"N":"choose","line":"1337","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}binding","slot":"3"}]},{"N":"vc","op":"eq","comp":"EQC","C":[{"N":"cast","flags":"ae","as":"?AQ","C":[{"N":"atomSing","card":"?","diag":"2|0||cast as","C":[{"N":"conditionalSort","C":[{"N":"fn","name":"exists","C":[{"N":"tail","start":"2","C":[{"N":"varRef","name":"Q{}binding","slot":"3"}]}]},{"N":"docOrder","intra":"0","C":[{"N":"slash","simple":"2","C":[{"N":"varRef","name":"Q{}binding","slot":"3"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}type"}]}]}]}]}]},{"N":"qName","pre":"xs","uri":"http:\/\/www.w3.org\/2001\/XMLSchema","loc":"boolean"}]},{"N":"true"},{"N":"false"}]},{"N":"sequence","line":"1338","C":[{"N":"att","name":"data-type","flags":"l","C":[{"N":"str","val":"checkbox"}]},{"N":"att","line":"1340","name":"type","flags":"l","C":[{"N":"str","val":"checkbox"}]},{"N":"choose","line":"1343","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}instanceField","slot":"5"}]},{"N":"choose","line":"1344","C":[{"N":"and","op":"and","C":[{"N":"varRef","name":"Q{}input-value","slot":"15"},{"N":"cast","flags":"a","as":"1AB","C":[{"N":"varRef","name":"Q{}input-value","slot":"15"}]}]},{"N":"att","line":"1345","name":"checked","flags":"l","C":[{"N":"varRef","name":"Q{}input-value","slot":"15"}]}]}]}]},{"N":"true"},{"N":"sequence","line":"1351","C":[{"N":"choose","C":[{"N":"varRef","name":"Q{}relevantVar","slot":"8"},{"N":"att","line":"1352","name":"type","flags":"l","C":[{"N":"str","val":"text"}]}]},{"N":"att","line":"1354","name":"value","flags":"l","C":[{"N":"varRef","name":"Q{}input-value","slot":"15"}]}]}]}]}]}]}]}]}]}]}]}]}]},{"N":"templateRule","prec":"0","prio":"0.0","seq":"30","rank":"0","minImp":"0","slots":"3","matches":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}trigger","flags":"s","line":"1862","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}trigger"},{"N":"sequence","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"1863","C":[{"N":"param","name":"Q{}id","slot":"0","flags":"i","as":"1AS","C":[{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|id","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|id","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|id","C":[{"N":"data","diag":"8|0|XTTE0590|id","C":[{"N":"supplied","slot":"0"}]}]}]}]}]},{"N":"param","line":"1864","name":"Q{}nodeset","slot":"1","flags":"ti","as":"1AS","C":[{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|nodeset","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|nodeset","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|nodeset","C":[{"N":"data","diag":"8|0|XTTE0590|nodeset","C":[{"N":"supplied","slot":"1"}]}]}]}]}]},{"N":"let","line":"1866","var":"Q{}innerbody","as":"1ND","slot":"2","eval":"16","C":[{"N":"doc","line":"1868","C":[{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}label"}]},{"N":"applyT","line":"1869","bSlot":"6","C":[{"N":"axis","role":"select","name":"child","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}label"}]},{"N":"true"},{"N":"valueOf","line":"1871","flags":"l","C":[{"N":"str","val":""}]}]}]},{"N":"elem","line":"1875","name":"span","nsuri":"","namespaces":"array ev fn in js map rdf xd xhtml","C":[{"N":"sequence","C":[{"N":"att","name":"style","flags":"l","C":[{"N":"str","val":"display:'inline'"}]},{"N":"compElem","line":"1886","flags":"l","C":[{"N":"choose","role":"name","line":"1878","C":[{"N":"vc","op":"eq","onEmpty":"0","comp":"CCC","C":[{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"attVal","name":"Q{}appearance","chk":"0"}]},{"N":"str","val":"minimal"}]},{"N":"str","val":"a"},{"N":"true"},{"N":"str","val":"button"}]},{"N":"sequence","role":"content","line":"1887","C":[{"N":"choose","C":[{"N":"vc","op":"eq","onEmpty":"0","comp":"CCC","C":[{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"attVal","name":"Q{}appearance","chk":"0"}]},{"N":"str","val":"minimal"}]},{"N":"att","line":"1888","name":"type","flags":"l","C":[{"N":"str","val":"button"}]}]},{"N":"att","line":"1891","name":"data-ref","flags":"l","C":[{"N":"varRef","name":"Q{}nodeset","slot":"1"}]},{"N":"att","line":"1892","name":"data-action","flags":"l","C":[{"N":"varRef","name":"Q{}id","slot":"0"}]},{"N":"copyOf","line":"1893","flags":"c","C":[{"N":"varRef","name":"Q{}innerbody","slot":"2"}]}]}]}]}]}]}]}]},{"N":"templateRule","prec":"0","prio":"0.0","seq":"19","rank":"0","minImp":"0","slots":"12","matches":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}select1","flags":"s","line":"1452","module":"saxon-xforms.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}select1"},{"N":"sequence","role":"action","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","line":"1453","C":[{"N":"param","name":"Q{}id","slot":"0","flags":"i","as":"1AS","C":[{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|id","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|id","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|id","C":[{"N":"data","diag":"8|0|XTTE0590|id","C":[{"N":"supplied","slot":"0"}]}]}]}]}]},{"N":"param","line":"1454","name":"Q{}nodeset","slot":"1","flags":"ti","as":"1AS","C":[{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|nodeset","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|nodeset","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|nodeset","C":[{"N":"data","diag":"8|0|XTTE0590|nodeset","C":[{"N":"supplied","slot":"1"}]}]}]}]}]},{"N":"param","line":"1455","name":"Q{}instance-context","slot":"2","flags":"i","as":"1AS","C":[{"N":"treat","role":"conversion","as":"AS","diag":"8|0|XTTE0590|instance-context","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|instance-context","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|instance-context","C":[{"N":"data","diag":"8|0|XTTE0590|instance-context","C":[{"N":"supplied","slot":"2"}]}]}]}]}]},{"N":"param","line":"1456","name":"Q{}binding","slot":"3","as":"*NE nQ{http:\/\/www.w3.org\/2002\/xforms}bind","C":[{"N":"empty","role":"select"},{"N":"treat","role":"conversion","as":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}bind","diag":"8|0|XTTE0590|binding","C":[{"N":"supplied","slot":"3"}]}]},{"N":"param","line":"1457","name":"Q{}actions","slot":"4","as":"*FM","C":[{"N":"empty","role":"select"},{"N":"treat","role":"conversion","as":"FM","diag":"8|0|XTTE0590|actions","C":[{"N":"supplied","slot":"4"}]}]},{"N":"let","line":"1459","var":"Q{}instanceField","as":"?N","slot":"5","eval":"7","C":[{"N":"choose","line":"1460","C":[{"N":"varRef","name":"Q{}nodeset","slot":"1"},{"N":"let","line":"1461","var":"Q{}instanceXML","as":"1NE","slot":"6","eval":"16","C":[{"N":"treat","as":"NE","diag":"3|0|XTTE0570|instanceXML","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|instanceXML","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}call","type":"*","C":[{"N":"ifCall","name":"Q{http:\/\/saxonica.com\/ns\/interactiveXSLT}window","type":"1"},{"N":"str","val":"getInstance"},{"N":"arrayBlock","C":[{"N":"varRef","name":"Q{}instance-context","slot":"2"}]}]}]}]},{"N":"treat","line":"1462","as":"N","diag":"3|0|XTTE0570|instanceField","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|instanceField","C":[{"N":"evaluate","dxns":"","C":[{"N":"let","role":"xpath","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"51","var":"Q{}input2","as":"1AS","slot":"7","eval":"8","C":[{"N":"fn","name":"string-join","C":[{"N":"analyzeString","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# saxon=~ sfl=http:\/\/saxonica.com\/ns\/forms-local sfp=http:\/\/saxon.sf.net\/ns\/packages xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"saxon-xforms.xsl","line":"1462","C":[{"N":"varRef","role":"select","name":"Q{}nodeset","slot":"1"},{"N":"str","role":"regex","val":"\\i\\c*\\("},{"N":"str","role":"flags","val":""},{"N":"choose","role":"matching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"36","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"6","C":[{"N":"str","val":"instance"},{"N":"str","val":"index"},{"N":"str","val":"avg"},{"N":"str","val":"foo"},{"N":"str","val":"current-date"},{"N":"str","val":"random"}]},{"N":"fn","name":"substring-before","C":[{"N":"dot","type":"1AS"},{"N":"str","val":"("}]}]},{"N":"fn","line":"37","name":"concat","C":[{"N":"str","val":"xforms:"},{"N":"dot","type":"1AS"}]},{"N":"true"},{"N":"dot","line":"41","type":"1AS"}]},{"N":"dot","role":"nonMatching","ns":"array=~ ev=http:\/\/www.w3.org\/2001\/xml-events fn=~ in=http:\/\/www.w3.org\/2002\/xforms-instance ixsl=~ js=~ map=~ math=~ rdf=http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns# sfl=http:\/\/saxonica.com\/ns\/forms-local xf=http:\/\/www.w3.org\/2002\/xforms xforms=http:\/\/www.w3.org\/2002\/xforms xhtml=http:\/\/www.w3.org\/1999\/xhtml xs=~ xsl=~ xml=~","module":"xforms-function-library.xsl","line":"46","type":"1AS"}]}]},{"N":"choose","line":"56","C":[{"N":"fn","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"7"},{"N":"str","val":"^\\s*\/"},{"N":"str","val":""}]},{"N":"fn","line":"57","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"7"},{"N":"str","val":"^\\s\/[^\/]+"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"fn","line":"60","name":"matches","C":[{"N":"varRef","name":"Q{}input2","slot":"7"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":""}]},{"N":"fn","line":"61","name":"replace","C":[{"N":"varRef","name":"Q{}input2","slot":"7"},{"N":"str","val":"^\\s*xforms:instance\\s*\\(\\s*'[^']+'\\s*\\)"},{"N":"str","val":"."},{"N":"str","val":""}]},{"N":"true"},{"N":"varRef","line":"64","name":"Q{}input2","slot":"7"}]}]},{"N":"varRef","role":"cxt","name":"Q{}instanceXML","slot":"6"},{"N":"varRef","role":"nsCxt","name":"Q{}instanceXML","slot":"6"},{"N":"str","role":"sa","val":"no"},{"N":"map","role":"options","size":"0"},{"N":"map","role":"wp","size":"0"}]}]}]}]}]},{"N":"elem","line":"1477","name":"div","nsuri":"","namespaces":"array ev fn in js map rdf xd xhtml","C":[{"N":"sequence","C":[{"N":"att","name":"class","flags":"l","C":[{"N":"str","val":"xforms-select"}]},{"N":"applyT","line":"1478","bSlot":"2","C":[{"N":"axis","role":"select","name":"child","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}label"}]},{"N":"let","line":"1479","var":"Q{}hints","as":"*NT","slot":"8","eval":"4","C":[{"N":"slash","simple":"2","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}hint"},{"N":"axis","name":"child","nodeTest":"NT"}]},{"N":"elem","line":"1481","name":"select","nsuri":"","flags":"l","namespaces":"array ev fn in js map rdf xd xhtml","C":[{"N":"sequence","line":"1482","C":[{"N":"let","var":"Q{}element","as":"1NE","slot":"9","eval":"16","C":[{"N":"dot","type":"1NE"},{"N":"let","line":"2219","var":"Q{}class","as":"?AS","slot":"10","eval":"7","C":[{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}element","slot":"9"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}class"}]}]},{"N":"cvUntyped","line":"2220","to":"AS","diag":"3|0|XTTE0570|class","C":[{"N":"cast","flags":"a","as":"1AZ","C":[{"N":"fn","name":"string","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}element","slot":"9"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}class"}]}]}]}]}]}]}]},{"N":"let","line":"2225","var":"Q{}class-mod","as":"?AS","slot":"11","eval":"7","C":[{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}element","slot":"9"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}incremental"}]}]},{"N":"cvUntyped","line":"2226","to":"AS","diag":"3|0|XTTE0570|class-mod","C":[{"N":"cast","flags":"a","as":"1AZ","C":[{"N":"fn","name":"string-join","C":[{"N":"sequence","C":[{"N":"varRef","name":"Q{}class","slot":"10"},{"N":"str","val":"incremental"}]},{"N":"str","val":" "}]}]}]},{"N":"true"},{"N":"varRef","line":"2229","name":"Q{}class","slot":"10"}]},{"N":"choose","line":"2233","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}class-mod","slot":"11"}]},{"N":"treat","line":"2234","as":"NA nQ{}class","diag":"5|0|XTTE0780|xforms:getClass#1","C":[{"N":"att","name":"class","flags":"l","C":[{"N":"varRef","name":"Q{}class-mod","slot":"11"}]}]}]}]}]}]},{"N":"att","line":"1484","name":"instance-context","flags":"l","C":[{"N":"varRef","name":"Q{}instance-context","slot":"2"}]},{"N":"att","line":"1485","name":"data-ref","flags":"l","C":[{"N":"varRef","name":"Q{}nodeset","slot":"1"}]},{"N":"choose","line":"1487","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}binding","slot":"3"}]},{"N":"fn","name":"exists","C":[{"N":"slash","simple":"2","C":[{"N":"varRef","name":"Q{}binding","slot":"3"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}constraint"}]}]}]},{"N":"att","line":"1488","name":"data-constraint","flags":"l","C":[{"N":"fn","name":"string-join","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"slash","simple":"2","C":[{"N":"varRef","name":"Q{}binding","slot":"3"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}constraint"}]}]}]},{"N":"str","val":" "}]}]}]},{"N":"choose","line":"1490","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}binding","slot":"3"}]},{"N":"fn","name":"exists","C":[{"N":"slash","simple":"2","C":[{"N":"varRef","name":"Q{}binding","slot":"3"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}relevant"}]}]}]},{"N":"att","line":"1491","name":"data-relevant","flags":"l","C":[{"N":"fn","name":"string-join","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"slash","simple":"2","C":[{"N":"varRef","name":"Q{}binding","slot":"3"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}relevant"}]}]}]},{"N":"str","val":" "}]}]}]},{"N":"choose","line":"1493","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}binding","slot":"3"}]},{"N":"fn","name":"exists","C":[{"N":"slash","simple":"2","C":[{"N":"varRef","name":"Q{}binding","slot":"3"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}required"}]}]}]},{"N":"att","line":"1494","name":"data-required","flags":"l","C":[{"N":"fn","name":"string-join","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"slash","simple":"2","C":[{"N":"varRef","name":"Q{}binding","slot":"3"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}required"}]}]}]},{"N":"str","val":" "}]}]}]},{"N":"choose","line":"1497","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}actions","slot":"4"}]},{"N":"att","line":"1498","name":"data-action","flags":"l","C":[{"N":"varRef","name":"Q{}id","slot":"0"}]}]},{"N":"choose","line":"1501","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}hints","slot":"8"}]},{"N":"att","line":"1502","name":"title","flags":"l","C":[{"N":"fn","name":"string-join","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"mergeAdj","C":[{"N":"varRef","name":"Q{}hints","slot":"8"}]}]}]},{"N":"str","val":" "}]}]}]},{"N":"choose","line":"1506","C":[{"N":"compareToString","op":"eq","val":"select","C":[{"N":"fn","name":"local-name","C":[{"N":"dot","type":"1NE"}]}]},{"N":"sequence","line":"1507","C":[{"N":"att","name":"multiple","flags":"l","C":[{"N":"str","val":"true"}]},{"N":"att","line":"1508","name":"size","flags":"l","C":[{"N":"convert","line":"1509","from":"ADI","to":"AS","C":[{"N":"fn","name":"count","C":[{"N":"axis","name":"descendant","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}item"}]}]}]}]}]},{"N":"applyT","line":"1513","bSlot":"3","C":[{"N":"axis","role":"select","name":"child","nodeTest":"NE nQ{http:\/\/www.w3.org\/2002\/xforms}item"},{"N":"withParam","name":"Q{}selectedValue","as":"1AS","C":[{"N":"choose","line":"1468","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}instanceField","slot":"5"}]},{"N":"cvUntyped","line":"1469","to":"AS","diag":"3|0|XTTE0570|selectedValue","C":[{"N":"cast","flags":"a","as":"1AZ","C":[{"N":"fn","name":"string","C":[{"N":"convert","from":"A","to":"AS","C":[{"N":"data","C":[{"N":"varRef","name":"Q{}instanceField","slot":"5"}]}]}]}]}]},{"N":"true"},{"N":"str","val":""}]}]}]}]}]}]}]}]}]}]}]}]}]},{"N":"overridden"},{"N":"output","C":[{"N":"property","name":"indent","value":"no"},{"N":"property","name":"doctype-system","value":"http:\/\/www.w3.org\/TR\/xhtml1\/DTD\/xhtml1-transitional.dtd"},{"N":"property","name":"encoding","value":"utf-8"},{"N":"property","name":"doctype-public","value":"-\/\/W3C\/\/DTD XHTML 1.0 Transitional\/\/EN"},{"N":"property","name":"omit-xml-declaration","value":"no"},{"N":"property","name":"Q{http:\/\/saxon.sf.net\/}stylesheet-version","value":"30"},{"N":"property","name":"method","value":"html"}]},{"N":"decimalFormat"}],"":"e48a9d1"}