<?xml version="1.0" encoding="utf-8"?>
<package xmlns='http://ns.saxonica.com/xslt/export' xmlns:fn='http://www.w3.org/2005/xpath-functions' xmlns:xs='http://www.w3.org/2001/XMLSchema' xmlns:vv='http://saxon.sf.net/generated-variable' xmlns:java-type='http://saxon.sf.net/java-type' when='2020-03-14T13:02:55.16Z' id='0' version='30' packageVersion='1' saxonVersion='9.9.1.5' target='JS' targetVersion='1' relocatable='true' implicit='true'>
 <package id='1' name='http://saxon.sf.net/packages/logger.xsl' version='30' declaredModes='1' packageVersion='1' saxonVersion='9.9.1.5' target='JS' targetVersion='1' relocatable='false' implicit='false'>
  <schema ns='http://ns.saxonica.com/anonymous-type'/>
  <co id='0' vis='PUBLIC' binds='1'>
   <globalVariable name='Q{http://saxon.sf.net/ns/packages}LOGLEVEL' type='xs:integer' line='0' visibility='PUBLIC' jsAcceptor='return SaxonJS.U.Atomic.integer.cast(val);' jsCardCheck='function c(n) {return n==1;};'>
    <gVarRef ns='xsl=~ xs=~ xd=http://www.oxygenxml.com/ns/doc/xsl sfp=http://saxon.sf.net/ns/packages' line='73' name='Q{http://saxon.sf.net/ns/packages}LOGLEVEL_NOTSET' bSlot='0'/>
   </globalVariable>
  </co>
  <co id='2' vis='PUBLIC' binds='3 4'>
   <function name='Q{http://saxon.sf.net/ns/packages}logSevere' line='0' eval='7' flags='pU' as='empty-sequence()' slots='1'>
    <arg name='Q{}message' as='xs:string'/>
    <tailCallLoop role='body' ns='xsl=~ xs=~ xd=http://www.oxygenxml.com/ns/doc/xsl sfp=http://saxon.sf.net/ns/packages' line='229'>
     <ufCall name='Q{http://saxon.sf.net/ns/packages}log' tailCall='false' bSlot='0' eval='6 6'>
      <gVarRef name='Q{http://saxon.sf.net/ns/packages}LOGLEVEL_SEVERE' bSlot='1'/>
      <varRef name='Q{}message' slot='0'/>
     </ufCall>
    </tailCallLoop>
   </function>
  </co>
  <co id='5' vis='PRIVATE' binds='0 1 0 6'>
   <template name='Q{http://saxon.sf.net/ns/packages}logWarning' flags='os' line='0' slots='1'>
    <sequence role='body' ns='xsl=~ xs=~ xd=http://www.oxygenxml.com/ns/doc/xsl sfp=http://saxon.sf.net/ns/packages' line='120'>
     <param name='Q{}message' slot='0' flags='r' as='xs:string'>
      <treat role='conversion' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='8|0|XTTE0590|message'>
       <check card='1' diag='8|0|XTTE0590|message'>
        <cvUntyped to='xs:string' diag='8|0|XTTE0590|message'>
         <data>
          <supplied slot='0'/>
         </data>
        </cvUntyped>
       </check>
      </treat>
     </param>
     <choose line='121'>
      <vc op='eq' onEmpty='0' comp='CAVC'>
       <gVarRef name='Q{http://saxon.sf.net/ns/packages}LOGLEVEL' bSlot='0'/>
       <gVarRef name='Q{http://saxon.sf.net/ns/packages}LOGLEVEL_NOTSET' bSlot='1'/>
      </vc>
      <message line='122'>
       <valueOf role='select'>
        <str val='WARNING: sfp:LOGLEVEL not set.'/>
       </valueOf>
       <str role='terminate' val='no'/>
       <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
      </message>
     </choose>
     <choose line='124'>
      <vc op='ge' onEmpty='0' comp='CAVC'>
       <gVarRef name='Q{http://saxon.sf.net/ns/packages}LOGLEVEL' bSlot='2'/>
       <gVarRef name='Q{http://saxon.sf.net/ns/packages}LOGLEVEL_WARNING' bSlot='3'/>
      </vc>
      <message line='126'>
       <fn role='select' name='concat'>
        <str val='*** WARNING *** '/>
        <varRef name='Q{}message' slot='0'/>
       </fn>
       <str role='terminate' val='no'/>
       <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
      </message>
     </choose>
    </sequence>
   </template>
  </co>
  <co id='1' vis='PUBLIC' binds=''>
   <globalVariable name='Q{http://saxon.sf.net/ns/packages}LOGLEVEL_NOTSET' type='xs:integer' line='0' visibility='PUBLIC' jsAcceptor='return SaxonJS.U.Atomic.integer.cast(val);' jsCardCheck='function c(n) {return n==1;};'>
    <int val='100'/>
   </globalVariable>
  </co>
  <co id='4' vis='PUBLIC' binds=''>
   <globalVariable name='Q{http://saxon.sf.net/ns/packages}LOGLEVEL_SEVERE' type='xs:integer' line='0' visibility='PUBLIC' jsAcceptor='return SaxonJS.U.Atomic.integer.cast(val);' jsCardCheck='function c(n) {return n==1;};'>
    <int val='20'/>
   </globalVariable>
  </co>
  <co id='7' vis='PUBLIC' binds=''>
   <globalVariable name='Q{http://saxon.sf.net/ns/packages}LOGLEVEL_INFO' type='xs:integer' line='0' visibility='PUBLIC' jsAcceptor='return SaxonJS.U.Atomic.integer.cast(val);' jsCardCheck='function c(n) {return n==1;};'>
    <int val='40'/>
   </globalVariable>
  </co>
  <co id='8' vis='PRIVATE' binds='0 1 0 7'>
   <template name='Q{http://saxon.sf.net/ns/packages}logInfo' flags='os' line='0' slots='1'>
    <sequence role='body' ns='xsl=~ xs=~ xd=http://www.oxygenxml.com/ns/doc/xsl sfp=http://saxon.sf.net/ns/packages' line='101'>
     <param name='Q{}message' slot='0' flags='r' as='xs:string'>
      <treat role='conversion' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='8|0|XTTE0590|message'>
       <check card='1' diag='8|0|XTTE0590|message'>
        <cvUntyped to='xs:string' diag='8|0|XTTE0590|message'>
         <data>
          <supplied slot='0'/>
         </data>
        </cvUntyped>
       </check>
      </treat>
     </param>
     <choose line='102'>
      <vc op='eq' onEmpty='0' comp='CAVC'>
       <gVarRef name='Q{http://saxon.sf.net/ns/packages}LOGLEVEL' bSlot='0'/>
       <gVarRef name='Q{http://saxon.sf.net/ns/packages}LOGLEVEL_NOTSET' bSlot='1'/>
      </vc>
      <message line='103'>
       <valueOf role='select'>
        <str val='WARNING: sfp:LOGLEVEL not set.'/>
       </valueOf>
       <str role='terminate' val='no'/>
       <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
      </message>
     </choose>
     <choose line='105'>
      <vc op='ge' onEmpty='0' comp='CAVC'>
       <gVarRef name='Q{http://saxon.sf.net/ns/packages}LOGLEVEL' bSlot='2'/>
       <gVarRef name='Q{http://saxon.sf.net/ns/packages}LOGLEVEL_INFO' bSlot='3'/>
      </vc>
      <message line='107'>
       <fn role='select' name='concat'>
        <str val='*** INFO *** '/>
        <varRef name='Q{}message' slot='0'/>
       </fn>
       <str role='terminate' val='no'/>
       <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
      </message>
     </choose>
    </sequence>
   </template>
  </co>
  <co id='9' vis='PUBLIC' binds=''>
   <globalVariable name='Q{http://saxon.sf.net/ns/packages}LOGLEVEL_ALL' type='xs:integer' line='0' visibility='PUBLIC' jsAcceptor='return SaxonJS.U.Atomic.integer.cast(val);' jsCardCheck='function c(n) {return n==1;};'>
    <int val='50'/>
   </globalVariable>
  </co>
  <co id='10' vis='PUBLIC' binds=''>
   <globalVariable name='Q{http://saxon.sf.net/ns/packages}LOGLEVEL_FATAL' type='xs:integer' line='0' visibility='PUBLIC' jsAcceptor='return SaxonJS.U.Atomic.integer.cast(val);' jsCardCheck='function c(n) {return n==1;};'>
    <int val='10'/>
   </globalVariable>
  </co>
  <co id='11' vis='PUBLIC' binds=''>
   <globalVariable name='Q{http://saxon.sf.net/ns/packages}LOGLEVEL_OFF' type='xs:integer' line='0' visibility='PUBLIC' jsAcceptor='return SaxonJS.U.Atomic.integer.cast(val);' jsCardCheck='function c(n) {return n==1;};'>
    <int val='0'/>
   </globalVariable>
  </co>
  <co id='12' vis='PRIVATE' binds='0 1 0 10'>
   <template name='Q{http://saxon.sf.net/ns/packages}logFatal' flags='os' line='0' slots='1'>
    <sequence role='body' ns='xsl=~ xs=~ xd=http://www.oxygenxml.com/ns/doc/xsl sfp=http://saxon.sf.net/ns/packages' line='159'>
     <param name='Q{}message' slot='0' flags='r' as='xs:string'>
      <treat role='conversion' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='8|0|XTTE0590|message'>
       <check card='1' diag='8|0|XTTE0590|message'>
        <cvUntyped to='xs:string' diag='8|0|XTTE0590|message'>
         <data>
          <supplied slot='0'/>
         </data>
        </cvUntyped>
       </check>
      </treat>
     </param>
     <choose line='160'>
      <vc op='eq' onEmpty='0' comp='CAVC'>
       <gVarRef name='Q{http://saxon.sf.net/ns/packages}LOGLEVEL' bSlot='0'/>
       <gVarRef name='Q{http://saxon.sf.net/ns/packages}LOGLEVEL_NOTSET' bSlot='1'/>
      </vc>
      <message line='161'>
       <valueOf role='select'>
        <str val='WARNING: sfp:LOGLEVEL not set.'/>
       </valueOf>
       <str role='terminate' val='no'/>
       <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
      </message>
     </choose>
     <choose line='163'>
      <vc op='ge' onEmpty='0' comp='CAVC'>
       <gVarRef name='Q{http://saxon.sf.net/ns/packages}LOGLEVEL' bSlot='2'/>
       <gVarRef name='Q{http://saxon.sf.net/ns/packages}LOGLEVEL_FATAL' bSlot='3'/>
      </vc>
      <message line='165'>
       <fn role='select' name='concat'>
        <str val='*** FATAL *** '/>
        <varRef name='Q{}message' slot='0'/>
       </fn>
       <str role='terminate' val='yes'/>
       <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
      </message>
     </choose>
    </sequence>
   </template>
  </co>
  <co id='13' vis='PUBLIC' binds='3 9'>
   <function name='Q{http://saxon.sf.net/ns/packages}logAll' line='0' eval='7' flags='pU' as='empty-sequence()' slots='1'>
    <arg name='Q{}message' as='xs:string'/>
    <tailCallLoop role='body' ns='xsl=~ xs=~ xd=http://www.oxygenxml.com/ns/doc/xsl sfp=http://saxon.sf.net/ns/packages' line='262'>
     <ufCall name='Q{http://saxon.sf.net/ns/packages}log' tailCall='false' bSlot='0' eval='6 6'>
      <gVarRef name='Q{http://saxon.sf.net/ns/packages}LOGLEVEL_ALL' bSlot='1'/>
      <varRef name='Q{}message' slot='0'/>
     </ufCall>
    </tailCallLoop>
   </function>
  </co>
  <co id='3' vis='PRIVATE' binds='10 12 4 14 6 5 7 8 15'>
   <function name='Q{http://saxon.sf.net/ns/packages}log' line='0' eval='7' flags='pU' as='empty-sequence()' slots='2'>
    <arg name='Q{}loglevel' as='xs:integer'/>
    <arg name='Q{}message' as='xs:string'/>
    <choose role='body' ns='xsl=~ xs=~ xd=http://www.oxygenxml.com/ns/doc/xsl sfp=http://saxon.sf.net/ns/packages' line='182'>
     <vc op='le' onEmpty='0' comp='CAVC'>
      <varRef name='Q{}loglevel' slot='0'/>
      <gVarRef name='Q{http://saxon.sf.net/ns/packages}LOGLEVEL_FATAL' bSlot='0'/>
     </vc>
     <check line='183' card='°' diag='5|0|XTTE0780|sfp:log#2'>
      <callT name='Q{http://saxon.sf.net/ns/packages}logFatal' bSlot='1'>
       <withParam name='Q{}message' flags='c' as='xs:string'>
        <varRef line='184' name='Q{}message' slot='1'/>
       </withParam>
      </callT>
     </check>
     <vc line='187' op='le' onEmpty='0' comp='CAVC'>
      <varRef name='Q{}loglevel' slot='0'/>
      <gVarRef name='Q{http://saxon.sf.net/ns/packages}LOGLEVEL_SEVERE' bSlot='2'/>
     </vc>
     <check line='188' card='°' diag='5|0|XTTE0780|sfp:log#2'>
      <callT name='Q{http://saxon.sf.net/ns/packages}logSevere' bSlot='3'>
       <withParam name='Q{}message' flags='c' as='xs:string'>
        <varRef line='189' name='Q{}message' slot='1'/>
       </withParam>
      </callT>
     </check>
     <vc line='192' op='le' onEmpty='0' comp='CAVC'>
      <varRef name='Q{}loglevel' slot='0'/>
      <gVarRef name='Q{http://saxon.sf.net/ns/packages}LOGLEVEL_WARNING' bSlot='4'/>
     </vc>
     <check line='193' card='°' diag='5|0|XTTE0780|sfp:log#2'>
      <callT name='Q{http://saxon.sf.net/ns/packages}logWarning' bSlot='5'>
       <withParam name='Q{}message' flags='c' as='xs:string'>
        <varRef line='194' name='Q{}message' slot='1'/>
       </withParam>
      </callT>
     </check>
     <vc line='197' op='le' onEmpty='0' comp='CAVC'>
      <varRef name='Q{}loglevel' slot='0'/>
      <gVarRef name='Q{http://saxon.sf.net/ns/packages}LOGLEVEL_INFO' bSlot='6'/>
     </vc>
     <check line='198' card='°' diag='5|0|XTTE0780|sfp:log#2'>
      <callT name='Q{http://saxon.sf.net/ns/packages}logInfo' bSlot='7'>
       <withParam name='Q{}message' flags='c' as='xs:string'>
        <varRef line='199' name='Q{}message' slot='1'/>
       </withParam>
      </callT>
     </check>
     <true/>
     <check line='203' card='°' diag='5|0|XTTE0780|sfp:log#2'>
      <callT name='Q{http://saxon.sf.net/ns/packages}logAll' bSlot='8'>
       <withParam name='Q{}message' flags='c' as='xs:string'>
        <varRef line='204' name='Q{}message' slot='1'/>
       </withParam>
      </callT>
     </check>
    </choose>
   </function>
  </co>
  <co id='16' vis='PUBLIC' binds='3 6'>
   <function name='Q{http://saxon.sf.net/ns/packages}logWarning' line='0' eval='7' flags='pU' as='empty-sequence()' slots='1'>
    <arg name='Q{}message' as='xs:string'/>
    <tailCallLoop role='body' ns='xsl=~ xs=~ xd=http://www.oxygenxml.com/ns/doc/xsl sfp=http://saxon.sf.net/ns/packages' line='240'>
     <ufCall name='Q{http://saxon.sf.net/ns/packages}log' tailCall='false' bSlot='0' eval='6 6'>
      <gVarRef name='Q{http://saxon.sf.net/ns/packages}LOGLEVEL_WARNING' bSlot='1'/>
      <varRef name='Q{}message' slot='0'/>
     </ufCall>
    </tailCallLoop>
   </function>
  </co>
  <co id='14' vis='PRIVATE' binds='0 1 0 4'>
   <template name='Q{http://saxon.sf.net/ns/packages}logSevere' flags='os' line='0' slots='1'>
    <sequence role='body' ns='xsl=~ xs=~ xd=http://www.oxygenxml.com/ns/doc/xsl sfp=http://saxon.sf.net/ns/packages' line='139'>
     <param name='Q{}message' slot='0' flags='r' as='xs:string'>
      <treat role='conversion' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='8|0|XTTE0590|message'>
       <check card='1' diag='8|0|XTTE0590|message'>
        <cvUntyped to='xs:string' diag='8|0|XTTE0590|message'>
         <data>
          <supplied slot='0'/>
         </data>
        </cvUntyped>
       </check>
      </treat>
     </param>
     <choose line='140'>
      <vc op='eq' onEmpty='0' comp='CAVC'>
       <gVarRef name='Q{http://saxon.sf.net/ns/packages}LOGLEVEL' bSlot='0'/>
       <gVarRef name='Q{http://saxon.sf.net/ns/packages}LOGLEVEL_NOTSET' bSlot='1'/>
      </vc>
      <message line='141'>
       <valueOf role='select'>
        <str val='WARNING: sfp:LOGLEVEL not set.'/>
       </valueOf>
       <str role='terminate' val='no'/>
       <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
      </message>
     </choose>
     <choose line='143'>
      <vc op='ge' onEmpty='0' comp='CAVC'>
       <gVarRef name='Q{http://saxon.sf.net/ns/packages}LOGLEVEL' bSlot='2'/>
       <gVarRef name='Q{http://saxon.sf.net/ns/packages}LOGLEVEL_SEVERE' bSlot='3'/>
      </vc>
      <message line='145'>
       <fn role='select' name='concat'>
        <str val='*** SEVERE *** '/>
        <varRef name='Q{}message' slot='0'/>
       </fn>
       <str role='terminate' val='no'/>
       <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
      </message>
     </choose>
    </sequence>
   </template>
  </co>
  <co id='6' vis='PUBLIC' binds=''>
   <globalVariable name='Q{http://saxon.sf.net/ns/packages}LOGLEVEL_WARNING' type='xs:integer' line='0' visibility='PUBLIC' jsAcceptor='return SaxonJS.U.Atomic.integer.cast(val);' jsCardCheck='function c(n) {return n==1;};'>
    <int val='30'/>
   </globalVariable>
  </co>
  <co id='15' vis='PRIVATE' binds='0 1 0 9'>
   <template name='Q{http://saxon.sf.net/ns/packages}logAll' flags='os' line='0' slots='1'>
    <sequence role='body' ns='xsl=~ xs=~ xd=http://www.oxygenxml.com/ns/doc/xsl sfp=http://saxon.sf.net/ns/packages' line='83'>
     <param name='Q{}message' slot='0' flags='r' as='xs:string'>
      <treat role='conversion' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='8|0|XTTE0590|message'>
       <check card='1' diag='8|0|XTTE0590|message'>
        <cvUntyped to='xs:string' diag='8|0|XTTE0590|message'>
         <data>
          <supplied slot='0'/>
         </data>
        </cvUntyped>
       </check>
      </treat>
     </param>
     <choose line='84'>
      <vc op='eq' onEmpty='0' comp='CAVC'>
       <gVarRef name='Q{http://saxon.sf.net/ns/packages}LOGLEVEL' bSlot='0'/>
       <gVarRef name='Q{http://saxon.sf.net/ns/packages}LOGLEVEL_NOTSET' bSlot='1'/>
      </vc>
      <message line='85'>
       <valueOf role='select'>
        <str val='WARNING: sfp:LOGLEVEL not set.'/>
       </valueOf>
       <str role='terminate' val='no'/>
       <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
      </message>
     </choose>
     <choose line='87'>
      <vc op='ge' onEmpty='0' comp='CAVC'>
       <gVarRef name='Q{http://saxon.sf.net/ns/packages}LOGLEVEL' bSlot='2'/>
       <gVarRef name='Q{http://saxon.sf.net/ns/packages}LOGLEVEL_ALL' bSlot='3'/>
      </vc>
      <message line='89'>
       <fn role='select' name='concat'>
        <str val='*** INFO *** '/>
        <varRef name='Q{}message' slot='0'/>
       </fn>
       <str role='terminate' val='no'/>
       <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
      </message>
     </choose>
    </sequence>
   </template>
  </co>
  <co id='17' vis='PUBLIC' binds='3 10'>
   <function name='Q{http://saxon.sf.net/ns/packages}logFatal' line='0' eval='7' flags='pU' as='empty-sequence()' slots='1'>
    <arg name='Q{}message' as='xs:string'/>
    <tailCallLoop role='body' ns='xsl=~ xs=~ xd=http://www.oxygenxml.com/ns/doc/xsl sfp=http://saxon.sf.net/ns/packages' line='218'>
     <ufCall name='Q{http://saxon.sf.net/ns/packages}log' tailCall='false' bSlot='0' eval='6 6'>
      <gVarRef name='Q{http://saxon.sf.net/ns/packages}LOGLEVEL_FATAL' bSlot='1'/>
      <varRef name='Q{}message' slot='0'/>
     </ufCall>
    </tailCallLoop>
   </function>
  </co>
  <co id='18' vis='PUBLIC' binds='3 7'>
   <function name='Q{http://saxon.sf.net/ns/packages}logInfo' line='0' eval='7' flags='pU' as='empty-sequence()' slots='1'>
    <arg name='Q{}message' as='xs:string'/>
    <tailCallLoop role='body' ns='xsl=~ xs=~ xd=http://www.oxygenxml.com/ns/doc/xsl sfp=http://saxon.sf.net/ns/packages' line='251'>
     <ufCall name='Q{http://saxon.sf.net/ns/packages}log' tailCall='false' bSlot='0' eval='6 6'>
      <gVarRef name='Q{http://saxon.sf.net/ns/packages}LOGLEVEL_INFO' bSlot='1'/>
      <varRef name='Q{}message' slot='0'/>
     </ufCall>
    </tailCallLoop>
   </function>
  </co>
  <co id='19' binds=''>
   <mode onNo='TC' flags='dWe' patternSlots='0'/>
  </co>
  <overridden/>
  <output>
   <property name='{http://saxon.sf.net/}stylesheet-version' value='30'/>
  </output>
  <decimalFormat/>
 </package>
 <co id='20' binds='21 22 21 22 23 23 23 24 25 26 23 27'>
  <template name='Q{}action-insert' flags='os' line='4182' module='saxon-xforms.xsl' slots='21'>
   <sequence role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='4183'>
    <param name='Q{}action-map' slot='0' flags='tr' as='map(*)'>
     <treat role='conversion' as='map(*)' jsTest='return SaxonJS.U.isMap(item)' diag='8|0|XTTE0590|action-map'>
      <check card='1' diag='8|0|XTTE0590|action-map'>
       <supplied slot='0'/>
      </check>
     </treat>
    </param>
    <param line='4184' name='Q{}instanceXML' slot='1' flags='t' as='element()?'>
     <empty role='select'/>
     <treat role='conversion' as='element()' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1;' diag='8|0|XTTE0590|instanceXML'>
      <check card='?' diag='8|0|XTTE0590|instanceXML'>
       <supplied slot='1'/>
      </check>
     </treat>
    </param>
    <param line='4185' name='Q{}nodeset' slot='2' flags='t' as='xs:string'>
     <str role='select' val=''/>
     <treat role='conversion' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='8|0|XTTE0590|nodeset'>
      <check card='1' diag='8|0|XTTE0590|nodeset'>
       <cvUntyped to='xs:string' diag='8|0|XTTE0590|nodeset'>
        <data>
         <supplied slot='2'/>
        </data>
       </cvUntyped>
      </check>
     </treat>
    </param>
    <let line='4187' var='Q{}ref' as='xs:string' slot='3' eval='16'>
     <let var='Q{}relative' as='xs:string' slot='4' eval='16'>
      <treat as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='0|1||xforms:resolveXPathStrings'>
       <check card='1' diag='0|1||xforms:resolveXPathStrings'>
        <cvUntyped to='xs:string'>
         <data>
          <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
           <varRef name='Q{}action-map' slot='0'/>
           <str val='@ref'/>
          </ifCall>
         </data>
        </cvUntyped>
       </check>
      </treat>
      <choose line='811'>
       <fn name='starts-with'>
        <varRef name='Q{}relative' slot='4'/>
        <str val='/'/>
       </fn>
       <varRef line='812' name='Q{}relative' slot='4'/>
       <fn line='814' name='starts-with'>
        <varRef name='Q{}relative' slot='4'/>
        <str val='instance('/>
       </fn>
       <varRef line='815' name='Q{}relative' slot='4'/>
       <fn line='4187' name='not'>
        <varRef name='Q{}nodeset' slot='2'/>
       </fn>
       <varRef line='818' name='Q{}relative' slot='4'/>
       <or line='820' op='or'>
        <fn name='not'>
         <varRef name='Q{}relative' slot='4'/>
        </fn>
        <vc op='eq' onEmpty='0' comp='CCC'>
         <varRef name='Q{}relative' slot='4'/>
         <str val='.'/>
        </vc>
       </or>
       <varRef line='4187' name='Q{}nodeset' slot='2'/>
       <true/>
       <let line='825' var='Q{}parentCallCount' as='xs:integer' slot='5' eval='16'>
        <choose>
         <fn name='contains'>
          <varRef name='Q{}relative' slot='4'/>
          <str val='/'/>
         </fn>
         <fn name='count'>
          <filter flags='b'>
           <fn name='tokenize'>
            <varRef name='Q{}relative' slot='4'/>
            <str val='/'/>
            <str val=''/>
           </fn>
           <vc op='eq' onEmpty='0' comp='CCC'>
            <dot type='xs:string'/>
            <str val='..'/>
           </vc>
          </filter>
         </fn>
         <fn name='contains'>
          <varRef name='Q{}relative' slot='4'/>
          <str val='..'/>
         </fn>
         <int val='1'/>
         <true/>
         <int val='0'/>
        </choose>
        <let line='828' var='Q{}slashes' as='xs:integer*' slot='6' eval='4'>
         <choose>
          <fn line='4187' name='contains'>
           <varRef name='Q{}nodeset' slot='2'/>
           <str val='/'/>
          </fn>
          <fn name='index-of'>
           <fn name='string-to-codepoints'>
            <varRef line='4187' name='Q{}nodeset' slot='2'/>
           </fn>
           <int val='47'/>
          </fn>
          <true/>
          <int val='0'/>
         </choose>
         <choose line='860'>
          <compareToInt op='gt' val='0'>
           <varRef name='Q{}parentCallCount' slot='5'/>
          </compareToInt>
          <fn line='864' name='concat'>
           <fn name='substring'>
            <varRef line='4187' name='Q{}nodeset' slot='2'/>
            <int val='1'/>
            <choose line='839'>
             <and op='and'>
              <vc op='ge' onEmpty='0' comp='CAVC'>
               <fn name='count'>
                <varRef name='Q{}slashes' slot='6'/>
               </fn>
               <varRef name='Q{}parentCallCount' slot='5'/>
              </vc>
              <compareToInt op='gt' val='0'>
               <varRef name='Q{}parentCallCount' slot='5'/>
              </compareToInt>
             </and>
             <let line='840' var='Q{http://saxon.sf.net/generated-variable}v0' as='xs:integer' slot='7' eval='13'>
              <arith op='-' calc='i-i'>
               <varRef name='Q{}parentCallCount' slot='5'/>
               <int val='1'/>
              </arith>
              <check card='1' diag='3|0|XTTE0570|parentSlash'>
               <filter flags='p'>
                <varRef name='Q{}slashes' slot='6'/>
                <arith op='-' calc='i-i'>
                 <fn name='last'/>
                 <varRef name='Q{http://saxon.sf.net/generated-variable}v0' slot='7'/>
                </arith>
               </filter>
              </check>
             </let>
             <true/>
             <check line='843' card='1' diag='3|0|XTTE0570|parentSlash'>
              <lastOf>
               <varRef name='Q{}slashes' slot='6'/>
              </lastOf>
             </check>
            </choose>
           </fn>
           <fn name='replace'>
            <varRef name='Q{}relative' slot='4'/>
            <str val='\.\./'/>
            <str val=''/>
            <str val=''/>
           </fn>
          </fn>
          <true/>
          <fn line='4187' name='concat'>
           <varRef name='Q{}nodeset' slot='2'/>
           <str val='/'/>
           <varRef line='867' name='Q{}relative' slot='4'/>
          </fn>
         </choose>
        </let>
       </let>
      </choose>
     </let>
     <let line='4188' var='Q{}at' as='xs:string?' slot='8' eval='7'>
      <treat as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|at'>
       <check card='?' diag='3|0|XTTE0570|at'>
        <cvUntyped to='xs:string' diag='3|0|XTTE0570|at'>
         <data>
          <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
           <varRef name='Q{}action-map' slot='0'/>
           <str val='@at'/>
          </ifCall>
         </data>
        </cvUntyped>
       </check>
      </treat>
      <let line='4189' var='Q{}position' as='xs:string?' slot='9' eval='7'>
       <treat as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|position'>
        <check card='?' diag='3|0|XTTE0570|position'>
         <cvUntyped to='xs:string' diag='3|0|XTTE0570|position'>
          <data>
           <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
            <varRef name='Q{}action-map' slot='0'/>
            <str val='@position'/>
           </ifCall>
          </data>
         </cvUntyped>
        </check>
       </treat>
       <let line='4190' var='Q{}origin-ref' as='xs:string?' slot='10' eval='7'>
        <treat as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|origin-ref'>
         <check card='?' diag='3|0|XTTE0570|origin-ref'>
          <cvUntyped to='xs:string' diag='3|0|XTTE0570|origin-ref'>
           <data>
            <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
             <varRef name='Q{}action-map' slot='0'/>
             <str val='@origin'/>
            </ifCall>
           </data>
          </cvUntyped>
         </check>
        </treat>
        <let line='4204' var='Q{}instance-id' as='xs:string' slot='11' eval='16'>
         <ufCall name='Q{http://www.w3.org/2002/xforms}getInstanceId' tailCall='false' bSlot='0' eval='6'>
          <varRef name='Q{}ref' slot='3'/>
         </ufCall>
         <let line='4206' var='Q{}instanceXML2' as='element()' slot='12' eval='16'>
          <choose line='4208'>
           <and op='and'>
            <vc op='eq' onEmpty='0' comp='CCC'>
             <varRef name='Q{}instance-id' slot='11'/>
             <str val='saxon-forms-default'/>
            </vc>
            <fn name='exists'>
             <varRef name='Q{}instanceXML' slot='1'/>
            </fn>
           </and>
           <check line='4209' card='1' diag='3|0|XTTE0570|instanceXML2'>
            <varRef name='Q{}instanceXML' slot='1'/>
           </check>
           <true/>
           <check line='4212' card='1' diag='3|0|XTTE0570|instanceXML2'>
            <ufCall name='Q{http://www.w3.org/2002/xforms}instance' tailCall='false' bSlot='1' eval='6'>
             <varRef name='Q{}instance-id' slot='11'/>
            </ufCall>
           </check>
          </choose>
          <let line='4225' var='Q{}instance-id-origin' as='xs:string' slot='13' eval='16'>
           <ufCall name='Q{http://www.w3.org/2002/xforms}getInstanceId' tailCall='false' bSlot='2' eval='16'>
            <check card='1' diag='0|0||xforms:getInstanceId'>
             <varRef name='Q{}origin-ref' slot='10'/>
            </check>
           </ufCall>
           <let line='4227' var='Q{}instanceXML-origin' as='element()' slot='14' eval='16'>
            <choose line='4229'>
             <and op='and'>
              <vc op='eq' onEmpty='0' comp='CCC'>
               <varRef name='Q{}instance-id-origin' slot='13'/>
               <str val='saxon-forms-default'/>
              </vc>
              <fn name='exists'>
               <varRef name='Q{}instanceXML' slot='1'/>
              </fn>
             </and>
             <check line='4230' card='1' diag='3|0|XTTE0570|instanceXML-origin'>
              <varRef name='Q{}instanceXML' slot='1'/>
             </check>
             <true/>
             <check line='4233' card='1' diag='3|0|XTTE0570|instanceXML-origin'>
              <ufCall name='Q{http://www.w3.org/2002/xforms}instance' tailCall='false' bSlot='3' eval='6'>
               <varRef name='Q{}instance-id-origin' slot='13'/>
              </ufCall>
             </check>
            </choose>
            <let line='4238' var='Q{}origin-node' as='node()?' slot='15' eval='7'>
             <treat line='4239' as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='3|0|XTTE0570|origin-node'>
              <check card='?' diag='3|0|XTTE0570|origin-node'>
               <evaluate dxns=''>
                <ufCall role='xpath' name='Q{http://www.w3.org/2002/xforms}impose' tailCall='false' bSlot='4' eval='16'>
                 <check card='1' diag='0|0||xforms:impose'>
                  <varRef name='Q{}origin-ref' slot='10'/>
                 </check>
                </ufCall>
                <varRef role='cxt' name='Q{}instanceXML-origin' slot='14'/>
                <varRef role='nsCxt' name='Q{}instanceXML-origin' slot='14'/>
                <str role='sa' val='no'/>
                <map role='options' size='0'/>
                <map role='wp' size='0'/>
               </evaluate>
              </check>
             </treat>
             <let line='4242' var='Q{}insert-node-location' as='node()?' slot='16' eval='7'>
              <treat line='4243' as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='3|0|XTTE0570|insert-node-location'>
               <check card='?' diag='3|0|XTTE0570|insert-node-location'>
                <evaluate dxns=''>
                 <ufCall role='xpath' name='Q{http://www.w3.org/2002/xforms}impose' tailCall='false' bSlot='5' eval='16'>
                  <check card='1' diag='0|0||xforms:impose'>
                   <choose line='4202'>
                    <vc op='ne' onEmpty='0' comp='GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint'>
                     <varRef name='Q{}ref' slot='3'/>
                     <str val=''/>
                    </vc>
                    <choose>
                     <fn name='exists'>
                      <varRef name='Q{}at' slot='8'/>
                     </fn>
                     <fn name='concat'>
                      <varRef name='Q{}ref' slot='3'/>
                      <str val='['/>
                      <varRef name='Q{}at' slot='8'/>
                      <str val=']'/>
                     </fn>
                     <true/>
                     <varRef name='Q{}ref' slot='3'/>
                    </choose>
                   </choose>
                  </check>
                 </ufCall>
                 <varRef role='cxt' name='Q{}instanceXML2' slot='12'/>
                 <varRef role='nsCxt' name='Q{}instanceXML2' slot='12'/>
                 <str role='sa' val='no'/>
                 <map role='options' size='0'/>
                 <map role='wp' size='0'/>
                </evaluate>
               </check>
              </treat>
              <let line='4246' var='Q{}context-node' as='node()' slot='17' eval='16'>
               <treat line='4247' as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='3|0|XTTE0570|context-node'>
                <check card='1' diag='3|0|XTTE0570|context-node'>
                 <evaluate dxns=''>
                  <ufCall role='xpath' name='Q{http://www.w3.org/2002/xforms}impose' tailCall='false' bSlot='6' eval='16'>
                   <treat line='4191' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|context'>
                    <check line='4247' card='1' diag='0|0||xforms:impose'>
                     <check line='4191' card='?' diag='3|0|XTTE0570|context'>
                      <cvUntyped to='xs:string' diag='3|0|XTTE0570|context'>
                       <data>
                        <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
                         <varRef name='Q{}action-map' slot='0'/>
                         <str val='@context'/>
                        </ifCall>
                       </data>
                      </cvUntyped>
                     </check>
                    </check>
                   </treat>
                  </ufCall>
                  <varRef role='cxt' name='Q{}instanceXML2' slot='12'/>
                  <varRef role='nsCxt' name='Q{}instanceXML2' slot='12'/>
                  <str role='sa' val='no'/>
                  <map role='options' size='0'/>
                  <map role='wp' size='0'/>
                 </evaluate>
                </check>
               </treat>
               <let line='4264' var='Q{}instance-with-insert' as='element()' slot='18' eval='16'>
                <treat line='4265' as='element()' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1;' diag='3|0|XTTE0570|instance-with-insert'>
                 <check card='1' diag='3|0|XTTE0570|instance-with-insert'>
                  <applyT mode='Q{}insert-node' bSlot='7'>
                   <varRef role='select' name='Q{}instanceXML2' slot='12'/>
                   <withParam name='Q{}insert-node-location' flags='t' as='node()?'>
                    <choose line='4266'>
                     <fn name='exists'>
                      <varRef name='Q{}insert-node-location' slot='16'/>
                     </fn>
                     <varRef name='Q{}insert-node-location' slot='16'/>
                     <true/>
                     <varRef name='Q{}context-node' slot='17'/>
                    </choose>
                   </withParam>
                   <withParam name='Q{}node-to-insert' flags='t' as='node()?'>
                    <choose line='4253'>
                     <fn name='exists'>
                      <varRef name='Q{}origin-node' slot='15'/>
                     </fn>
                     <copyOf line='4254' flags='vc'>
                      <varRef name='Q{}origin-node' slot='15'/>
                     </copyOf>
                     <true/>
                     <copyOf line='4257' flags='vc'>
                      <varRef name='Q{}insert-node-location' slot='16'/>
                     </copyOf>
                    </choose>
                   </withParam>
                   <withParam name='Q{}position-relative' flags='t' as='xs:string?'>
                    <choose line='4268'>
                     <fn name='exists'>
                      <varRef name='Q{}insert-node-location' slot='16'/>
                     </fn>
                     <varRef name='Q{}position' slot='9'/>
                     <true/>
                     <str val='child'/>
                    </choose>
                   </withParam>
                  </applyT>
                 </check>
                </treat>
                <sequence line='4274'>
                 <ufCall name='Q{http://www.w3.org/2002/xforms}setInstance-JS' tailCall='false' bSlot='8' eval='6 6'>
                  <varRef name='Q{}ref' slot='3'/>
                  <varRef name='Q{}instance-with-insert' slot='18'/>
                 </ufCall>
                 <choose line='4278'>
                  <fn name='matches'>
                   <varRef name='Q{}at' slot='8'/>
                   <str val='index\s*\('/>
                   <str val=''/>
                  </fn>
                  <let line='4279' var='Q{}repeat-id' as='xs:string?' slot='19' eval='7'>
                   <ufCall name='Q{http://www.w3.org/2002/xforms}getRepeatID' tailCall='false' bSlot='9' eval='16'>
                    <check card='1' diag='0|0||xforms:getRepeatID'>
                     <varRef name='Q{}at' slot='8'/>
                    </check>
                   </ufCall>
                   <let line='4280' var='Q{}at-position' as='xs:integer' slot='20' eval='16'>
                    <treat line='4281' as='xs:integer' jsTest='return SaxonJS.U.Atomic.integer.matches(item);' diag='3|0|XTTE0570|at-position'>
                     <check card='1' diag='3|0|XTTE0570|at-position'>
                      <cvUntyped to='xs:integer' diag='3|0|XTTE0570|at-position'>
                       <data>
                        <evaluate dxns=''>
                         <ufCall role='xpath' name='Q{http://www.w3.org/2002/xforms}impose' tailCall='false' bSlot='10' eval='16'>
                          <check card='1' diag='0|0||xforms:impose'>
                           <varRef name='Q{}at' slot='8'/>
                          </check>
                         </ufCall>
                         <empty role='cxt'/>
                         <str role='sa' val='no'/>
                         <map role='options' size='0'/>
                         <map role='wp' size='0'/>
                        </evaluate>
                       </data>
                      </cvUntyped>
                     </check>
                    </treat>
                    <choose line='4286'>
                     <fn name='exists'>
                      <varRef name='Q{}repeat-id' slot='19'/>
                     </fn>
                     <choose line='4288'>
                      <vc op='eq' onEmpty='0' comp='CCC'>
                       <varRef name='Q{}position' slot='9'/>
                       <str val='before'/>
                      </vc>
                      <ifCall line='4289' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
                       <check card='1' diag='0|0||ixsl:call'>
                        <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
                       </check>
                       <str val='setRepeatIndex'/>
                       <arrayBlock>
                        <varRef name='Q{}repeat-id' slot='19'/>
                        <varRef name='Q{}at-position' slot='20'/>
                       </arrayBlock>
                      </ifCall>
                      <true/>
                      <ifCall line='4292' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
                       <check card='1' diag='0|0||ixsl:call'>
                        <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
                       </check>
                       <str val='setRepeatIndex'/>
                       <arrayBlock>
                        <varRef name='Q{}repeat-id' slot='19'/>
                        <arith op='+' calc='i+i'>
                         <varRef name='Q{}at-position' slot='20'/>
                         <int val='1'/>
                        </arith>
                       </arrayBlock>
                      </ifCall>
                     </choose>
                    </choose>
                   </let>
                  </let>
                 </choose>
                 <callT line='4302' name='Q{}xforms-recalculate' bSlot='11' flags='t'/>
                </sequence>
               </let>
              </let>
             </let>
            </let>
           </let>
          </let>
         </let>
        </let>
       </let>
      </let>
     </let>
    </let>
   </sequence>
  </template>
 </co>
 <co id='28' binds='21 22 23 23 29 25 27'>
  <template name='Q{}action-delete' flags='os' line='4314' module='saxon-xforms.xsl' slots='16'>
   <sequence role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='4315'>
    <param name='Q{}action-map' slot='0' flags='tr' as='map(*)'>
     <treat role='conversion' as='map(*)' jsTest='return SaxonJS.U.isMap(item)' diag='8|0|XTTE0590|action-map'>
      <check card='1' diag='8|0|XTTE0590|action-map'>
       <supplied slot='0'/>
      </check>
     </treat>
    </param>
    <param line='4316' name='Q{}instanceXML' slot='1' flags='ti' as='element()'>
     <treat role='conversion' as='element()' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1;' diag='8|0|XTTE0590|instanceXML'>
      <check card='1' diag='8|0|XTTE0590|instanceXML'>
       <supplied slot='1'/>
      </check>
     </treat>
    </param>
    <param line='4317' name='Q{}nodeset' slot='2' flags='t' as='xs:string'>
     <str role='select' val=''/>
     <treat role='conversion' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='8|0|XTTE0590|nodeset'>
      <check card='1' diag='8|0|XTTE0590|nodeset'>
       <cvUntyped to='xs:string' diag='8|0|XTTE0590|nodeset'>
        <data>
         <supplied slot='2'/>
        </data>
       </cvUntyped>
      </check>
     </treat>
    </param>
    <let line='4319' var='Q{}ref' as='xs:string' slot='3' eval='16'>
     <let var='Q{}relative' as='xs:string' slot='4' eval='16'>
      <treat as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='0|1||xforms:resolveXPathStrings'>
       <check card='1' diag='0|1||xforms:resolveXPathStrings'>
        <cvUntyped to='xs:string'>
         <data>
          <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
           <varRef name='Q{}action-map' slot='0'/>
           <str val='@ref'/>
          </ifCall>
         </data>
        </cvUntyped>
       </check>
      </treat>
      <choose line='811'>
       <fn name='starts-with'>
        <varRef name='Q{}relative' slot='4'/>
        <str val='/'/>
       </fn>
       <varRef line='812' name='Q{}relative' slot='4'/>
       <fn line='814' name='starts-with'>
        <varRef name='Q{}relative' slot='4'/>
        <str val='instance('/>
       </fn>
       <varRef line='815' name='Q{}relative' slot='4'/>
       <fn line='4319' name='not'>
        <varRef name='Q{}nodeset' slot='2'/>
       </fn>
       <varRef line='818' name='Q{}relative' slot='4'/>
       <or line='820' op='or'>
        <fn name='not'>
         <varRef name='Q{}relative' slot='4'/>
        </fn>
        <vc op='eq' onEmpty='0' comp='CCC'>
         <varRef name='Q{}relative' slot='4'/>
         <str val='.'/>
        </vc>
       </or>
       <varRef line='4319' name='Q{}nodeset' slot='2'/>
       <true/>
       <let line='825' var='Q{}parentCallCount' as='xs:integer' slot='5' eval='16'>
        <choose>
         <fn name='contains'>
          <varRef name='Q{}relative' slot='4'/>
          <str val='/'/>
         </fn>
         <fn name='count'>
          <filter flags='b'>
           <fn name='tokenize'>
            <varRef name='Q{}relative' slot='4'/>
            <str val='/'/>
            <str val=''/>
           </fn>
           <vc op='eq' onEmpty='0' comp='CCC'>
            <dot type='xs:string'/>
            <str val='..'/>
           </vc>
          </filter>
         </fn>
         <fn name='contains'>
          <varRef name='Q{}relative' slot='4'/>
          <str val='..'/>
         </fn>
         <int val='1'/>
         <true/>
         <int val='0'/>
        </choose>
        <let line='828' var='Q{}slashes' as='xs:integer*' slot='6' eval='4'>
         <choose>
          <fn line='4319' name='contains'>
           <varRef name='Q{}nodeset' slot='2'/>
           <str val='/'/>
          </fn>
          <fn name='index-of'>
           <fn name='string-to-codepoints'>
            <varRef line='4319' name='Q{}nodeset' slot='2'/>
           </fn>
           <int val='47'/>
          </fn>
          <true/>
          <int val='0'/>
         </choose>
         <choose line='860'>
          <compareToInt op='gt' val='0'>
           <varRef name='Q{}parentCallCount' slot='5'/>
          </compareToInt>
          <fn line='864' name='concat'>
           <fn name='substring'>
            <varRef line='4319' name='Q{}nodeset' slot='2'/>
            <int val='1'/>
            <choose line='839'>
             <and op='and'>
              <vc op='ge' onEmpty='0' comp='CAVC'>
               <fn name='count'>
                <varRef name='Q{}slashes' slot='6'/>
               </fn>
               <varRef name='Q{}parentCallCount' slot='5'/>
              </vc>
              <compareToInt op='gt' val='0'>
               <varRef name='Q{}parentCallCount' slot='5'/>
              </compareToInt>
             </and>
             <let line='840' var='Q{http://saxon.sf.net/generated-variable}v0' as='xs:integer' slot='7' eval='13'>
              <arith op='-' calc='i-i'>
               <varRef name='Q{}parentCallCount' slot='5'/>
               <int val='1'/>
              </arith>
              <check card='1' diag='3|0|XTTE0570|parentSlash'>
               <filter flags='p'>
                <varRef name='Q{}slashes' slot='6'/>
                <arith op='-' calc='i-i'>
                 <fn name='last'/>
                 <varRef name='Q{http://saxon.sf.net/generated-variable}v0' slot='7'/>
                </arith>
               </filter>
              </check>
             </let>
             <true/>
             <check line='843' card='1' diag='3|0|XTTE0570|parentSlash'>
              <lastOf>
               <varRef name='Q{}slashes' slot='6'/>
              </lastOf>
             </check>
            </choose>
           </fn>
           <fn name='replace'>
            <varRef name='Q{}relative' slot='4'/>
            <str val='\.\./'/>
            <str val=''/>
            <str val=''/>
           </fn>
          </fn>
          <true/>
          <fn line='4319' name='concat'>
           <varRef name='Q{}nodeset' slot='2'/>
           <str val='/'/>
           <varRef line='867' name='Q{}relative' slot='4'/>
          </fn>
         </choose>
        </let>
       </let>
      </choose>
     </let>
     <let line='4320' var='Q{}at' as='xs:string?' slot='8' eval='7'>
      <treat as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|at'>
       <check card='?' diag='3|0|XTTE0570|at'>
        <cvUntyped to='xs:string' diag='3|0|XTTE0570|at'>
         <data>
          <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
           <varRef name='Q{}action-map' slot='0'/>
           <str val='@at'/>
          </ifCall>
         </data>
        </cvUntyped>
       </check>
      </treat>
      <let line='4330' var='Q{}ref-qualified' as='xs:string' slot='9' eval='16'>
       <choose>
        <fn name='exists'>
         <varRef name='Q{}at' slot='8'/>
        </fn>
        <fn name='concat'>
         <varRef name='Q{}ref' slot='3'/>
         <str val='['/>
         <varRef name='Q{}at' slot='8'/>
         <str val=']'/>
        </fn>
        <true/>
        <varRef name='Q{}ref' slot='3'/>
       </choose>
       <let line='4332' var='Q{}instance-id' as='xs:string' slot='10' eval='16'>
        <ufCall name='Q{http://www.w3.org/2002/xforms}getInstanceId' tailCall='false' bSlot='0' eval='6'>
         <varRef name='Q{}ref' slot='3'/>
        </ufCall>
        <let line='4334' var='Q{}instanceXML2' as='element()' slot='11' eval='16'>
         <choose line='4336'>
          <vc op='eq' onEmpty='0' comp='CCC'>
           <varRef name='Q{}instance-id' slot='10'/>
           <str val='saxon-forms-default'/>
          </vc>
          <varRef line='4337' name='Q{}instanceXML' slot='1'/>
          <true/>
          <check line='4340' card='1' diag='3|0|XTTE0570|instanceXML2'>
           <ufCall name='Q{http://www.w3.org/2002/xforms}instance' tailCall='false' bSlot='1' eval='6'>
            <varRef name='Q{}instance-id' slot='10'/>
           </ufCall>
          </check>
         </choose>
         <let line='4345' var='Q{}ifVar' as='xs:string?' slot='12' eval='7'>
          <choose line='766'>
           <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}contains' type='xs:boolean'>
            <varRef line='4345' name='Q{}action-map' slot='0'/>
            <str val='@if'/>
           </ifCall>
           <treat line='767' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='5|0|XTTE0780|xforms:getIfStatement#1'>
            <check card='?' diag='5|0|XTTE0780|xforms:getIfStatement#1'>
             <cvUntyped to='xs:string' diag='5|0|XTTE0780|xforms:getIfStatement#1'>
              <data>
               <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
                <varRef line='4345' name='Q{}action-map' slot='0'/>
                <str val='@if'/>
               </ifCall>
              </data>
             </cvUntyped>
            </check>
           </treat>
          </choose>
          <let line='4348' var='Q{}delete-node' as='node()*' slot='13' eval='8'>
           <choose line='4350'>
            <and op='and'>
             <fn name='exists'>
              <varRef name='Q{}ref-qualified' slot='9'/>
             </fn>
             <vc op='ne' onEmpty='1' comp='CCC'>
              <varRef name='Q{}ref-qualified' slot='9'/>
              <str val=''/>
             </vc>
            </and>
            <treat line='4351' as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='3|0|XTTE0570|delete-node'>
             <evaluate dxns=''>
              <ufCall role='xpath' name='Q{http://www.w3.org/2002/xforms}impose' tailCall='false' bSlot='2' eval='16'>
               <check card='1' diag='0|0||xforms:impose'>
                <varRef name='Q{}ref-qualified' slot='9'/>
               </check>
              </ufCall>
              <varRef role='cxt' name='Q{}instanceXML2' slot='11'/>
              <varRef role='nsCxt' name='Q{}instanceXML2' slot='11'/>
              <str role='sa' val='no'/>
              <map role='options' size='0'/>
              <map role='wp' size='0'/>
             </evaluate>
            </treat>
           </choose>
           <let line='4356' var='Q{}ifExecuted' as='xs:boolean' slot='14' eval='16'>
            <choose line='4358'>
             <fn name='exists'>
              <varRef name='Q{}ifVar' slot='12'/>
             </fn>
             <treat line='4359' as='xs:boolean' jsTest='return SaxonJS.U.Atomic.boolean.matches(item);' diag='3|0|XTTE0570|ifExecuted'>
              <check card='1' diag='3|0|XTTE0570|ifExecuted'>
               <cvUntyped to='xs:boolean' diag='3|0|XTTE0570|ifExecuted'>
                <data>
                 <evaluate dxns=''>
                  <ufCall role='xpath' name='Q{http://www.w3.org/2002/xforms}impose' tailCall='false' bSlot='3' eval='16'>
                   <check card='1' diag='0|0||xforms:impose'>
                    <varRef name='Q{}ifVar' slot='12'/>
                   </check>
                  </ufCall>
                  <check role='cxt' card='?' diag='4|0|XTTE3210|xsl:evaluate/context-item'>
                   <varRef name='Q{}delete-node' slot='13'/>
                  </check>
                  <check role='nsCxt' card='1' diag='4|0|XTTE3170|xsl:evaluate/namespace-context'>
                   <varRef name='Q{}delete-node' slot='13'/>
                  </check>
                  <str role='sa' val='no'/>
                  <map role='options' size='0'/>
                  <map role='wp' size='0'/>
                 </evaluate>
                </data>
               </cvUntyped>
              </check>
             </treat>
             <true/>
             <true/>
            </choose>
            <choose line='4367'>
             <varRef name='Q{}ifExecuted' slot='14'/>
             <let line='4368' var='Q{}instance-with-delete' as='element()' slot='15' eval='16'>
              <treat line='4369' as='element()' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1;' diag='3|0|XTTE0570|instance-with-delete'>
               <check card='1' diag='3|0|XTTE0570|instance-with-delete'>
                <applyT mode='Q{}delete-node' bSlot='4'>
                 <varRef role='select' name='Q{}instanceXML2' slot='11'/>
                 <withParam name='Q{}delete-node' flags='t' as='node()*'>
                  <varRef line='4370' name='Q{}delete-node' slot='13'/>
                 </withParam>
                </applyT>
               </check>
              </treat>
              <sequence line='4376'>
               <ufCall name='Q{http://www.w3.org/2002/xforms}setInstance-JS' tailCall='false' bSlot='5' eval='6 6'>
                <varRef name='Q{}ref' slot='3'/>
                <varRef name='Q{}instance-with-delete' slot='15'/>
               </ufCall>
               <callT line='4405' name='Q{}xforms-recalculate' bSlot='6' flags='t'/>
              </sequence>
             </let>
            </choose>
           </let>
          </let>
         </let>
        </let>
       </let>
      </let>
     </let>
    </let>
   </sequence>
  </template>
 </co>
 <co id='30' binds='31'>
  <template name='Q{}action-send' flags='os' line='4464' module='saxon-xforms.xsl' slots='1'>
   <sequence role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='4465'>
    <param name='Q{}action-map' slot='0' flags='tr' as='map(*)'>
     <treat role='conversion' as='map(*)' jsTest='return SaxonJS.U.isMap(item)' diag='8|0|XTTE0590|action-map'>
      <check card='1' diag='8|0|XTTE0590|action-map'>
       <supplied slot='0'/>
      </check>
     </treat>
    </param>
    <callT line='4471' name='Q{}xforms-submit' bSlot='0' flags='t'>
     <withParam name='Q{}submission' flags='c' as='xs:string'>
      <treat line='4469' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|submission'>
       <check card='1' diag='3|0|XTTE0570|submission'>
        <cvUntyped to='xs:string' diag='3|0|XTTE0570|submission'>
         <data>
          <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
           <varRef name='Q{}action-map' slot='0'/>
           <str val='@submission'/>
          </ifCall>
         </data>
        </cvUntyped>
       </check>
      </treat>
     </withParam>
    </callT>
   </sequence>
  </template>
 </co>
 <co id='32' binds=''>
  <function name='Q{http://www.w3.org/2002/xforms}usesIndexFunction' line='2496' module='saxon-xforms.xsl' eval='8' flags='pU' as='xs:boolean' slots='1'>
   <arg name='Q{}this' as='element()'/>
   <fn role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='2532' name='exists'>
    <sequence line='2507'>
     <analyzeString>
      <cvUntyped role='select' to='xs:string'>
       <data>
        <slash simple='1'>
         <varRef name='Q{}this' slot='0'/>
         <axis name='attribute' nodeTest='attribute(Q{}ref)' jsTest='return item.name===&#39;ref&#39;'/>
        </slash>
       </data>
      </cvUntyped>
      <str role='regex' val='\i\c*\('/>
      <str role='flags' val=''/>
      <choose role='matching' line='2510'>
       <vc op='eq' onEmpty='0' comp='CCC'>
        <fn name='substring-before'>
         <dot type='xs:string'/>
         <str val='('/>
        </fn>
        <str val='index'/>
       </vc>
       <str val='i'/>
      </choose>
      <empty role='nonMatching'/>
     </analyzeString>
     <analyzeString line='2519'>
      <cvUntyped role='select' to='xs:string'>
       <data>
        <slash simple='1'>
         <varRef name='Q{}this' slot='0'/>
         <axis name='attribute' nodeTest='attribute(Q{}nodeset)' jsTest='return item.name===&#39;nodeset&#39;'/>
        </slash>
       </data>
      </cvUntyped>
      <str role='regex' val='\i\c*\('/>
      <str role='flags' val=''/>
      <choose role='matching' line='2522'>
       <vc op='eq' onEmpty='0' comp='CCC'>
        <fn name='substring-before'>
         <dot type='xs:string'/>
         <str val='('/>
        </fn>
        <str val='index'/>
       </vc>
       <str val='i'/>
      </choose>
      <empty role='nonMatching'/>
     </analyzeString>
    </sequence>
   </fn>
  </function>
 </co>
 <co id='33' binds='34 33 34 35 33 33 35'>
  <mode name='Q{}form-check' onNo='TC' flags='W' patternSlots='0'>
   <templateRule prec='0' prio='-0.5' seq='27' rank='0' minImp='0' slots='12' flags='s' line='2152' module='saxon-xforms.xsl'>
    <p.nodeTest role='match' test='element()' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1;'/>
    <sequence role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='2153'>
     <param name='Q{}curPath' slot='0'>
      <str role='select' val=''/>
      <supplied role='conversion' slot='0'/>
     </param>
     <param line='2154' name='Q{}position' slot='1'>
      <int role='select' val='0'/>
      <supplied role='conversion' slot='1'/>
     </param>
     <param line='2155' name='Q{}pendingUpdates' slot='2' flags='t' as='map(xs:string, xs:string)?'>
      <empty role='select'/>
      <treat role='conversion' as='map(xs:string, xs:string)' jsTest='function k(item) {return SaxonJS.U.Atomic.string.matches(item);};function v(item) {return SaxonJS.U.Atomic.string.matches(item);};function c(n) {return n==1;};return SaxonJS.U.isMap(item) &amp;&amp; item.conforms(k, v, c);' diag='8|0|XTTE0590|pendingUpdates'>
       <check card='?' diag='8|0|XTTE0590|pendingUpdates'>
        <supplied slot='2'/>
       </check>
      </treat>
     </param>
     <param line='2156' name='Q{}updated-node' slot='3' flags='t' as='node()?'>
      <empty role='select'/>
      <treat role='conversion' as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='8|0|XTTE0590|updated-node'>
       <check card='?' diag='8|0|XTTE0590|updated-node'>
        <supplied slot='3'/>
       </check>
      </treat>
     </param>
     <param line='2157' name='Q{}value' slot='4' flags='t' as='xs:string?'>
      <empty role='select'/>
      <treat role='conversion' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='8|0|XTTE0590|value'>
       <check card='?' diag='8|0|XTTE0590|value'>
        <cvUntyped to='xs:string' diag='8|0|XTTE0590|value'>
         <data>
          <supplied slot='4'/>
         </data>
        </cvUntyped>
       </check>
      </treat>
     </param>
     <let line='2178' var='Q{}updatedPath' as='xs:string' slot='5' eval='16'>
      <choose>
       <gc op='&gt;' card='N:1' comp='GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint'>
        <data>
         <varRef name='Q{}position' slot='1'/>
        </data>
        <int val='0'/>
       </gc>
       <fn name='concat'>
        <atomSing card='?' diag='0|0||fn:concat'>
         <varRef name='Q{}curPath' slot='0'/>
        </atomSing>
        <fn name='name'>
         <dot type='element()'/>
        </fn>
        <str val='['/>
        <atomSing card='?' diag='0|3||fn:concat'>
         <varRef name='Q{}position' slot='1'/>
        </atomSing>
        <str val=']'/>
       </fn>
       <true/>
       <fn name='concat'>
        <atomSing card='?' diag='0|0||fn:concat'>
         <varRef name='Q{}curPath' slot='0'/>
        </atomSing>
        <fn name='name'>
         <dot type='element()'/>
        </fn>
       </fn>
      </choose>
      <sequence line='2184'>
       <message>
        <sequence role='select'>
         <valueOf>
          <str val='[form-check] looking for form control for XPath &#39;'/>
         </valueOf>
         <varRef name='Q{}updatedPath' slot='5'/>
         <valueOf flags='S'>
          <str val='&#39;'/>
         </valueOf>
        </sequence>
        <str role='terminate' val='no'/>
        <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
       </message>
       <forEach line='2185'>
        <filter flags='b'>
         <slash simple='1'>
          <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}page' type='document-node()?'/>
          <axis name='descendant' nodeTest='element()' jsTest='return item.nodeType===1;'/>
         </slash>
         <or op='or'>
          <or op='or'>
           <fn name='exists'>
            <axis name='self' nodeTest='element(Q{}input)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;&#39;&amp;&amp;q.local===&#39;input&#39;;'/>
           </fn>
           <fn name='exists'>
            <axis name='self' nodeTest='element(Q{}select)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;&#39;&amp;&amp;q.local===&#39;select&#39;;'/>
           </fn>
          </or>
          <fn name='exists'>
           <axis name='self' nodeTest='element(Q{}textarea)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;&#39;&amp;&amp;q.local===&#39;textarea&#39;;'/>
          </fn>
         </or>
        </filter>
        <sequence line='2186'>
         <message>
          <sequence role='select'>
           <valueOf>
            <str val='[form-check] checking '/>
           </valueOf>
           <fn name='name'>
            <dot type='element()'/>
           </fn>
           <valueOf>
            <str val=', @data-ref = &#39;'/>
           </valueOf>
           <axis name='attribute' nodeTest='attribute(Q{}data-ref)' jsTest='return item.name===&#39;data-ref&#39;'/>
           <valueOf flags='S'>
            <str val='&#39;'/>
           </valueOf>
          </sequence>
          <str role='terminate' val='no'/>
          <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
         </message>
         <message line='2187'>
          <sequence role='select'>
           <valueOf>
            <str val='[form-check] resolved @data-ref = &#39;'/>
           </valueOf>
           <ufCall name='Q{http://www.w3.org/2002/xforms}resolve-index' tailCall='false' bSlot='0' eval='16'>
            <check card='1' diag='0|0||xforms:resolve-index'>
             <cvUntyped to='xs:string'>
              <attVal name='Q{}data-ref' chk='0'/>
             </cvUntyped>
            </check>
           </ufCall>
           <valueOf flags='S'>
            <str val='&#39;'/>
           </valueOf>
          </sequence>
          <str role='terminate' val='no'/>
          <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
         </message>
        </sequence>
       </forEach>
       <copy line='2192' flags='cin'>
        <sequence role='content'>
         <applyT mode='Q{}form-check' bSlot='1'>
          <axis role='select' name='attribute' nodeTest='attribute()' jsTest='return SaxonJS.U.isAttr(item)'/>
          <withParam name='Q{}curPath' as='xs:string'>
           <fn line='2193' name='concat'>
            <varRef name='Q{}updatedPath' slot='5'/>
            <str val='/'/>
           </fn>
          </withParam>
         </applyT>
         <let line='2199' var='Q{}associated-form-control' as='element()*' slot='6' eval='8'>
          <filter flags='b'>
           <filter flags='b'>
            <slash simple='1'>
             <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}page' type='document-node()?'/>
             <axis name='descendant' nodeTest='element()' jsTest='return item.nodeType===1;'/>
            </slash>
            <or op='or'>
             <or op='or'>
              <fn name='exists'>
               <axis name='self' nodeTest='element(Q{}input)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;&#39;&amp;&amp;q.local===&#39;input&#39;;'/>
              </fn>
              <fn name='exists'>
               <axis name='self' nodeTest='element(Q{}select)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;&#39;&amp;&amp;q.local===&#39;select&#39;;'/>
              </fn>
             </or>
             <fn name='exists'>
              <axis name='self' nodeTest='element(Q{}textarea)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;&#39;&amp;&amp;q.local===&#39;textarea&#39;;'/>
             </fn>
            </or>
           </filter>
           <vc op='eq' onEmpty='0' comp='CCC'>
            <ufCall name='Q{http://www.w3.org/2002/xforms}resolve-index' tailCall='false' bSlot='2' eval='16'>
             <check card='1' diag='0|0||xforms:resolve-index'>
              <cvUntyped to='xs:string'>
               <attVal name='Q{}data-ref' chk='0'/>
              </cvUntyped>
             </check>
            </ufCall>
            <varRef name='Q{}updatedPath' slot='5'/>
           </vc>
          </filter>
          <sequence line='2201'>
           <choose>
            <fn name='exists'>
             <tail start='2'>
              <varRef name='Q{}associated-form-control' slot='6'/>
             </tail>
            </fn>
            <message line='2202'>
             <sequence role='select'>
              <valueOf>
               <str val='[form-check] More than one form element controls the value of XForm node at '/>
              </valueOf>
              <valueOf>
               <varRef name='Q{}updatedPath' slot='5'/>
              </valueOf>
              <valueOf>
               <str val='; Saxon-Forms will apply the value of the first'/>
              </valueOf>
             </sequence>
             <str role='terminate' val='no'/>
             <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
            </message>
           </choose>
           <choose line='2206'>
            <is op='is'>
             <varRef name='Q{}updated-node' slot='3'/>
             <dot type='element()'/>
            </is>
            <sequence line='2207'>
             <message>
              <valueOf role='select'>
               <str val='&#xA;                        [form-check] Matched node!!&#xA;                    '/>
              </valueOf>
              <str role='terminate' val='no'/>
              <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
             </message>
             <valueOf line='2210' flags='l'>
              <varRef name='Q{}value' slot='4'/>
             </valueOf>
            </sequence>
            <fn line='2212' name='exists'>
             <varRef name='Q{}associated-form-control' slot='6'/>
            </fn>
            <valueOf line='2216' flags='l'>
             <fn name='string-join'>
              <convert from='xs:anyAtomicType' to='xs:string'>
               <data>
                <mergeAdj>
                 <applyT mode='Q{}get-field' bSlot='3'>
                  <first role='select'>
                   <varRef name='Q{}associated-form-control' slot='6'/>
                  </first>
                 </applyT>
                </mergeAdj>
               </data>
              </convert>
              <str val=''/>
             </fn>
            </valueOf>
            <and line='2219' op='and'>
             <fn name='exists'>
              <varRef name='Q{}pendingUpdates' slot='2'/>
             </fn>
             <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}contains' type='xs:boolean'>
              <check card='1' diag='0|0||map:contains'>
               <varRef name='Q{}pendingUpdates' slot='2'/>
              </check>
              <varRef name='Q{}updatedPath' slot='5'/>
             </ifCall>
            </and>
            <valueOf line='2227' flags='l'>
             <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
              <check card='1' diag='0|0||map:get'>
               <varRef name='Q{}pendingUpdates' slot='2'/>
              </check>
              <varRef name='Q{}updatedPath' slot='5'/>
             </ifCall>
            </valueOf>
            <true/>
            <valueOf line='2236' flags='l'>
             <fn name='normalize-space'>
              <fn name='string-join'>
               <data>
                <axis name='child' nodeTest='text()' jsTest='return item.nodeType===3;'/>
               </data>
               <str val=''/>
              </fn>
             </fn>
            </valueOf>
           </choose>
           <forEachGroup line='2241' algorithm='by'>
            <axis role='select' name='child' nodeTest='element()' jsTest='return item.nodeType===1;'/>
            <fn role='key' name='local-name'>
             <dot type='element()'/>
            </fn>
            <str role='collation' val='http://www.w3.org/2005/xpath-functions/collation/codepoint'/>
            <let role='content' line='2243' var='Q{}updatedChildPath' as='xs:string' slot='7' eval='8'>
             <fn name='concat'>
              <varRef name='Q{}updatedPath' slot='5'/>
              <str val='/'/>
              <check card='?' diag='0|2||fn:concat'>
               <currentGroupingKey/>
              </check>
             </fn>
             <let line='2248' var='Q{http://saxon.sf.net/generated-variable}v0' as='xs:string' slot='8' eval='13'>
              <fn name='concat'>
               <varRef name='Q{}updatedChildPath' slot='7'/>
               <str val='['/>
              </fn>
              <let var='Q{}dataRefWithFilter' as='element()*' slot='9' eval='8'>
               <filter flags='b'>
                <slash simple='1'>
                 <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}page' type='document-node()?'/>
                 <axis name='descendant' nodeTest='element()' jsTest='return item.nodeType===1;'/>
                </slash>
                <fn name='starts-with'>
                 <cvUntyped to='xs:string'>
                  <attVal name='Q{}data-ref' chk='0'/>
                 </cvUntyped>
                 <varRef name='Q{http://saxon.sf.net/generated-variable}v0' slot='8'/>
                </fn>
               </filter>
               <choose line='2251'>
                <or op='or'>
                 <fn name='exists'>
                  <tail start='2'>
                   <currentGroup/>
                  </tail>
                 </fn>
                 <fn name='exists'>
                  <varRef name='Q{}dataRefWithFilter' slot='9'/>
                 </fn>
                </or>
                <let line='2254' var='Q{http://saxon.sf.net/generated-variable}v1' as='xs:string' slot='10' eval='13'>
                 <fn name='concat'>
                  <varRef name='Q{}updatedPath' slot='5'/>
                  <str val='/'/>
                 </fn>
                 <forEach line='2252'>
                  <currentGroup/>
                  <applyT line='2253' mode='Q{}form-check' bSlot='4'>
                   <dot role='select'/>
                   <withParam name='Q{}curPath' as='xs:string'>
                    <varRef line='2254' name='Q{http://saxon.sf.net/generated-variable}v1' slot='10'/>
                   </withParam>
                   <withParam name='Q{}position' as='xs:integer'>
                    <fn line='2255' name='position'/>
                   </withParam>
                  </applyT>
                 </forEach>
                </let>
                <true/>
                <let line='2263' var='Q{http://saxon.sf.net/generated-variable}v2' as='xs:string' slot='11' eval='13'>
                 <fn name='concat'>
                  <varRef name='Q{}updatedPath' slot='5'/>
                  <str val='/'/>
                 </fn>
                 <forEach line='2261'>
                  <currentGroup/>
                  <applyT line='2262' mode='Q{}form-check' bSlot='5'>
                   <dot role='select'/>
                   <withParam name='Q{}curPath' as='xs:string'>
                    <varRef line='2263' name='Q{http://saxon.sf.net/generated-variable}v2' slot='11'/>
                   </withParam>
                  </applyT>
                 </forEach>
                </let>
               </choose>
              </let>
             </let>
            </let>
           </forEachGroup>
          </sequence>
         </let>
        </sequence>
       </copy>
      </sequence>
     </let>
    </sequence>
   </templateRule>
   <templateRule prec='0' prio='-0.5' seq='30' rank='0' minImp='0' slots='4' flags='s' line='2339' module='saxon-xforms.xsl'>
    <p.nodeTest role='match' test='attribute()' jsTest='return SaxonJS.U.isAttr(item)'/>
    <sequence role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='2340'>
     <param name='Q{}curPath' slot='0'>
      <str role='select' val=''/>
      <supplied role='conversion' slot='0'/>
     </param>
     <param line='2341' name='Q{}pendingUpdates' slot='1' flags='t' as='map(xs:string, xs:string)?'>
      <empty role='select'/>
      <treat role='conversion' as='map(xs:string, xs:string)' jsTest='function k(item) {return SaxonJS.U.Atomic.string.matches(item);};function v(item) {return SaxonJS.U.Atomic.string.matches(item);};function c(n) {return n==1;};return SaxonJS.U.isMap(item) &amp;&amp; item.conforms(k, v, c);' diag='8|0|XTTE0590|pendingUpdates'>
       <check card='?' diag='8|0|XTTE0590|pendingUpdates'>
        <supplied slot='1'/>
       </check>
      </treat>
     </param>
     <let line='2342' var='Q{}updatedPath' as='xs:string' slot='2' eval='8'>
      <fn name='concat'>
       <atomSing card='?' diag='0|0||fn:concat'>
        <varRef name='Q{}curPath' slot='0'/>
       </atomSing>
       <str val='@'/>
       <fn name='local-name'>
        <dot type='attribute()'/>
       </fn>
      </fn>
      <let line='2351' var='Q{}associated-form-control' as='element()*' slot='3' eval='8'>
       <filter flags='b'>
        <slash simple='1'>
         <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}page' type='document-node()?'/>
         <axis name='descendant' nodeTest='element()' jsTest='return item.nodeType===1;'/>
        </slash>
        <vc op='eq' onEmpty='0' comp='CCC'>
         <cast as='xs:string' emptiable='1'>
          <attVal name='Q{}data-ref' chk='0'/>
         </cast>
         <varRef name='Q{}updatedPath' slot='2'/>
        </vc>
       </filter>
       <choose line='2354'>
        <fn name='exists'>
         <varRef name='Q{}associated-form-control' slot='3'/>
        </fn>
        <compAtt line='2357'>
         <fn role='name' name='local-name'>
          <dot type='attribute()'/>
         </fn>
         <fn role='select' line='2358' name='string-join'>
          <convert from='xs:anyAtomicType' to='xs:string'>
           <data>
            <mergeAdj>
             <applyT mode='Q{}get-field' bSlot='6'>
              <varRef role='select' name='Q{}associated-form-control' slot='3'/>
             </applyT>
            </mergeAdj>
           </data>
          </convert>
          <str val=''/>
         </fn>
        </compAtt>
        <and line='2361' op='and'>
         <fn name='exists'>
          <varRef name='Q{}pendingUpdates' slot='1'/>
         </fn>
         <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}contains' type='xs:boolean'>
          <check card='1' diag='0|0||map:contains'>
           <varRef name='Q{}pendingUpdates' slot='1'/>
          </check>
          <varRef name='Q{}updatedPath' slot='2'/>
         </ifCall>
        </and>
        <compAtt line='2362'>
         <fn role='name' name='local-name'>
          <dot type='attribute()'/>
         </fn>
         <ifCall role='select' line='2363' name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
          <check card='1' diag='0|0||map:get'>
           <varRef name='Q{}pendingUpdates' slot='1'/>
          </check>
          <varRef name='Q{}updatedPath' slot='2'/>
         </ifCall>
        </compAtt>
        <true/>
        <forEach line='2367'>
         <dot type='attribute()'/>
         <copyOf flags='vsc'>
          <dot type='attribute()'/>
         </copyOf>
        </forEach>
       </choose>
      </let>
     </let>
    </sequence>
   </templateRule>
  </mode>
 </co>
 <co id='36' binds='33 33'>
  <mode name='Q{}form-check-initial' onNo='TC' flags='W' patternSlots='0'>
   <templateRule prec='0' prio='-0.5' seq='26' rank='0' minImp='0' slots='6' flags='s' line='2090' module='saxon-xforms.xsl'>
    <p.nodeTest role='match' test='element()' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1;'/>
    <sequence role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='2091'>
     <param name='Q{}instance-id' slot='0' as='xs:string'>
      <str role='select' val='saxon-forms-default'/>
      <treat role='conversion' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='8|0|XTTE0590|instance-id'>
       <check card='1' diag='8|0|XTTE0590|instance-id'>
        <cvUntyped to='xs:string' diag='8|0|XTTE0590|instance-id'>
         <data>
          <supplied slot='0'/>
         </data>
        </cvUntyped>
       </check>
      </treat>
     </param>
     <param line='2092' name='Q{}pendingUpdates' slot='1' flags='t' as='map(xs:string, xs:string)?'>
      <empty role='select'/>
      <treat role='conversion' as='map(xs:string, xs:string)' jsTest='function k(item) {return SaxonJS.U.Atomic.string.matches(item);};function v(item) {return SaxonJS.U.Atomic.string.matches(item);};function c(n) {return n==1;};return SaxonJS.U.isMap(item) &amp;&amp; item.conforms(k, v, c);' diag='8|0|XTTE0590|pendingUpdates'>
       <check card='?' diag='8|0|XTTE0590|pendingUpdates'>
        <supplied slot='1'/>
       </check>
      </treat>
     </param>
     <let line='2098' var='Q{}curPath' as='xs:string' slot='2' eval='16'>
      <choose line='2100'>
       <vc op='eq' onEmpty='0' comp='CCC'>
        <varRef name='Q{}instance-id' slot='0'/>
        <str val='saxon-forms-default'/>
       </vc>
       <str val=''/>
       <true/>
       <cvUntyped line='2104' to='xs:string' diag='3|0|XTTE0570|curPath'>
        <cast as='xs:untypedAtomic' emptiable='0'>
         <fn name='concat'>
          <str val='instance(&#39;'/>
          <varRef name='Q{}instance-id' slot='0'/>
          <str val='&#39;)/'/>
         </fn>
        </cast>
       </cvUntyped>
      </choose>
      <copy line='2111' flags='cin'>
       <forEachGroup role='content' algorithm='by'>
        <axis role='select' name='child' nodeTest='element()' jsTest='return item.nodeType===1;'/>
        <fn role='key' name='local-name'>
         <dot type='element()'/>
        </fn>
        <str role='collation' val='http://www.w3.org/2005/xpath-functions/collation/codepoint'/>
        <let role='content' line='2113' var='Q{}updatedChildPath' as='xs:string' slot='3' eval='8'>
         <fn name='concat'>
          <varRef name='Q{}curPath' slot='2'/>
          <check card='?' diag='0|1||fn:concat'>
           <currentGroupingKey/>
          </check>
         </fn>
         <let line='2118' var='Q{http://saxon.sf.net/generated-variable}v0' as='xs:string' slot='4' eval='13'>
          <fn name='concat'>
           <varRef name='Q{}updatedChildPath' slot='3'/>
           <str val='['/>
          </fn>
          <let var='Q{}dataRefWithFilter' as='element()*' slot='5' eval='8'>
           <filter flags='b'>
            <slash simple='1'>
             <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}page' type='document-node()?'/>
             <axis name='descendant' nodeTest='element()' jsTest='return item.nodeType===1;'/>
            </slash>
            <fn name='starts-with'>
             <cvUntyped to='xs:string'>
              <attVal name='Q{}data-ref' chk='0'/>
             </cvUntyped>
             <varRef name='Q{http://saxon.sf.net/generated-variable}v0' slot='4'/>
            </fn>
           </filter>
           <choose line='2120'>
            <or op='or'>
             <fn name='exists'>
              <tail start='2'>
               <currentGroup/>
              </tail>
             </fn>
             <fn name='exists'>
              <varRef name='Q{}dataRefWithFilter' slot='5'/>
             </fn>
            </or>
            <forEach line='2121'>
             <currentGroup/>
             <applyT line='2122' mode='Q{}form-check' bSlot='0'>
              <dot role='select'/>
              <withParam name='Q{}curPath' as='xs:string'>
               <varRef line='2123' name='Q{}curPath' slot='2'/>
              </withParam>
              <withParam name='Q{}position' as='xs:integer'>
               <fn line='2124' name='position'/>
              </withParam>
             </applyT>
            </forEach>
            <true/>
            <forEach line='2130'>
             <currentGroup/>
             <applyT line='2131' mode='Q{}form-check' bSlot='1'>
              <dot role='select'/>
              <withParam name='Q{}curPath' as='xs:string'>
               <varRef line='2132' name='Q{}curPath' slot='2'/>
              </withParam>
             </applyT>
            </forEach>
           </choose>
          </let>
         </let>
        </let>
       </forEachGroup>
      </copy>
     </let>
    </sequence>
   </templateRule>
  </mode>
 </co>
 <co id='26' binds=''>
  <function name='Q{http://www.w3.org/2002/xforms}getRepeatID' line='739' module='saxon-xforms.xsl' eval='7' flags='pU' as='xs:string?' slots='1'>
   <arg name='Q{}string-to-parse' as='xs:string'/>
   <treat role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='742' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='5|0|XTTE0780|xforms:getRepeatID#1'>
    <check card='?' diag='5|0|XTTE0780|xforms:getRepeatID#1'>
     <cvUntyped to='xs:string' diag='5|0|XTTE0780|xforms:getRepeatID#1'>
      <data>
       <analyzeString>
        <varRef role='select' name='Q{}string-to-parse' slot='0'/>
        <str role='regex' val='^.*index\s*\(\s*&#39;([^&#39;]+)&#39;\s*\).*$'/>
        <str role='flags' val=''/>
        <fn role='matching' line='744' name='regex-group'>
         <int val='1'/>
        </fn>
        <message role='nonMatching' line='747'>
         <sequence role='select'>
          <valueOf>
           <str val='[xforms:getRepeatID] No repeat identifiable from value &#39;'/>
          </valueOf>
          <valueOf>
           <varRef name='Q{}string-to-parse' slot='0'/>
          </valueOf>
          <valueOf flags='S'>
           <str val='&#39;'/>
          </valueOf>
         </sequence>
         <str role='terminate' val='no'/>
         <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
        </message>
       </analyzeString>
      </data>
     </cvUntyped>
    </check>
   </treat>
  </function>
 </co>
 <co id='37' binds=''>
  <template name='Q{}action-reset' flags='os' line='4511' module='saxon-xforms.xsl' slots='1'>
   <sequence role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='4512'>
    <param name='Q{}action-map' slot='0' flags='tr' as='map(*)'>
     <treat role='conversion' as='map(*)' jsTest='return SaxonJS.U.isMap(item)' diag='8|0|XTTE0590|action-map'>
      <check card='1' diag='8|0|XTTE0590|action-map'>
       <supplied slot='0'/>
      </check>
     </treat>
    </param>
    <message line='4514'>
     <valueOf role='select'>
      <str val='[action-reset] Reset triggered!'/>
     </valueOf>
     <str role='terminate' val='no'/>
     <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
    </message>
   </sequence>
  </template>
 </co>
 <co id='38' binds='21 22 23 35 39 25 40 27 41'>
  <template name='Q{}xforms-value-changed' flags='os' line='3699' module='saxon-xforms.xsl' slots='9'>
   <sequence role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='3700'>
    <param name='Q{}form-control' slot='0' flags='i' as='node()'>
     <treat role='conversion' as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='8|0|XTTE0590|form-control'>
      <check card='1' diag='8|0|XTTE0590|form-control'>
       <supplied slot='0'/>
      </check>
     </treat>
    </param>
    <let line='3702' var='Q{}refi' as='attribute(Q{}data-ref)?' slot='1' eval='8'>
     <slash simple='1'>
      <varRef name='Q{}form-control' slot='0'/>
      <axis name='attribute' nodeTest='attribute(Q{}data-ref)' jsTest='return item.name===&#39;data-ref&#39;'/>
     </slash>
     <let line='3705' var='Q{}instance-id' as='xs:string' slot='2' eval='16'>
      <ufCall name='Q{http://www.w3.org/2002/xforms}getInstanceId' tailCall='false' bSlot='0' eval='16'>
       <check card='1' diag='0|0||xforms:getInstanceId'>
        <cvUntyped to='xs:string'>
         <data>
          <varRef name='Q{}refi' slot='1'/>
         </data>
        </cvUntyped>
       </check>
      </ufCall>
      <let line='3706' var='Q{}actions' as='item()?' slot='3' eval='8'>
       <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
        <check card='1' diag='0|0||ixsl:call'>
         <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
        </check>
        <str val='getAction'/>
        <arrayBlock>
         <fn name='string'>
          <slash simple='1'>
           <varRef name='Q{}form-control' slot='0'/>
           <axis name='attribute' nodeTest='attribute(Q{}data-action)' jsTest='return item.name===&#39;data-action&#39;'/>
          </slash>
         </fn>
        </arrayBlock>
       </ifCall>
       <let line='3717' var='Q{}instanceXML' as='element()' slot='4' eval='16'>
        <check card='1' diag='3|0|XTTE0570|instanceXML'>
         <ufCall name='Q{http://www.w3.org/2002/xforms}instance' tailCall='false' bSlot='1' eval='6'>
          <varRef name='Q{}instance-id' slot='2'/>
         </ufCall>
        </check>
        <let line='3718' var='Q{}updatedNode' as='node()' slot='5' eval='16'>
         <treat line='3719' as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='3|0|XTTE0570|updatedNode'>
          <check card='1' diag='3|0|XTTE0570|updatedNode'>
           <evaluate dxns=''>
            <ufCall role='xpath' name='Q{http://www.w3.org/2002/xforms}impose' tailCall='false' bSlot='2' eval='16'>
             <check card='1' diag='0|0||xforms:impose'>
              <cvUntyped to='xs:string'>
               <data>
                <varRef name='Q{}refi' slot='1'/>
               </data>
              </cvUntyped>
             </check>
            </ufCall>
            <varRef role='cxt' name='Q{}instanceXML' slot='4'/>
            <varRef role='nsCxt' name='Q{}instanceXML' slot='4'/>
            <str role='sa' val='no'/>
            <map role='options' size='0'/>
            <map role='wp' size='0'/>
           </evaluate>
          </check>
         </treat>
         <let line='3721' var='Q{}new-value' as='xs:string' slot='6' eval='16'>
          <treat line='3722' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|new-value'>
           <check card='1' diag='3|0|XTTE0570|new-value'>
            <cvUntyped to='xs:string' diag='3|0|XTTE0570|new-value'>
             <data>
              <applyT mode='Q{}get-field' bSlot='3'>
               <varRef role='select' name='Q{}form-control' slot='0'/>
              </applyT>
             </data>
            </cvUntyped>
           </check>
          </treat>
          <let line='3724' var='Q{}updatedInstanceXML' as='element()' slot='7' eval='16'>
           <treat line='3725' as='element()' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1;' diag='3|0|XTTE0570|updatedInstanceXML'>
            <check card='1' diag='3|0|XTTE0570|updatedInstanceXML'>
             <applyT mode='Q{}recalculate' bSlot='4'>
              <varRef role='select' name='Q{}instanceXML' slot='4'/>
              <withParam name='Q{}instance-id' as='xs:string'>
               <varRef line='3726' name='Q{}instance-id' slot='2'/>
              </withParam>
              <withParam name='Q{}updated-nodes' flags='t' as='node()'>
               <varRef line='3727' name='Q{}updatedNode' slot='5'/>
              </withParam>
              <withParam name='Q{}updated-values' flags='t' as='xs:string'>
               <varRef line='3728' name='Q{}new-value' slot='6'/>
              </withParam>
             </applyT>
            </check>
           </treat>
           <sequence line='3735'>
            <ufCall name='Q{http://www.w3.org/2002/xforms}setInstance-JS' tailCall='false' bSlot='5' eval='16 6'>
             <check card='1' diag='0|0||xforms:setInstance-JS'>
              <cvUntyped to='xs:string'>
               <data>
                <varRef name='Q{}refi' slot='1'/>
               </data>
              </cvUntyped>
             </check>
             <varRef name='Q{}updatedInstanceXML' slot='7'/>
            </ufCall>
            <ifCall line='3742' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
             <check card='1' diag='0|0||ixsl:call'>
              <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
             </check>
             <str val='setPendingUpdates'/>
             <arrayBlock>
              <treat line='3739' as='map(xs:string, xs:string)' jsTest='function k(item) {return SaxonJS.U.Atomic.string.matches(item);};function v(item) {return SaxonJS.U.Atomic.string.matches(item);};function c(n) {return n==1;};return SaxonJS.U.isMap(item) &amp;&amp; item.conforms(k, v, c);' diag='3|0||pendingInstanceUpdates'>
               <map size='0'/>
              </treat>
             </arrayBlock>
            </ifCall>
            <ifCall line='3743' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
             <check card='1' diag='0|0||ixsl:call'>
              <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
             </check>
             <str val='setUpdates'/>
             <arrayBlock>
              <treat line='3740' as='map(xs:string, xs:string)' jsTest='function k(item) {return SaxonJS.U.Atomic.string.matches(item);};function v(item) {return SaxonJS.U.Atomic.string.matches(item);};function c(n) {return n==1;};return SaxonJS.U.isMap(item) &amp;&amp; item.conforms(k, v, c);' diag='3|0||instanceUpdates'>
               <map size='0'/>
              </treat>
             </arrayBlock>
            </ifCall>
            <forEach line='3745'>
             <varRef name='Q{}actions' slot='3'/>
             <let line='3746' var='Q{}action-map' as='item()' slot='8' eval='16'>
              <dot/>
              <choose line='3748'>
               <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}contains' type='xs:boolean'>
                <treat as='map(*)' jsTest='return SaxonJS.U.isMap(item)' diag='0|0||map:contains'>
                 <varRef name='Q{}action-map' slot='8'/>
                </treat>
                <str val='@event'/>
               </ifCall>
               <choose line='3749'>
                <gc op='=' card='N:1' comp='GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint'>
                 <data>
                  <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
                   <treat as='map(*)' jsTest='return SaxonJS.U.isMap(item)' diag='0|0||map:get'>
                    <varRef name='Q{}action-map' slot='8'/>
                   </treat>
                   <str val='@event'/>
                  </ifCall>
                 </data>
                 <str val='xforms-value-changed'/>
                </gc>
                <callT line='3751' name='Q{}applyActions' bSlot='6'>
                 <withParam name='Q{}action-map' flags='t' as='item()'>
                  <varRef line='3752' name='Q{}action-map' slot='8'/>
                 </withParam>
                 <withParam name='Q{}nodeset' flags='t' as='xs:string'>
                  <check line='3753' card='1' diag='8|0|XTTE0590|nodeset'>
                   <cvUntyped to='xs:string' diag='8|0|XTTE0590|nodeset'>
                    <data>
                     <varRef name='Q{}refi' slot='1'/>
                    </data>
                   </cvUntyped>
                  </check>
                 </withParam>
                 <withParam name='Q{}instanceXML' flags='t' as='element()'>
                  <varRef line='3754' name='Q{}updatedInstanceXML' slot='7'/>
                 </withParam>
                </callT>
               </choose>
              </choose>
             </let>
            </forEach>
            <callT line='3760' name='Q{}xforms-recalculate' bSlot='7'/>
            <ufCall line='3762' name='Q{http://www.w3.org/2002/xforms}checkRelevantFields' tailCall='false' bSlot='8' eval='16'>
             <check card='1' diag='0|0||xforms:checkRelevantFields'>
              <cvUntyped to='xs:string'>
               <data>
                <slash line='3703' simple='1'>
                 <varRef name='Q{}form-control' slot='0'/>
                 <axis name='attribute' nodeTest='attribute(Q{}data-element)' jsTest='return item.name===&#39;data-element&#39;'/>
                </slash>
               </data>
              </cvUntyped>
             </check>
            </ufCall>
           </sequence>
          </let>
         </let>
        </let>
       </let>
      </let>
     </let>
    </let>
   </sequence>
  </template>
 </co>
 <co id='42' binds='43 22 23 44 22'>
  <template name='Q{}getReferencedInstanceField' flags='os' line='2930' module='saxon-xforms.xsl' slots='4'>
   <sequence role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='2931'>
    <param name='Q{}refi' slot='0' as='xs:string'>
     <str role='select' val=''/>
     <treat role='conversion' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='8|0|XTTE0590|refi'>
      <check card='1' diag='8|0|XTTE0590|refi'>
       <cvUntyped to='xs:string' diag='8|0|XTTE0590|refi'>
        <data>
         <supplied slot='0'/>
        </data>
       </cvUntyped>
      </check>
     </treat>
    </param>
    <let line='2933' var='Q{}field' as='node()*' slot='1' eval='8'>
     <choose line='2935'>
      <varRef name='Q{}refi' slot='0'/>
      <let line='2936' var='Q{}instance-map' as='map(xs:string, xs:string)' slot='2' eval='16'>
       <ufCall name='Q{http://www.w3.org/2002/xforms}getInstanceMap' tailCall='false' bSlot='0' eval='6'>
        <varRef name='Q{}refi' slot='0'/>
       </ufCall>
       <let line='2939' var='Q{}this-instance' as='element()?' slot='3' eval='7'>
        <ufCall name='Q{http://www.w3.org/2002/xforms}instance' tailCall='false' bSlot='1' eval='16'>
         <check line='2938' card='1' diag='3|0|XTTE0570|this-instance-id'>
          <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
           <varRef name='Q{}instance-map' slot='2'/>
           <str val='instance-id'/>
          </ifCall>
         </check>
        </ufCall>
        <choose line='2943'>
         <fn name='exists'>
          <varRef name='Q{}this-instance' slot='3'/>
         </fn>
         <treat line='2945' as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='3|0|XTTE0570|field'>
          <evaluate dxns=''>
           <ufCall role='xpath' line='2944' name='Q{http://www.w3.org/2002/xforms}impose' tailCall='false' bSlot='2' eval='16'>
            <check card='1' diag='0|0||xforms:impose'>
             <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
              <varRef name='Q{}instance-map' slot='2'/>
              <str val='xpath'/>
             </ifCall>
            </check>
           </ufCall>
           <varRef role='cxt' name='Q{}this-instance' slot='3'/>
           <check role='nsCxt' card='1' diag='4|0|XTTE3170|xsl:evaluate/namespace-context'>
            <varRef name='Q{}this-instance' slot='3'/>
           </check>
           <str role='sa' val='no'/>
           <map role='options' size='0'/>
           <map role='wp' size='0'/>
          </evaluate>
         </treat>
         <true/>
         <treat line='2948' as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='3|0|XTTE0570|field'>
          <callT name='Q{}logToPage' bSlot='3'>
           <withParam name='Q{}message' flags='c' as='xs:string'>
            <fn line='2949' name='concat'>
             <str val='[getReferencedInstanceField] Unable to locate XForms instance relating to reference '/>
             <varRef name='Q{}refi' slot='0'/>
            </fn>
           </withParam>
           <withParam name='Q{}level' flags='c' as='xs:string'>
            <str val='error'/>
           </withParam>
          </callT>
         </treat>
        </choose>
       </let>
      </let>
      <true/>
      <ufCall line='2958' name='Q{http://www.w3.org/2002/xforms}instance' tailCall='false' bSlot='4' eval='0'>
       <str val='saxon-forms-default'/>
      </ufCall>
     </choose>
     <varRef line='2963' name='Q{}field' slot='1'/>
    </let>
   </sequence>
  </template>
 </co>
 <co id='45' binds='44'>
  <template name='Q{}action-message' flags='os' line='4418' module='saxon-xforms.xsl' slots='3'>
   <sequence role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='4419'>
    <param name='Q{}action-map' slot='0' flags='tr' as='map(*)'>
     <treat role='conversion' as='map(*)' jsTest='return SaxonJS.U.isMap(item)' diag='8|0|XTTE0590|action-map'>
      <check card='1' diag='8|0|XTTE0590|action-map'>
       <supplied slot='0'/>
      </check>
     </treat>
    </param>
    <let line='4421' var='Q{}message-value' as='xs:string' slot='1' eval='16'>
     <treat as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|message-value'>
      <check card='1' diag='3|0|XTTE0570|message-value'>
       <cvUntyped to='xs:string' diag='3|0|XTTE0570|message-value'>
        <data>
         <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
          <varRef name='Q{}action-map' slot='0'/>
          <str val='value'/>
         </ifCall>
        </data>
       </cvUntyped>
      </check>
     </treat>
     <let line='4423' var='Q{}message-level' as='xs:string' slot='2' eval='16'>
      <treat as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|message-level'>
       <check card='1' diag='3|0|XTTE0570|message-level'>
        <cvUntyped to='xs:string' diag='3|0|XTTE0570|message-level'>
         <data>
          <first>
           <sequence>
            <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
             <varRef name='Q{}action-map' slot='0'/>
             <str val='@level'/>
            </ifCall>
            <str val='modal'/>
           </sequence>
          </first>
         </data>
        </cvUntyped>
       </check>
      </treat>
      <sequence line='4425'>
       <message>
        <sequence role='select'>
         <valueOf>
          <str val='[action-message] Message (level &#39;'/>
         </valueOf>
         <valueOf>
          <varRef name='Q{}message-level' slot='2'/>
         </valueOf>
         <valueOf>
          <str val='&#39;) reads "'/>
         </valueOf>
         <valueOf>
          <varRef name='Q{}message-value' slot='1'/>
         </valueOf>
         <valueOf flags='S'>
          <str val='"'/>
         </valueOf>
        </sequence>
        <str role='terminate' val='no'/>
        <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
       </message>
       <choose line='4429'>
        <vc op='eq' onEmpty='0' comp='CCC'>
         <varRef name='Q{}message-level' slot='2'/>
         <str val='ephemeral'/>
        </vc>
        <callT line='4430' name='Q{}logToPage' bSlot='0' flags='t'>
         <withParam name='Q{}message' flags='c' as='xs:string'>
          <varRef line='4431' name='Q{}message-value' slot='1'/>
         </withParam>
        </callT>
       </choose>
      </sequence>
     </let>
    </let>
   </sequence>
  </template>
 </co>
 <co id='46' binds=''>
  <function name='Q{http://www.w3.org/2002/xforms}resolveXPathStrings' line='804' module='saxon-xforms.xsl' eval='16' flags='pU' as='xs:string' slots='5'>
   <arg name='Q{}base' as='xs:string'/>
   <arg name='Q{}relative' as='xs:string'/>
   <choose role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='811'>
    <fn name='starts-with'>
     <varRef name='Q{}relative' slot='1'/>
     <str val='/'/>
    </fn>
    <varRef line='812' name='Q{}relative' slot='1'/>
    <fn line='814' name='starts-with'>
     <varRef name='Q{}relative' slot='1'/>
     <str val='instance('/>
    </fn>
    <varRef line='815' name='Q{}relative' slot='1'/>
    <fn line='817' name='not'>
     <varRef name='Q{}base' slot='0'/>
    </fn>
    <varRef line='818' name='Q{}relative' slot='1'/>
    <or line='820' op='or'>
     <fn name='not'>
      <varRef name='Q{}relative' slot='1'/>
     </fn>
     <vc op='eq' onEmpty='0' comp='CCC'>
      <varRef name='Q{}relative' slot='1'/>
      <str val='.'/>
     </vc>
    </or>
    <varRef line='821' name='Q{}base' slot='0'/>
    <true/>
    <let line='825' var='Q{}parentCallCount' as='xs:integer' slot='2' eval='16'>
     <choose>
      <fn name='contains'>
       <varRef name='Q{}relative' slot='1'/>
       <str val='/'/>
      </fn>
      <fn name='count'>
       <filter flags='b'>
        <fn name='tokenize'>
         <varRef name='Q{}relative' slot='1'/>
         <str val='/'/>
         <str val=''/>
        </fn>
        <vc op='eq' onEmpty='0' comp='CCC'>
         <dot type='xs:string'/>
         <str val='..'/>
        </vc>
       </filter>
      </fn>
      <fn name='contains'>
       <varRef name='Q{}relative' slot='1'/>
       <str val='..'/>
      </fn>
      <int val='1'/>
      <true/>
      <int val='0'/>
     </choose>
     <let line='828' var='Q{}slashes' as='xs:integer*' slot='3' eval='4'>
      <choose>
       <fn name='contains'>
        <varRef name='Q{}base' slot='0'/>
        <str val='/'/>
       </fn>
       <fn name='index-of'>
        <fn name='string-to-codepoints'>
         <varRef name='Q{}base' slot='0'/>
        </fn>
        <int val='47'/>
       </fn>
       <true/>
       <int val='0'/>
      </choose>
      <choose line='860'>
       <compareToInt op='gt' val='0'>
        <varRef name='Q{}parentCallCount' slot='2'/>
       </compareToInt>
       <fn line='864' name='concat'>
        <fn name='substring'>
         <varRef name='Q{}base' slot='0'/>
         <int val='1'/>
         <choose line='839'>
          <and op='and'>
           <vc op='ge' onEmpty='0' comp='CAVC'>
            <fn name='count'>
             <varRef name='Q{}slashes' slot='3'/>
            </fn>
            <varRef name='Q{}parentCallCount' slot='2'/>
           </vc>
           <compareToInt op='gt' val='0'>
            <varRef name='Q{}parentCallCount' slot='2'/>
           </compareToInt>
          </and>
          <let line='840' var='Q{http://saxon.sf.net/generated-variable}v0' as='xs:integer' slot='4' eval='13'>
           <arith op='-' calc='i-i'>
            <varRef name='Q{}parentCallCount' slot='2'/>
            <int val='1'/>
           </arith>
           <check card='1' diag='3|0|XTTE0570|parentSlash'>
            <filter flags='p'>
             <varRef name='Q{}slashes' slot='3'/>
             <arith op='-' calc='i-i'>
              <fn name='last'/>
              <varRef name='Q{http://saxon.sf.net/generated-variable}v0' slot='4'/>
             </arith>
            </filter>
           </check>
          </let>
          <true/>
          <check line='843' card='1' diag='3|0|XTTE0570|parentSlash'>
           <lastOf>
            <varRef name='Q{}slashes' slot='3'/>
           </lastOf>
          </check>
         </choose>
        </fn>
        <fn name='replace'>
         <varRef name='Q{}relative' slot='1'/>
         <str val='\.\./'/>
         <str val=''/>
         <str val=''/>
        </fn>
       </fn>
       <true/>
       <fn line='867' name='concat'>
        <varRef name='Q{}base' slot='0'/>
        <str val='/'/>
        <varRef name='Q{}relative' slot='1'/>
       </fn>
      </choose>
     </let>
    </let>
   </choose>
  </function>
 </co>
 <co id='47' binds=''>
  <function name='Q{http://saxonica.com/ns/forms-local}current-date' line='118' module='xforms-function-library.xsl' eval='16' flags='pU' as='xs:string' slots='0'>
   <treat role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ map=~' line='119' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|today'>
    <check card='1' diag='3|0|XTTE0570|today'>
     <cvUntyped to='xs:string' diag='3|0|XTTE0570|today'>
      <data>
       <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
        <check card='1' diag='0|0||ixsl:call'>
         <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
        </check>
        <str val='getCurrentDate'/>
        <array size='0'/>
       </ifCall>
      </data>
     </cvUntyped>
    </check>
   </treat>
  </function>
 </co>
 <co id='34' binds='48'>
  <function name='Q{http://www.w3.org/2002/xforms}resolve-index' line='72' module='xforms-function-library.xsl' eval='8' flags='pU' as='xs:string' slots='2'>
   <arg name='Q{}input' as='xs:string'/>
   <let role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ map=~' line='74' var='Q{}parts' as='xs:string*' slot='1' eval='8'>
    <analyzeString line='75'>
     <varRef role='select' name='Q{}input' slot='0'/>
     <str role='regex' val='index\s*\(\s*&#39;([^&#39;]+)&#39;\s*\)'/>
     <str role='flags' val=''/>
     <cast role='matching' line='78' as='xs:string' emptiable='0'>
      <ufCall name='Q{http://www.w3.org/2002/xforms}index' tailCall='false' bSlot='0' eval='16'>
       <fn name='regex-group'>
        <int val='1'/>
       </fn>
      </ufCall>
     </cast>
     <dot role='nonMatching' line='81' type='xs:string'/>
    </analyzeString>
    <fn line='87' name='string-join'>
     <varRef name='Q{}parts' slot='1'/>
    </fn>
   </let>
  </function>
 </co>
 <co id='49' binds='23'>
  <template name='Q{}action-setindex' flags='os' line='4484' module='saxon-xforms.xsl' slots='2'>
   <sequence role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='4485'>
    <param name='Q{}action-map' slot='0' flags='tr' as='map(*)'>
     <treat role='conversion' as='map(*)' jsTest='return SaxonJS.U.isMap(item)' diag='8|0|XTTE0590|action-map'>
      <check card='1' diag='8|0|XTTE0590|action-map'>
       <supplied slot='0'/>
      </check>
     </treat>
    </param>
    <let line='4491' var='Q{}new-index' as='xs:integer' slot='1' eval='16'>
     <treat line='4492' as='xs:integer' jsTest='return SaxonJS.U.Atomic.integer.matches(item);' diag='3|0|XTTE0570|new-index'>
      <check card='1' diag='3|0|XTTE0570|new-index'>
       <cvUntyped to='xs:integer' diag='3|0|XTTE0570|new-index'>
        <data>
         <evaluate dxns=''>
          <ufCall role='xpath' name='Q{http://www.w3.org/2002/xforms}impose' tailCall='false' bSlot='0' eval='16'>
           <treat line='4488' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|new-index-ref'>
            <check card='1' diag='3|0|XTTE0570|new-index-ref'>
             <cvUntyped to='xs:string' diag='3|0|XTTE0570|new-index-ref'>
              <data>
               <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
                <varRef name='Q{}action-map' slot='0'/>
                <str val='@index'/>
               </ifCall>
              </data>
             </cvUntyped>
            </check>
           </treat>
          </ufCall>
          <empty role='cxt'/>
          <str role='sa' val='no'/>
          <map role='options' size='0'/>
          <map role='wp' size='0'/>
         </evaluate>
        </data>
       </cvUntyped>
      </check>
     </treat>
     <ifCall line='4497' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
      <check card='1' diag='0|0||ixsl:call'>
       <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
      </check>
      <str val='setRepeatIndex'/>
      <arrayBlock>
       <treat line='4487' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|repeatID'>
        <check card='1' diag='3|0|XTTE0570|repeatID'>
         <cvUntyped to='xs:string' diag='3|0|XTTE0570|repeatID'>
          <data>
           <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
            <varRef name='Q{}action-map' slot='0'/>
            <str val='@repeat'/>
           </ifCall>
          </data>
         </cvUntyped>
        </check>
       </treat>
       <varRef name='Q{}new-index' slot='1'/>
      </arrayBlock>
     </ifCall>
    </let>
   </sequence>
  </template>
 </co>
 <co id='50' binds='51'>
  <template name='Q{}action-setfocus' flags='os' line='4446' module='saxon-xforms.xsl' slots='1'>
   <sequence role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='4447'>
    <param name='Q{}action-map' slot='0' flags='tr' as='map(*)'>
     <treat role='conversion' as='map(*)' jsTest='return SaxonJS.U.isMap(item)' diag='8|0|XTTE0590|action-map'>
      <check card='1' diag='8|0|XTTE0590|action-map'>
       <supplied slot='0'/>
      </check>
     </treat>
    </param>
    <callT line='4451' name='Q{}xforms-focus' bSlot='0' flags='t'>
     <withParam name='Q{}control' flags='c' as='xs:string'>
      <treat line='4449' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|control'>
       <check card='1' diag='3|0|XTTE0570|control'>
        <cvUntyped to='xs:string' diag='3|0|XTTE0570|control'>
         <data>
          <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
           <varRef name='Q{}action-map' slot='0'/>
           <str val='@control'/>
          </ifCall>
         </data>
        </cvUntyped>
       </check>
      </treat>
     </withParam>
    </callT>
   </sequence>
  </template>
 </co>
 <co id='52' binds='21 23 23 53 36 54 25 55'>
  <template name='Q{}action-setvalue' flags='os' line='4094' module='saxon-xforms.xsl' slots='14'>
   <sequence role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='4095'>
    <param name='Q{}action-map' slot='0' flags='tr' as='map(*)'>
     <treat role='conversion' as='map(*)' jsTest='return SaxonJS.U.isMap(item)' diag='8|0|XTTE0590|action-map'>
      <check card='1' diag='8|0|XTTE0590|action-map'>
       <supplied slot='0'/>
      </check>
     </treat>
    </param>
    <param line='4096' name='Q{}instanceXML' slot='1' flags='t' as='element()?'>
     <empty role='select'/>
     <treat role='conversion' as='element()' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1;' diag='8|0|XTTE0590|instanceXML'>
      <check card='?' diag='8|0|XTTE0590|instanceXML'>
       <supplied slot='1'/>
      </check>
     </treat>
    </param>
    <param line='4097' name='Q{}nodeset' slot='2' flags='t' as='xs:string'>
     <str role='select' val=''/>
     <treat role='conversion' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='8|0|XTTE0590|nodeset'>
      <check card='1' diag='8|0|XTTE0590|nodeset'>
       <cvUntyped to='xs:string' diag='8|0|XTTE0590|nodeset'>
        <data>
         <supplied slot='2'/>
        </data>
       </cvUntyped>
      </check>
     </treat>
    </param>
    <let line='4101' var='Q{}refz' as='xs:string' slot='3' eval='16'>
     <let var='Q{}relative' as='xs:string' slot='4' eval='16'>
      <treat as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='0|1||xforms:resolveXPathStrings'>
       <check card='1' diag='0|1||xforms:resolveXPathStrings'>
        <cvUntyped to='xs:string'>
         <data>
          <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
           <varRef name='Q{}action-map' slot='0'/>
           <str val='@ref'/>
          </ifCall>
         </data>
        </cvUntyped>
       </check>
      </treat>
      <choose line='811'>
       <fn name='starts-with'>
        <varRef name='Q{}relative' slot='4'/>
        <str val='/'/>
       </fn>
       <varRef line='812' name='Q{}relative' slot='4'/>
       <fn line='814' name='starts-with'>
        <varRef name='Q{}relative' slot='4'/>
        <str val='instance('/>
       </fn>
       <varRef line='815' name='Q{}relative' slot='4'/>
       <fn line='4101' name='not'>
        <varRef name='Q{}nodeset' slot='2'/>
       </fn>
       <varRef line='818' name='Q{}relative' slot='4'/>
       <or line='820' op='or'>
        <fn name='not'>
         <varRef name='Q{}relative' slot='4'/>
        </fn>
        <vc op='eq' onEmpty='0' comp='CCC'>
         <varRef name='Q{}relative' slot='4'/>
         <str val='.'/>
        </vc>
       </or>
       <varRef line='4101' name='Q{}nodeset' slot='2'/>
       <true/>
       <let line='825' var='Q{}parentCallCount' as='xs:integer' slot='5' eval='16'>
        <choose>
         <fn name='contains'>
          <varRef name='Q{}relative' slot='4'/>
          <str val='/'/>
         </fn>
         <fn name='count'>
          <filter flags='b'>
           <fn name='tokenize'>
            <varRef name='Q{}relative' slot='4'/>
            <str val='/'/>
            <str val=''/>
           </fn>
           <vc op='eq' onEmpty='0' comp='CCC'>
            <dot type='xs:string'/>
            <str val='..'/>
           </vc>
          </filter>
         </fn>
         <fn name='contains'>
          <varRef name='Q{}relative' slot='4'/>
          <str val='..'/>
         </fn>
         <int val='1'/>
         <true/>
         <int val='0'/>
        </choose>
        <let line='828' var='Q{}slashes' as='xs:integer*' slot='6' eval='4'>
         <choose>
          <fn line='4101' name='contains'>
           <varRef name='Q{}nodeset' slot='2'/>
           <str val='/'/>
          </fn>
          <fn name='index-of'>
           <fn name='string-to-codepoints'>
            <varRef line='4101' name='Q{}nodeset' slot='2'/>
           </fn>
           <int val='47'/>
          </fn>
          <true/>
          <int val='0'/>
         </choose>
         <choose line='860'>
          <compareToInt op='gt' val='0'>
           <varRef name='Q{}parentCallCount' slot='5'/>
          </compareToInt>
          <fn line='864' name='concat'>
           <fn name='substring'>
            <varRef line='4101' name='Q{}nodeset' slot='2'/>
            <int val='1'/>
            <choose line='839'>
             <and op='and'>
              <vc op='ge' onEmpty='0' comp='CAVC'>
               <fn name='count'>
                <varRef name='Q{}slashes' slot='6'/>
               </fn>
               <varRef name='Q{}parentCallCount' slot='5'/>
              </vc>
              <compareToInt op='gt' val='0'>
               <varRef name='Q{}parentCallCount' slot='5'/>
              </compareToInt>
             </and>
             <let line='840' var='Q{http://saxon.sf.net/generated-variable}v0' as='xs:integer' slot='7' eval='13'>
              <arith op='-' calc='i-i'>
               <varRef name='Q{}parentCallCount' slot='5'/>
               <int val='1'/>
              </arith>
              <check card='1' diag='3|0|XTTE0570|parentSlash'>
               <filter flags='p'>
                <varRef name='Q{}slashes' slot='6'/>
                <arith op='-' calc='i-i'>
                 <fn name='last'/>
                 <varRef name='Q{http://saxon.sf.net/generated-variable}v0' slot='7'/>
                </arith>
               </filter>
              </check>
             </let>
             <true/>
             <check line='843' card='1' diag='3|0|XTTE0570|parentSlash'>
              <lastOf>
               <varRef name='Q{}slashes' slot='6'/>
              </lastOf>
             </check>
            </choose>
           </fn>
           <fn name='replace'>
            <varRef name='Q{}relative' slot='4'/>
            <str val='\.\./'/>
            <str val=''/>
            <str val=''/>
           </fn>
          </fn>
          <true/>
          <fn line='4101' name='concat'>
           <varRef name='Q{}nodeset' slot='2'/>
           <str val='/'/>
           <varRef line='867' name='Q{}relative' slot='4'/>
          </fn>
         </choose>
        </let>
       </let>
      </choose>
     </let>
     <let line='4103' var='Q{}instance-id' as='xs:string' slot='8' eval='16'>
      <ufCall name='Q{http://www.w3.org/2002/xforms}getInstanceId' tailCall='false' bSlot='0' eval='6'>
       <varRef name='Q{}refz' slot='3'/>
      </ufCall>
      <let line='4116' var='Q{}valuez' as='document-node()' slot='9' eval='16'>
       <doc line='4118' validation='preserve'>
        <choose>
         <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}contains' type='xs:boolean'>
          <varRef name='Q{}action-map' slot='0'/>
          <str val='@value'/>
         </ifCall>
         <let line='4119' var='Q{}contexti' as='node()' slot='10' eval='8'>
          <evaluate line='4120' as='node()' dxns=''>
           <ufCall role='xpath' name='Q{http://www.w3.org/2002/xforms}impose' tailCall='false' bSlot='1' eval='6'>
            <varRef name='Q{}nodeset' slot='2'/>
           </ufCall>
           <varRef role='cxt' name='Q{}instanceXML' slot='1'/>
           <check role='nsCxt' card='1' diag='4|0|XTTE3170|xsl:evaluate/namespace-context'>
            <varRef name='Q{}instanceXML' slot='1'/>
           </check>
           <str role='sa' val='no'/>
           <map role='options' size='0'/>
           <map role='wp' size='0'/>
          </evaluate>
          <evaluate line='4123' dxns=''>
           <ufCall role='xpath' name='Q{http://www.w3.org/2002/xforms}impose' tailCall='false' bSlot='2' eval='16'>
            <treat as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='0|0||xforms:impose'>
             <check card='1' diag='0|0||xforms:impose'>
              <cvUntyped to='xs:string'>
               <data>
                <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
                 <varRef name='Q{}action-map' slot='0'/>
                 <str val='@value'/>
                </ifCall>
               </data>
              </cvUntyped>
             </check>
            </treat>
           </ufCall>
           <varRef role='cxt' name='Q{}contexti' slot='10'/>
           <varRef role='nsCxt' name='Q{}contexti' slot='10'/>
           <str role='sa' val='no'/>
           <map role='options' size='0'/>
           <map role='wp' size='0'/>
          </evaluate>
         </let>
         <ifCall line='4126' name='Q{http://www.w3.org/2005/xpath-functions/map}contains' type='xs:boolean'>
          <treat as='map(*)' jsTest='return SaxonJS.U.isMap(item)' diag='0|0||map:contains'>
           <dot flags='a'/>
          </treat>
          <str val='value'/>
         </ifCall>
         <ifCall line='4127' name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
          <varRef name='Q{}action-map' slot='0'/>
          <str val='value'/>
         </ifCall>
         <true/>
         <str val=''/>
        </choose>
       </doc>
       <sequence line='4137'>
        <let line='4139' var='Q{}associated-form-control' as='element()?' slot='11' eval='7'>
         <check card='?' diag='3|0|XTTE0570|associated-form-control'>
          <filter flags='b'>
           <slash simple='1'>
            <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}page' type='document-node()?'/>
            <axis name='descendant' nodeTest='element()' jsTest='return item.nodeType===1;'/>
           </slash>
           <vc op='eq' onEmpty='0' comp='GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint'>
            <cast as='xs:string' emptiable='1'>
             <attVal name='Q{}data-ref' chk='0'/>
            </cast>
            <varRef name='Q{}refz' slot='3'/>
           </vc>
          </filter>
         </check>
         <choose line='4141'>
          <fn name='exists'>
           <varRef name='Q{}associated-form-control' slot='11'/>
          </fn>
          <sequence line='4142'>
           <applyT mode='Q{}set-field' bSlot='3'>
            <varRef role='select' name='Q{}associated-form-control' slot='11'/>
            <withParam name='Q{}value' flags='t' as='xs:string'>
             <cast line='4143' as='xs:string' emptiable='0'>
              <data>
               <varRef name='Q{}valuez' slot='9'/>
              </data>
             </cast>
            </withParam>
           </applyT>
           <ifCall line='4145' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
            <check card='1' diag='0|0||ixsl:call'>
             <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
            </check>
            <str val='setUpdates'/>
            <arrayBlock>
             <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}put' type='map(*)'>
              <treat as='map(*)' jsTest='return SaxonJS.U.isMap(item)' diag='0|0||map:put'>
               <check card='1' diag='0|0||map:put'>
                <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
                 <check card='1' diag='0|0||ixsl:call'>
                  <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
                 </check>
                 <str val='getUpdates'/>
                 <array size='0'/>
                </ifCall>
               </check>
              </treat>
              <varRef name='Q{}refz' slot='3'/>
              <cast as='xs:string' emptiable='0'>
               <data>
                <varRef name='Q{}valuez' slot='9'/>
               </data>
              </cast>
             </ifCall>
            </arrayBlock>
           </ifCall>
          </sequence>
          <true/>
          <ifCall line='4148' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
           <check card='1' diag='0|0||ixsl:call'>
            <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
           </check>
           <str val='setPendingUpdates'/>
           <arrayBlock>
            <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}put' type='map(*)'>
             <treat as='map(*)' jsTest='return SaxonJS.U.isMap(item)' diag='0|0||map:put'>
              <check card='1' diag='0|0||map:put'>
               <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
                <check card='1' diag='0|0||ixsl:call'>
                 <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
                </check>
                <str val='getPendingUpdates'/>
                <array size='0'/>
               </ifCall>
              </check>
             </treat>
             <varRef name='Q{}refz' slot='3'/>
             <cast as='xs:string' emptiable='0'>
              <data>
               <varRef name='Q{}valuez' slot='9'/>
              </data>
             </cast>
            </ifCall>
           </arrayBlock>
          </ifCall>
         </choose>
        </let>
        <choose line='4154'>
         <vc op='ne' onEmpty='1' comp='GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint'>
          <varRef name='Q{}refz' slot='3'/>
          <str val=''/>
         </vc>
         <let line='4156' var='Q{}pendingUpdates' as='map(xs:string, xs:string)?' slot='12' eval='7'>
          <treat as='map(xs:string, xs:string)' jsTest='function k(item) {return SaxonJS.U.Atomic.string.matches(item);};function v(item) {return SaxonJS.U.Atomic.string.matches(item);};function c(n) {return n==1;};return SaxonJS.U.isMap(item) &amp;&amp; item.conforms(k, v, c);' diag='3|0|XTTE0570|pendingUpdates'>
           <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
            <check card='1' diag='0|0||ixsl:call'>
             <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
            </check>
            <str val='getPendingUpdates'/>
            <array size='0'/>
           </ifCall>
          </treat>
          <let line='4158' var='Q{}updatedInstanceXML' as='element()' slot='13' eval='16'>
           <treat line='4159' as='element()' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1;' diag='3|0|XTTE0570|updatedInstanceXML'>
            <check card='1' diag='3|0|XTTE0570|updatedInstanceXML'>
             <applyT mode='Q{}form-check-initial' bSlot='4'>
              <choose role='select' line='4107'>
               <and op='and'>
                <vc op='eq' onEmpty='0' comp='CCC'>
                 <varRef name='Q{}instance-id' slot='8'/>
                 <str val='saxon-forms-default'/>
                </vc>
                <fn name='exists'>
                 <varRef name='Q{}instanceXML' slot='1'/>
                </fn>
               </and>
               <check line='4108' card='1' diag='3|0|XTTE0570|instanceXML2'>
                <varRef name='Q{}instanceXML' slot='1'/>
               </check>
               <true/>
               <check line='4111' card='1' diag='3|0|XTTE0570|instanceXML2'>
                <ufCall name='Q{http://www.w3.org/2002/xforms}getInstance-JS' tailCall='false' bSlot='5' eval='6'>
                 <varRef name='Q{}refz' slot='3'/>
                </ufCall>
               </check>
              </choose>
              <withParam name='Q{}instance-id' as='xs:string'>
               <varRef line='4160' name='Q{}instance-id' slot='8'/>
              </withParam>
              <withParam name='Q{}pendingUpdates' flags='t' as='map(xs:string, xs:string)?'>
               <varRef line='4161' name='Q{}pendingUpdates' slot='12'/>
              </withParam>
             </applyT>
            </check>
           </treat>
           <sequence line='4166'>
            <ufCall name='Q{http://www.w3.org/2002/xforms}setInstance-JS' tailCall='false' bSlot='6' eval='6 6'>
             <varRef name='Q{}refz' slot='3'/>
             <varRef name='Q{}updatedInstanceXML' slot='13'/>
            </ufCall>
            <callT line='4167' name='Q{}refreshOutputs-JS' bSlot='7' flags='t'/>
           </sequence>
          </let>
         </let>
        </choose>
       </sequence>
      </let>
     </let>
    </let>
   </sequence>
  </template>
 </co>
 <co id='56' binds=''>
  <globalVariable name='Q{}default-submission-id' type='xs:string' line='82' module='saxon-xforms.xsl' visibility='PRIVATE' jsAcceptor='return SaxonJS.U.Atomic.string.cast(val);' jsCardCheck='function c(n) {return n==1;};'>
   <str val='saxon-forms-default-submission'/>
  </globalVariable>
 </co>
 <co id='40' binds='21 54 23 23 23 52 20 28 49 50 57 27 37 30 45 40'>
  <template name='Q{}applyActions' flags='os' line='3175' module='saxon-xforms.xsl' slots='15'>
   <sequence role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='3176'>
    <param name='Q{}action-map' slot='0' flags='tr' as='map(*)'>
     <treat role='conversion' as='map(*)' jsTest='return SaxonJS.U.isMap(item)' diag='8|0|XTTE0590|action-map'>
      <check card='1' diag='8|0|XTTE0590|action-map'>
       <supplied slot='0'/>
      </check>
     </treat>
    </param>
    <param line='3177' name='Q{}instanceXML' slot='1' flags='t' as='element()?'>
     <empty role='select'/>
     <treat role='conversion' as='element()' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1;' diag='8|0|XTTE0590|instanceXML'>
      <check card='?' diag='8|0|XTTE0590|instanceXML'>
       <supplied slot='1'/>
      </check>
     </treat>
    </param>
    <param line='3178' name='Q{}nodeset' slot='2' flags='t' as='xs:string'>
     <str role='select' val=''/>
     <treat role='conversion' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='8|0|XTTE0590|nodeset'>
      <check card='1' diag='8|0|XTTE0590|nodeset'>
       <cvUntyped to='xs:string' diag='8|0|XTTE0590|nodeset'>
        <data>
         <supplied slot='2'/>
        </data>
       </cvUntyped>
      </check>
     </treat>
    </param>
    <let line='3180' var='Q{}ref' as='xs:string?' slot='3' eval='7'>
     <treat as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|ref'>
      <check card='?' diag='3|0|XTTE0570|ref'>
       <cvUntyped to='xs:string' diag='3|0|XTTE0570|ref'>
        <data>
         <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
          <varRef name='Q{}action-map' slot='0'/>
          <str val='@ref'/>
         </ifCall>
        </data>
       </cvUntyped>
      </check>
     </treat>
     <let line='3181' var='Q{}at' as='xs:string?' slot='4' eval='7'>
      <treat as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|at'>
       <check card='?' diag='3|0|XTTE0570|at'>
        <cvUntyped to='xs:string' diag='3|0|XTTE0570|at'>
         <data>
          <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
           <varRef name='Q{}action-map' slot='0'/>
           <str val='@at'/>
          </ifCall>
         </data>
        </cvUntyped>
       </check>
      </treat>
      <let line='3183' var='Q{}context' as='xs:string?' slot='5' eval='7'>
       <treat as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|context'>
        <check card='?' diag='3|0|XTTE0570|context'>
         <cvUntyped to='xs:string' diag='3|0|XTTE0570|context'>
          <data>
           <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
            <varRef name='Q{}action-map' slot='0'/>
            <str val='@context'/>
           </ifCall>
          </data>
         </cvUntyped>
        </check>
       </treat>
       <let line='3194' var='Q{}ref-qualified' as='xs:string?' slot='6' eval='7'>
        <choose>
         <and op='and'>
          <fn name='exists'>
           <varRef name='Q{}ref' slot='3'/>
          </fn>
          <varRef name='Q{}ref' slot='3'/>
         </and>
         <choose>
          <fn name='exists'>
           <varRef name='Q{}at' slot='4'/>
          </fn>
          <fn name='concat'>
           <varRef name='Q{}ref' slot='3'/>
           <str val='['/>
           <varRef name='Q{}at' slot='4'/>
           <str val=']'/>
          </fn>
          <true/>
          <varRef name='Q{}ref' slot='3'/>
         </choose>
        </choose>
        <let line='3196' var='Q{}instance-id' as='xs:string' slot='7' eval='16'>
         <ufCall name='Q{http://www.w3.org/2002/xforms}getInstanceId' tailCall='false' bSlot='0' eval='16'>
          <check card='1' diag='0|0||xforms:getInstanceId'>
           <varRef name='Q{}ref' slot='3'/>
          </check>
         </ufCall>
         <let line='3198' var='Q{}instanceXML2' as='element()?' slot='8' eval='7'>
          <choose line='3200'>
           <and op='and'>
            <vc op='eq' onEmpty='0' comp='CCC'>
             <varRef name='Q{}instance-id' slot='7'/>
             <str val='saxon-forms-default'/>
            </vc>
            <fn name='exists'>
             <varRef name='Q{}instanceXML' slot='1'/>
            </fn>
           </and>
           <varRef line='3201' name='Q{}instanceXML' slot='1'/>
           <fn line='3203' name='exists'>
            <varRef name='Q{}ref-qualified' slot='6'/>
           </fn>
           <ufCall line='3204' name='Q{http://www.w3.org/2002/xforms}getInstance-JS' tailCall='false' bSlot='1' eval='16'>
            <check card='1' diag='0|0||xforms:getInstance-JS'>
             <varRef name='Q{}ref-qualified' slot='6'/>
            </check>
           </ufCall>
          </choose>
          <let line='3212' var='Q{}ref-node' as='node()*' slot='9' eval='8'>
           <choose line='3214'>
            <and op='and'>
             <and op='and'>
              <fn name='exists'>
               <varRef name='Q{}ref-qualified' slot='6'/>
              </fn>
              <vc op='ne' onEmpty='1' comp='CCC'>
               <varRef name='Q{}ref-qualified' slot='6'/>
               <str val=''/>
              </vc>
             </and>
             <fn name='exists'>
              <varRef name='Q{}instanceXML2' slot='8'/>
             </fn>
            </and>
            <treat line='3215' as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='3|0|XTTE0570|ref-node'>
             <evaluate dxns=''>
              <ufCall role='xpath' name='Q{http://www.w3.org/2002/xforms}impose' tailCall='false' bSlot='2' eval='16'>
               <check card='1' diag='0|0||xforms:impose'>
                <varRef name='Q{}ref-qualified' slot='6'/>
               </check>
              </ufCall>
              <varRef role='cxt' name='Q{}instanceXML2' slot='8'/>
              <check role='nsCxt' card='1' diag='4|0|XTTE3170|xsl:evaluate/namespace-context'>
               <varRef name='Q{}instanceXML2' slot='8'/>
              </check>
              <str role='sa' val='no'/>
              <map role='options' size='0'/>
              <map role='wp' size='0'/>
             </evaluate>
            </treat>
           </choose>
           <let line='3220' var='Q{}context-node' as='node()?' slot='10' eval='7'>
            <choose line='3222'>
             <and op='and'>
              <and op='and'>
               <fn name='exists'>
                <varRef name='Q{}context' slot='5'/>
               </fn>
               <vc op='ne' onEmpty='1' comp='CCC'>
                <varRef name='Q{}context' slot='5'/>
                <str val=''/>
               </vc>
              </and>
              <fn name='exists'>
               <varRef name='Q{}instanceXML2' slot='8'/>
              </fn>
             </and>
             <treat line='3223' as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='3|0|XTTE0570|context-node'>
              <check card='?' diag='3|0|XTTE0570|context-node'>
               <evaluate dxns=''>
                <ufCall role='xpath' name='Q{http://www.w3.org/2002/xforms}impose' tailCall='false' bSlot='3' eval='16'>
                 <check card='1' diag='0|0||xforms:impose'>
                  <varRef name='Q{}context' slot='5'/>
                 </check>
                </ufCall>
                <varRef role='cxt' name='Q{}instanceXML2' slot='8'/>
                <check role='nsCxt' card='1' diag='4|0|XTTE3170|xsl:evaluate/namespace-context'>
                 <varRef name='Q{}instanceXML2' slot='8'/>
                </check>
                <str role='sa' val='no'/>
                <map role='options' size='0'/>
                <map role='wp' size='0'/>
               </evaluate>
              </check>
             </treat>
            </choose>
            <let line='3228' var='Q{}context' as='node()?' slot='11' eval='7'>
             <first>
              <sequence>
               <varRef name='Q{}context-node' slot='10'/>
               <varRef name='Q{}ref-node' slot='9'/>
               <varRef name='Q{}instanceXML2' slot='8'/>
              </sequence>
             </first>
             <let line='3234' var='Q{}ifVar' as='xs:string?' slot='12' eval='7'>
              <choose line='766'>
               <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}contains' type='xs:boolean'>
                <varRef line='3234' name='Q{}action-map' slot='0'/>
                <str val='@if'/>
               </ifCall>
               <treat line='767' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='5|0|XTTE0780|xforms:getIfStatement#1'>
                <check card='?' diag='5|0|XTTE0780|xforms:getIfStatement#1'>
                 <cvUntyped to='xs:string' diag='5|0|XTTE0780|xforms:getIfStatement#1'>
                  <data>
                   <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
                    <varRef line='3234' name='Q{}action-map' slot='0'/>
                    <str val='@if'/>
                   </ifCall>
                  </data>
                 </cvUntyped>
                </check>
               </treat>
              </choose>
              <let line='3238' var='Q{}ifExecuted' as='xs:boolean' slot='13' eval='16'>
               <choose line='3240'>
                <and op='and'>
                 <fn name='exists'>
                  <varRef name='Q{}ifVar' slot='12'/>
                 </fn>
                 <fn name='exists'>
                  <varRef name='Q{}context' slot='11'/>
                 </fn>
                </and>
                <treat line='3241' as='xs:boolean' jsTest='return SaxonJS.U.Atomic.boolean.matches(item);' diag='3|0|XTTE0570|ifExecuted'>
                 <check card='1' diag='3|0|XTTE0570|ifExecuted'>
                  <cvUntyped to='xs:boolean' diag='3|0|XTTE0570|ifExecuted'>
                   <data>
                    <evaluate dxns=''>
                     <ufCall role='xpath' name='Q{http://www.w3.org/2002/xforms}impose' tailCall='false' bSlot='4' eval='16'>
                      <check card='1' diag='0|0||xforms:impose'>
                       <varRef name='Q{}ifVar' slot='12'/>
                      </check>
                     </ufCall>
                     <varRef role='cxt' name='Q{}context' slot='11'/>
                     <check role='nsCxt' card='1' diag='4|0|XTTE3170|xsl:evaluate/namespace-context'>
                      <varRef name='Q{}instanceXML2' slot='8'/>
                     </check>
                     <str role='sa' val='no'/>
                     <map role='options' size='0'/>
                     <map role='wp' size='0'/>
                    </evaluate>
                   </data>
                  </cvUntyped>
                 </check>
                </treat>
                <true/>
                <true/>
               </choose>
               <choose line='3251'>
                <varRef name='Q{}ifExecuted' slot='13'/>
                <let line='3252' var='Q{}action-name' as='xs:string' slot='14' eval='16'>
                 <treat as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|action-name'>
                  <check card='1' diag='3|0|XTTE0570|action-name'>
                   <cvUntyped to='xs:string' diag='3|0|XTTE0570|action-name'>
                    <data>
                     <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
                      <varRef name='Q{}action-map' slot='0'/>
                      <str val='name'/>
                     </ifCall>
                    </data>
                   </cvUntyped>
                  </check>
                 </treat>
                 <sequence line='3255'>
                  <choose>
                   <vc op='eq' onEmpty='0' comp='CCC'>
                    <varRef name='Q{}action-name' slot='14'/>
                    <str val='action'/>
                   </vc>
                   <empty/>
                   <vc line='3258' op='eq' onEmpty='0' comp='CCC'>
                    <varRef name='Q{}action-name' slot='14'/>
                    <str val='setvalue'/>
                   </vc>
                   <callT line='3259' name='Q{}action-setvalue' bSlot='5'>
                    <withParam name='Q{}nodeset' flags='t' as='xs:string'>
                     <check line='3260' card='1' diag='8|0|XTTE0590|nodeset'>
                      <varRef name='Q{}ref' slot='3'/>
                     </check>
                    </withParam>
                    <withParam name='Q{}instanceXML' flags='t' as='element()'>
                     <check line='3261' card='1' diag='8|0|XTTE0590|instanceXML'>
                      <varRef name='Q{}instanceXML2' slot='8'/>
                     </check>
                    </withParam>
                   </callT>
                   <vc line='3264' op='eq' onEmpty='0' comp='CCC'>
                    <varRef name='Q{}action-name' slot='14'/>
                    <str val='insert'/>
                   </vc>
                   <callT line='3265' name='Q{}action-insert' bSlot='6'>
                    <withParam name='Q{}nodeset' flags='t' as='xs:string'>
                     <check line='3266' card='1' diag='8|0|XTTE0590|nodeset'>
                      <varRef name='Q{}ref-qualified' slot='6'/>
                     </check>
                    </withParam>
                    <withParam name='Q{}instanceXML' flags='t' as='element()'>
                     <check line='3267' card='1' diag='8|0|XTTE0590|instanceXML'>
                      <varRef name='Q{}instanceXML2' slot='8'/>
                     </check>
                    </withParam>
                   </callT>
                   <vc line='3270' op='eq' onEmpty='0' comp='CCC'>
                    <varRef name='Q{}action-name' slot='14'/>
                    <str val='delete'/>
                   </vc>
                   <callT line='3271' name='Q{}action-delete' bSlot='7'>
                    <withParam name='Q{}nodeset' flags='t' as='xs:string'>
                     <check line='3272' card='1' diag='8|0|XTTE0590|nodeset'>
                      <varRef name='Q{}ref-qualified' slot='6'/>
                     </check>
                    </withParam>
                    <withParam name='Q{}instanceXML' flags='t' as='element()'>
                     <check line='3273' card='1' diag='8|0|XTTE0590|instanceXML'>
                      <varRef name='Q{}instanceXML2' slot='8'/>
                     </check>
                    </withParam>
                   </callT>
                   <vc line='3276' op='eq' onEmpty='0' comp='CCC'>
                    <varRef name='Q{}action-name' slot='14'/>
                    <str val='setindex'/>
                   </vc>
                   <callT line='3277' name='Q{}action-setindex' bSlot='8'/>
                   <vc line='3282' op='eq' onEmpty='0' comp='CCC'>
                    <varRef name='Q{}action-name' slot='14'/>
                    <str val='setfocus'/>
                   </vc>
                   <callT line='3283' name='Q{}action-setfocus' bSlot='9'/>
                   <vc line='3288' op='eq' onEmpty='0' comp='CCC'>
                    <varRef name='Q{}action-name' slot='14'/>
                    <str val='rebuild'/>
                   </vc>
                   <callT line='3289' name='Q{}xforms-rebuild' bSlot='10'/>
                   <vc line='3291' op='eq' onEmpty='0' comp='CCC'>
                    <varRef name='Q{}action-name' slot='14'/>
                    <str val='recalculate'/>
                   </vc>
                   <callT line='3292' name='Q{}xforms-recalculate' bSlot='11'/>
                   <vc line='3300' op='eq' onEmpty='0' comp='CCC'>
                    <varRef name='Q{}action-name' slot='14'/>
                    <str val='reset'/>
                   </vc>
                   <callT line='3301' name='Q{}action-reset' bSlot='12'/>
                   <vc line='3306' op='eq' onEmpty='0' comp='CCC'>
                    <varRef name='Q{}action-name' slot='14'/>
                    <str val='send'/>
                   </vc>
                   <callT line='3307' name='Q{}action-send' bSlot='13'/>
                   <vc line='3309' op='eq' onEmpty='0' comp='CCC'>
                    <varRef name='Q{}action-name' slot='14'/>
                    <str val='message'/>
                   </vc>
                   <callT line='3310' name='Q{}action-message' bSlot='14'/>
                   <true/>
                   <message line='3313'>
                    <sequence role='select'>
                     <valueOf>
                      <str val='[applyActions] action &#39;'/>
                     </valueOf>
                     <valueOf>
                      <varRef name='Q{}action-name' slot='14'/>
                     </valueOf>
                     <valueOf>
                      <str val='&#39; not yet handled!'/>
                     </valueOf>
                    </sequence>
                    <str role='terminate' val='no'/>
                    <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
                   </message>
                  </choose>
                  <forEach line='3322'>
                   <ifCall line='3318' name='Q{http://www.w3.org/2005/xpath-functions/array}flatten' type='item()*'>
                    <treat as='array(map(*))' jsTest='function v(item) {return SaxonJS.U.isMap(item)};function c(n) {return n==1;};return SaxonJS.U.isArray(item) &amp;&amp; SaxonJS.U.ForArray(item.value).every(function(seq){return c(seq.length) &amp;&amp; SaxonJS.U.ForArray(seq).every(v)});' diag='3|0|XTTE0570|nested-actions-array'>
                     <check card='?' diag='3|0|XTTE0570|nested-actions-array'>
                      <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
                       <varRef name='Q{}action-map' slot='0'/>
                       <str val='nested-actions'/>
                      </ifCall>
                     </check>
                    </treat>
                   </ifCall>
                   <callT line='3323' name='Q{}applyActions' bSlot='15'>
                    <withParam name='Q{}action-map' flags='t' as='item()'>
                     <dot line='3324'/>
                    </withParam>
                   </callT>
                  </forEach>
                 </sequence>
                </let>
               </choose>
              </let>
             </let>
            </let>
           </let>
          </let>
         </let>
        </let>
       </let>
      </let>
     </let>
    </let>
   </sequence>
  </template>
 </co>
 <co id='24' binds='24'>
  <mode name='Q{}insert-node' onNo='TC' flags='W' patternSlots='0'>
   <templateRule prec='0' prio='-0.5' seq='21' rank='0' minImp='0' slots='3' flags='s' line='1901' module='saxon-xforms.xsl'>
    <p.nodeTest role='match' test='element()' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1;'/>
    <sequence role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='1902'>
     <param name='Q{}insert-node-location' slot='0' flags='ti' as='node()'>
      <treat role='conversion' as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='8|0|XTTE0590|insert-node-location'>
       <check card='1' diag='8|0|XTTE0590|insert-node-location'>
        <supplied slot='0'/>
       </check>
      </treat>
     </param>
     <param line='1903' name='Q{}node-to-insert' slot='1' flags='ti' as='node()'>
      <treat role='conversion' as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='8|0|XTTE0590|node-to-insert'>
       <check card='1' diag='8|0|XTTE0590|node-to-insert'>
        <supplied slot='1'/>
       </check>
      </treat>
     </param>
     <param line='1904' name='Q{}position-relative' slot='2' flags='t' as='xs:string?'>
      <str role='select' val='after'/>
      <treat role='conversion' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='8|0|XTTE0590|position-relative'>
       <check card='?' diag='8|0|XTTE0590|position-relative'>
        <cvUntyped to='xs:string' diag='8|0|XTTE0590|position-relative'>
         <data>
          <supplied slot='2'/>
         </data>
        </cvUntyped>
       </check>
      </treat>
     </param>
     <choose line='1907'>
      <and op='and'>
       <is op='is'>
        <dot type='element()'/>
        <varRef name='Q{}insert-node-location' slot='0'/>
       </is>
       <vc op='eq' onEmpty='0' comp='CCC'>
        <varRef name='Q{}position-relative' slot='2'/>
        <str val='before'/>
       </vc>
      </and>
      <copyOf line='1909' flags='vc'>
       <varRef name='Q{}node-to-insert' slot='1'/>
      </copyOf>
     </choose>
     <copy line='1912' flags='cin'>
      <sequence role='content'>
       <copyOf flags='vc'>
        <axis name='attribute' nodeTest='attribute()' jsTest='return SaxonJS.U.isAttr(item)'/>
       </copyOf>
       <choose line='1917'>
        <and op='and'>
         <is op='is'>
          <dot type='element()'/>
          <varRef name='Q{}insert-node-location' slot='0'/>
         </is>
         <vc op='eq' onEmpty='0' comp='CCC'>
          <varRef name='Q{}position-relative' slot='2'/>
          <str val='child'/>
         </vc>
        </and>
        <copyOf line='1918' flags='vc'>
         <varRef name='Q{}node-to-insert' slot='1'/>
        </copyOf>
       </choose>
       <applyT line='1920' mode='Q{}insert-node' bSlot='0'>
        <axis role='select' name='child' nodeTest='node()' jsTest='return SaxonJS.U.isNode(item);'/>
       </applyT>
      </sequence>
     </copy>
     <choose line='1922'>
      <and op='and'>
       <is op='is'>
        <dot type='element()'/>
        <varRef name='Q{}insert-node-location' slot='0'/>
       </is>
       <vc op='eq' onEmpty='0' comp='CCC'>
        <varRef name='Q{}position-relative' slot='2'/>
        <str val='after'/>
       </vc>
      </and>
      <copyOf line='1923' flags='vc'>
       <varRef name='Q{}node-to-insert' slot='1'/>
      </copyOf>
     </choose>
    </sequence>
   </templateRule>
  </mode>
 </co>
 <co id='58' binds=''>
  <function name='Q{http://www.w3.org/2002/xforms}hasClass' line='2580' module='saxon-xforms.xsl' eval='16' flags='pU' as='xs:boolean' slots='2'>
   <arg name='Q{}element' as='element()'/>
   <arg name='Q{}string' as='xs:string'/>
   <gc role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='2584' op='=' card='N:1' comp='CCC'>
    <fn name='tokenize'>
     <cvUntyped to='xs:string' diag='3|0|XTTE0570|class'>
      <data>
       <slash simple='1'>
        <varRef name='Q{}element' slot='0'/>
        <axis name='attribute' nodeTest='attribute(Q{}class)' jsTest='return item.name===&#39;class&#39;'/>
       </slash>
      </data>
     </cvUntyped>
    </fn>
    <varRef line='2587' name='Q{}string' slot='1'/>
   </gc>
  </function>
 </co>
 <co id='59' binds=''>
  <globalParam name='Q{}xforms-instance-id' type='xs:string' line='69' module='saxon-xforms.xsl' visibility='PUBLIC' jsAcceptor='return SaxonJS.U.Atomic.string.cast(val);' jsCardCheck='function c(n) {return n==1;};'>
   <str val='xforms-jinstance'/>
  </globalParam>
 </co>
 <co id='60' binds=''>
  <function name='Q{http://www.w3.org/2002/xforms}getIfStatement' line='763' module='saxon-xforms.xsl' eval='7' flags='pU' as='xs:string?' slots='1'>
   <arg name='Q{}map' as='map(*)'/>
   <choose role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='766'>
    <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}contains' type='xs:boolean'>
     <varRef name='Q{}map' slot='0'/>
     <str val='@if'/>
    </ifCall>
    <treat line='767' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='5|0|XTTE0780|xforms:getIfStatement#1'>
     <check card='?' diag='5|0|XTTE0780|xforms:getIfStatement#1'>
      <cvUntyped to='xs:string' diag='5|0|XTTE0780|xforms:getIfStatement#1'>
       <data>
        <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
         <varRef name='Q{}map' slot='0'/>
         <str val='@if'/>
        </ifCall>
       </data>
      </cvUntyped>
     </check>
    </treat>
   </choose>
  </function>
 </co>
 <co id='61' binds=''>
  <function name='Q{http://www.w3.org/2002/xforms}getClass' line='2601' module='saxon-xforms.xsl' eval='7' flags='pU' as='attribute(Q{}class)?' slots='3'>
   <arg name='Q{}element' as='element()'/>
   <let role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='2604' var='Q{}class' as='xs:string?' slot='1' eval='7'>
    <choose line='2605'>
     <fn name='exists'>
      <slash simple='1'>
       <varRef name='Q{}element' slot='0'/>
       <axis name='attribute' nodeTest='attribute(Q{}class)' jsTest='return item.name===&#39;class&#39;'/>
      </slash>
     </fn>
     <cvUntyped line='2606' to='xs:string' diag='3|0|XTTE0570|class'>
      <cast as='xs:untypedAtomic' emptiable='0'>
       <fn name='string'>
        <convert from='xs:untypedAtomic' to='xs:string'>
         <data>
          <slash simple='1'>
           <varRef name='Q{}element' slot='0'/>
           <axis name='attribute' nodeTest='attribute(Q{}class)' jsTest='return item.name===&#39;class&#39;'/>
          </slash>
         </data>
        </convert>
       </fn>
      </cast>
     </cvUntyped>
    </choose>
    <let line='2609' var='Q{}class-mod' as='xs:string?' slot='2' eval='7'>
     <choose line='2611'>
      <fn name='exists'>
       <slash simple='1'>
        <varRef name='Q{}element' slot='0'/>
        <axis name='attribute' nodeTest='attribute(Q{}incremental)' jsTest='return item.name===&#39;incremental&#39;'/>
       </slash>
      </fn>
      <cvUntyped line='2612' to='xs:string' diag='3|0|XTTE0570|class-mod'>
       <cast as='xs:untypedAtomic' emptiable='0'>
        <fn name='string-join'>
         <sequence>
          <varRef name='Q{}class' slot='1'/>
          <str val='incremental'/>
         </sequence>
         <str val=' '/>
        </fn>
       </cast>
      </cvUntyped>
      <true/>
      <varRef line='2615' name='Q{}class' slot='1'/>
     </choose>
     <choose line='2619'>
      <fn name='exists'>
       <varRef name='Q{}class-mod' slot='2'/>
      </fn>
      <treat line='2620' as='attribute(Q{}class)' jsTest='return item.name===&#39;class&#39;' diag='5|0|XTTE0780|xforms:getClass#1'>
       <att name='class'>
        <varRef name='Q{}class-mod' slot='2'/>
       </att>
      </treat>
     </choose>
    </let>
   </let>
  </function>
 </co>
 <co id='62' binds='22 43 63 64 65'>
  <template name='Q{}refreshRepeats-JS' flags='os' line='3051' module='saxon-xforms.xsl' slots='8'>
   <sequence role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='3053'>
    <message>
     <valueOf role='select'>
      <str val='[refreshRepeats-JS] START refreshRepeats'/>
     </valueOf>
     <str role='terminate' val='no'/>
     <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
    </message>
    <let line='3056' var='Q{}repeat-keys' as='item()?' slot='0' eval='8'>
     <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
      <check card='1' diag='0|0||ixsl:call'>
       <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
      </check>
      <str val='getRepeatKeys'/>
      <array size='0'/>
     </ifCall>
     <forEach line='3058'>
      <varRef name='Q{}repeat-keys' slot='0'/>
      <let line='3059' var='Q{}this-key' as='xs:string' slot='1' eval='16'>
       <treat as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|this-key'>
        <check card='1' diag='3|0|XTTE0570|this-key'>
         <cvUntyped to='xs:string' diag='3|0|XTTE0570|this-key'>
          <data>
           <dot/>
          </data>
         </cvUntyped>
        </check>
       </treat>
       <let line='3060' var='Q{}this-repeat-nodeset' as='xs:string' slot='2' eval='16'>
        <treat as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|this-repeat-nodeset'>
         <check card='1' diag='3|0|XTTE0570|this-repeat-nodeset'>
          <cvUntyped to='xs:string' diag='3|0|XTTE0570|this-repeat-nodeset'>
           <data>
            <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
             <check card='1' diag='0|0||ixsl:call'>
              <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
             </check>
             <str val='getRepeat'/>
             <arrayBlock>
              <varRef name='Q{}this-key' slot='1'/>
             </arrayBlock>
            </ifCall>
           </data>
          </cvUntyped>
         </check>
        </treat>
        <sequence line='3062'>
         <message>
          <sequence role='select'>
           <valueOf>
            <str val='[refreshRepeats-JS] Refreshing repeat ID = &#39;'/>
           </valueOf>
           <varRef name='Q{}this-key' slot='1'/>
           <valueOf flags='S'>
            <str val='&#39;'/>
           </valueOf>
          </sequence>
          <str role='terminate' val='no'/>
          <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
         </message>
         <let line='3073' var='Q{}contexti' as='element()?' slot='3' eval='7'>
          <ufCall line='3074' name='Q{http://www.w3.org/2002/xforms}instance' tailCall='false' bSlot='0' eval='16'>
           <check line='3066' card='1' diag='3|0|XTTE0570|this-instance-id'>
            <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
             <ufCall name='Q{http://www.w3.org/2002/xforms}getInstanceMap' tailCall='false' bSlot='1' eval='6'>
              <varRef name='Q{}this-repeat-nodeset' slot='2'/>
             </ufCall>
             <str val='instance-id'/>
            </ifCall>
           </check>
          </ufCall>
          <let line='3081' var='Q{}namespace-context-item' as='element()' slot='4' eval='16'>
           <choose>
            <fn name='exists'>
             <varRef name='Q{}contexti' slot='3'/>
            </fn>
            <check card='1' diag='3|0|XTTE0570|namespace-context-item'>
             <varRef name='Q{}contexti' slot='3'/>
            </check>
            <true/>
            <treat as='element()' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1;' diag='3|0|XTTE0570|namespace-context-item'>
             <check card='1' diag='3|0|XTTE0570|namespace-context-item'>
              <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
               <check card='1' diag='0|0||ixsl:call'>
                <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
               </check>
               <str val='getXForm'/>
               <array size='0'/>
              </ifCall>
             </check>
            </treat>
           </choose>
           <let line='3083' var='Q{}page-element' as='element()?' slot='5' eval='7'>
            <check card='?' diag='3|0|XTTE0570|page-element'>
             <filter flags='b'>
              <slash simple='1'>
               <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}page' type='document-node()?'/>
               <axis name='descendant' nodeTest='element()' jsTest='return item.nodeType===1;'/>
              </slash>
              <vc op='eq' onEmpty='0' comp='CCC'>
               <cast as='xs:string' emptiable='1'>
                <attVal name='Q{}id' chk='0'/>
               </cast>
               <varRef name='Q{}this-key' slot='1'/>
              </vc>
             </filter>
            </check>
            <choose line='3086'>
             <fn name='exists'>
              <varRef name='Q{}page-element' slot='5'/>
             </fn>
             <let line='3087' var='Q{}instance-keys' as='item()?' slot='6' eval='8'>
              <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
               <check card='1' diag='0|0||ixsl:call'>
                <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
               </check>
               <str val='getInstanceKeys'/>
               <array size='0'/>
              </ifCall>
              <let line='3088' var='Q{}instances' as='map(xs:string, element())' slot='7' eval='16'>
               <treat line='3090' as='map(xs:string, element())' jsTest='function k(item) {return SaxonJS.U.Atomic.string.matches(item);};function v(item) {return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1;};function c(n) {return n==1;};return SaxonJS.U.isMap(item) &amp;&amp; item.conforms(k, v, c);' diag='3|0|XTTE0570|instances'>
                <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}merge' type='map(*)'>
                 <forEach>
                  <varRef name='Q{}instance-keys' slot='6'/>
                  <ifCall line='3091' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
                   <atomSing diag='0|0||map:entry'>
                    <dot/>
                   </atomSing>
                   <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
                    <check card='1' diag='0|0||ixsl:call'>
                     <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
                    </check>
                    <str val='getInstance'/>
                    <arrayBlock>
                     <dot/>
                    </arrayBlock>
                   </ifCall>
                  </ifCall>
                 </forEach>
                 <map size='2'>
                  <str val='duplicates'/>
                  <str val='reject'/>
                  <str val='duplicates-error-code'/>
                  <str val='XTDE3365'/>
                 </map>
                </ifCall>
               </treat>
               <resultDoc line='3095' global='#&#xD;&#xA;#Sat Mar 14 13:02:55 GMT 2020&#xD;&#xA;indent=no&#xD;&#xA;doctype-system=http\://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&#xD;&#xA;encoding=utf-8&#xD;&#xA;doctype-public=-//W3C//DTD XHTML 1.0 Transitional//EN&#xD;&#xA;omit-xml-declaration=no&#xD;&#xA;method=html&#xD;&#xA;' local='#&#xD;&#xA;#Sat Mar 14 13:02:55 GMT 2020&#xD;&#xA;method={http\://saxonica.com/ns/interactiveXSLT}replace-content&#xD;&#xA;'>
                <fn role='href' name='concat'>
                 <str val='#'/>
                 <varRef name='Q{}this-key' slot='1'/>
                </fn>
                <applyT role='content' line='3096' bSlot='2'>
                 <filter role='select' flags='b'>
                  <slash simple='1'>
                   <gVarRef name='Q{}xforms-doc' bSlot='3'/>
                   <axis name='descendant' nodeTest='element(Q{http://www.w3.org/2002/xforms}repeat)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;repeat&#39;;'/>
                  </slash>
                  <vc op='eq' onEmpty='0' comp='CCC'>
                   <ufCall name='Q{http://www.w3.org/2002/xforms}getDataRef' tailCall='false' bSlot='4' eval='16 0'>
                    <dot type='element(Q{http://www.w3.org/2002/xforms}repeat)'/>
                    <str val=''/>
                   </ufCall>
                   <varRef name='Q{}this-repeat-nodeset' slot='2'/>
                  </vc>
                 </filter>
                 <withParam name='Q{}recalculate' as='xs:boolean'>
                  <true/>
                 </withParam>
                 <withParam name='Q{}refreshRepeats' as='xs:boolean'>
                  <true/>
                 </withParam>
                 <withParam name='Q{}instances' flags='t' as='map(xs:string, element())'>
                  <varRef line='3097' name='Q{}instances' slot='7'/>
                 </withParam>
                </applyT>
               </resultDoc>
              </let>
             </let>
            </choose>
           </let>
          </let>
         </let>
        </sequence>
       </let>
      </let>
     </forEach>
    </let>
   </sequence>
  </template>
 </co>
 <co id='55' binds='23 22 43 43'>
  <template name='Q{}refreshOutputs-JS' flags='os' line='2972' module='saxon-xforms.xsl' slots='8'>
   <let role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='2979' var='Q{}output-keys' as='item()?' slot='0' eval='8'>
    <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
     <check card='1' diag='0|0||ixsl:call'>
      <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
     </check>
     <str val='getOutputKeys'/>
     <array size='0'/>
    </ifCall>
    <forEach line='2981'>
     <varRef name='Q{}output-keys' slot='0'/>
     <let line='2982' var='Q{}this-key' as='xs:string' slot='1' eval='16'>
      <treat as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|this-key'>
       <check card='1' diag='3|0|XTTE0570|this-key'>
        <cvUntyped to='xs:string' diag='3|0|XTTE0570|this-key'>
         <data>
          <dot/>
         </data>
        </cvUntyped>
       </check>
      </treat>
      <let line='2983' var='Q{}this-output' as='map(*)' slot='2' eval='16'>
       <treat as='map(*)' jsTest='return SaxonJS.U.isMap(item)' diag='3|0|XTTE0570|this-output'>
        <check card='1' diag='3|0|XTTE0570|this-output'>
         <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
          <check card='1' diag='0|0||ixsl:call'>
           <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
          </check>
          <str val='getOutput'/>
          <arrayBlock>
           <varRef name='Q{}this-key' slot='1'/>
          </arrayBlock>
         </ifCall>
        </check>
       </treat>
       <sequence line='2985'>
        <message>
         <sequence role='select'>
          <valueOf>
           <str val='[refreshOutputs-JS] Refreshing output ID = &#39;'/>
          </valueOf>
          <varRef name='Q{}this-key' slot='1'/>
          <valueOf flags='S'>
           <str val='&#39;'/>
          </valueOf>
         </sequence>
         <str role='terminate' val='no'/>
         <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
        </message>
        <let line='3002' var='Q{}xpath-mod' as='xs:string' slot='3' eval='16'>
         <ufCall name='Q{http://www.w3.org/2002/xforms}impose' tailCall='false' bSlot='0' eval='16'>
          <choose line='2990'>
           <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
            <varRef name='Q{}this-output' slot='2'/>
            <str val='@value'/>
           </ifCall>
           <treat line='2991' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|xpath'>
            <check card='1' diag='3|0|XTTE0570|xpath'>
             <cvUntyped to='xs:string' diag='3|0|XTTE0570|xpath'>
              <data>
               <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
                <varRef name='Q{}this-output' slot='2'/>
                <str val='@value'/>
               </ifCall>
              </data>
             </cvUntyped>
            </check>
           </treat>
           <ifCall line='2993' name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
            <varRef name='Q{}this-output' slot='2'/>
            <str val='@ref'/>
           </ifCall>
           <treat line='2994' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|xpath'>
            <check card='1' diag='3|0|XTTE0570|xpath'>
             <cvUntyped to='xs:string' diag='3|0|XTTE0570|xpath'>
              <data>
               <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
                <varRef name='Q{}this-output' slot='2'/>
                <str val='@ref'/>
               </ifCall>
              </data>
             </cvUntyped>
            </check>
           </treat>
           <true/>
           <str val=''/>
          </choose>
         </ufCall>
         <sequence line='3004'>
          <message>
           <sequence role='select'>
            <valueOf>
             <str val='[refreshOutputs-JS] $xpath-mod = &#39;'/>
            </valueOf>
            <varRef name='Q{}xpath-mod' slot='3'/>
            <valueOf flags='S'>
             <str val='&#39;'/>
            </valueOf>
           </sequence>
           <str role='terminate' val='no'/>
           <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
          </message>
          <let line='3020' var='Q{}contexti' as='element()?' slot='4' eval='7'>
           <ufCall line='3021' name='Q{http://www.w3.org/2002/xforms}instance' tailCall='false' bSlot='1' eval='16'>
            <check line='3008' card='1' diag='3|0|XTTE0570|this-instance-id'>
             <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
              <choose>
               <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}contains' type='xs:boolean'>
                <varRef name='Q{}this-output' slot='2'/>
                <str val='@ref'/>
               </ifCall>
               <ufCall line='3010' name='Q{http://www.w3.org/2002/xforms}getInstanceMap' tailCall='false' bSlot='2' eval='16'>
                <treat as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='0|0||xforms:getInstanceMap'>
                 <check card='1' diag='0|0||xforms:getInstanceMap'>
                  <cvUntyped to='xs:string'>
                   <data>
                    <ifCall line='3009' name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
                     <varRef name='Q{}this-output' slot='2'/>
                     <str val='@ref'/>
                    </ifCall>
                   </data>
                  </cvUntyped>
                 </check>
                </treat>
               </ufCall>
               <true/>
               <ufCall line='3013' name='Q{http://www.w3.org/2002/xforms}getInstanceMap' tailCall='false' bSlot='3' eval='0'>
                <str val='saxon-forms-default'/>
               </ufCall>
              </choose>
              <str val='instance-id'/>
             </ifCall>
            </check>
           </ufCall>
           <let line='3028' var='Q{}namespace-context-item' as='element()' slot='5' eval='16'>
            <choose>
             <fn name='exists'>
              <varRef name='Q{}contexti' slot='4'/>
             </fn>
             <check card='1' diag='3|0|XTTE0570|namespace-context-item'>
              <varRef name='Q{}contexti' slot='4'/>
             </check>
             <true/>
             <treat as='element()' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1;' diag='3|0|XTTE0570|namespace-context-item'>
              <check card='1' diag='3|0|XTTE0570|namespace-context-item'>
               <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
                <check card='1' diag='0|0||ixsl:call'>
                 <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
                </check>
                <str val='getXForm'/>
                <array size='0'/>
               </ifCall>
              </check>
             </treat>
            </choose>
            <let line='3030' var='Q{}value' as='xs:string?' slot='6' eval='7'>
             <treat line='3031' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|value'>
              <check card='?' diag='3|0|XTTE0570|value'>
               <cvUntyped to='xs:string' diag='3|0|XTTE0570|value'>
                <data>
                 <evaluate dxns=''>
                  <varRef role='xpath' name='Q{}xpath-mod' slot='3'/>
                  <varRef role='cxt' name='Q{}contexti' slot='4'/>
                  <varRef role='nsCxt' name='Q{}namespace-context-item' slot='5'/>
                  <str role='sa' val='no'/>
                  <map role='options' size='0'/>
                  <map role='wp' size='0'/>
                 </evaluate>
                </data>
               </cvUntyped>
              </check>
             </treat>
             <let line='3034' var='Q{}associated-form-control' as='element()?' slot='7' eval='7'>
              <check card='?' diag='3|0|XTTE0570|associated-form-control'>
               <filter flags='b'>
                <slash simple='1'>
                 <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}page' type='document-node()?'/>
                 <axis name='descendant' nodeTest='element()' jsTest='return item.nodeType===1;'/>
                </slash>
                <vc op='eq' onEmpty='0' comp='CCC'>
                 <cast as='xs:string' emptiable='1'>
                  <attVal name='Q{}id' chk='0'/>
                 </cast>
                 <varRef name='Q{}this-key' slot='1'/>
                </vc>
               </filter>
              </check>
              <choose line='3037'>
               <fn name='exists'>
                <varRef name='Q{}associated-form-control' slot='7'/>
               </fn>
               <resultDoc line='3038' global='#&#xD;&#xA;#Sat Mar 14 13:02:55 GMT 2020&#xD;&#xA;indent=no&#xD;&#xA;doctype-system=http\://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&#xD;&#xA;encoding=utf-8&#xD;&#xA;doctype-public=-//W3C//DTD XHTML 1.0 Transitional//EN&#xD;&#xA;omit-xml-declaration=no&#xD;&#xA;method=html&#xD;&#xA;' local='#&#xD;&#xA;#Sat Mar 14 13:02:55 GMT 2020&#xD;&#xA;method={http\://saxonica.com/ns/interactiveXSLT}replace-content&#xD;&#xA;'>
                <fn role='href' name='concat'>
                 <str val='#'/>
                 <varRef name='Q{}this-key' slot='1'/>
                </fn>
                <valueOf role='content' line='3039'>
                 <varRef name='Q{}value' slot='6'/>
                </valueOf>
               </resultDoc>
              </choose>
             </let>
            </let>
           </let>
          </let>
         </sequence>
        </let>
       </sequence>
      </let>
     </let>
    </forEach>
   </let>
  </template>
 </co>
 <co id='51' binds='66'>
  <template name='Q{}xforms-focus' flags='os' line='3773' module='saxon-xforms.xsl' slots='5'>
   <sequence role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='3774'>
    <param name='Q{}control' slot='0' flags='i' as='xs:string'>
     <treat role='conversion' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='8|0|XTTE0590|control'>
      <check card='1' diag='8|0|XTTE0590|control'>
       <cvUntyped to='xs:string' diag='8|0|XTTE0590|control'>
        <data>
         <supplied slot='0'/>
        </data>
       </cvUntyped>
      </check>
     </treat>
    </param>
    <let line='3775' var='Q{}xforms-control' as='element()' slot='1' eval='16'>
     <check card='1' diag='3|0|XTTE0570|xforms-control'>
      <filter flags='b'>
       <gVarRef name='Q{http://saxon.sf.net/generated-variable}gg334130099' bSlot='0'/>
       <vc op='eq' onEmpty='0' comp='CCC'>
        <cast as='xs:string' emptiable='1'>
         <attVal name='Q{}id' chk='0'/>
        </cast>
        <varRef name='Q{}control' slot='0'/>
       </vc>
      </filter>
     </check>
     <choose line='3780'>
      <fn name='exists'>
       <slash simple='1'>
        <varRef name='Q{}xforms-control' slot='1'/>
        <axis name='ancestor' nodeTest='element(Q{http://www.w3.org/2002/xforms}repeat)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;repeat&#39;;'/>
       </slash>
      </fn>
      <let line='3784' var='Q{http://saxon.sf.net/generated-variable}v0' as='item()' slot='2' eval='13'>
       <check card='1' diag='0|0||ixsl:call'>
        <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
       </check>
       <let line='3781' var='Q{}context-indexes' as='xs:double*' slot='3' eval='8'>
        <convert line='3782' from='xs:anyAtomicType' to='xs:double' flags='p' diag='3|0|XTTE0570|context-indexes'>
         <cvUntyped to='xs:double' diag='3|0|XTTE0570|context-indexes'>
          <data>
           <forEach>
            <sort>
             <slash role='select'>
              <varRef name='Q{}xforms-control' slot='1'/>
              <fn name='reverse'>
               <axis name='ancestor' nodeTest='element(Q{http://www.w3.org/2002/xforms}repeat)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;repeat&#39;;'/>
              </fn>
             </slash>
             <sortKey line='3783' comp='DESC|NC11'>
              <fn role='select' name='position'/>
              <str role='order' val='descending'/>
              <str role='dataType' val='number'/>
              <str role='lang' val=''/>
              <str role='caseOrder' val='#default'/>
              <str role='stable' val='yes'/>
              <str role='collation' val='http://www.w3.org/2005/xpath-functions/collation/codepoint'/>
             </sortKey>
            </sort>
            <ifCall line='3784' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
             <varRef name='Q{http://saxon.sf.net/generated-variable}v0' slot='2'/>
             <str val='getRepeatIndex'/>
             <arrayBlock>
              <cast as='xs:string' emptiable='1'>
               <attVal name='Q{}id' chk='0'/>
              </cast>
             </arrayBlock>
            </ifCall>
           </forEach>
          </data>
         </cvUntyped>
        </convert>
        <let line='3788' var='Q{}control-index' as='xs:string' slot='4' eval='8'>
         <fn name='string-join'>
          <varRef name='Q{}context-indexes' slot='3'/>
          <str val='.'/>
         </fn>
         <sequence line='3789'>
          <message>
           <sequence role='select'>
            <valueOf>
             <str val='[xforms-focus] Control &#39;'/>
            </valueOf>
            <varRef name='Q{}control' slot='0'/>
            <valueOf>
             <str val='&#39; has index &#39;'/>
            </valueOf>
            <varRef name='Q{}control-index' slot='4'/>
            <valueOf flags='S'>
             <str val='&#39;'/>
            </valueOf>
           </sequence>
           <str role='terminate' val='no'/>
           <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
          </message>
          <ifCall line='3790' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
           <check card='1' diag='0|0||ixsl:call'>
            <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
           </check>
           <str val='setFocus'/>
           <arrayBlock>
            <fn name='concat'>
             <varRef name='Q{}control' slot='0'/>
             <str val='-'/>
             <varRef name='Q{}control-index' slot='4'/>
            </fn>
           </arrayBlock>
          </ifCall>
         </sequence>
        </let>
       </let>
      </let>
      <true/>
      <ifCall line='3793' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
       <check card='1' diag='0|0||ixsl:call'>
        <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
       </check>
       <str val='setFocus'/>
       <arrayBlock>
        <varRef name='Q{}control' slot='0'/>
       </arrayBlock>
      </ifCall>
     </choose>
    </let>
   </sequence>
  </template>
 </co>
 <co id='41' binds='54'>
  <function name='Q{http://www.w3.org/2002/xforms}checkRelevantFields' line='606' module='saxon-xforms.xsl' eval='8' flags='pU' as='item()*' slots='13'>
   <arg name='Q{}refElement' as='xs:string'/>
   <let role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='609' var='Q{}pendingUpdatesi' as='map(xs:string, xs:string)?' slot='1' eval='7'>
    <treat as='map(xs:string, xs:string)' jsTest='function k(item) {return SaxonJS.U.Atomic.string.matches(item);};function v(item) {return SaxonJS.U.Atomic.string.matches(item);};function c(n) {return n==1;};return SaxonJS.U.isMap(item) &amp;&amp; item.conforms(k, v, c);' diag='3|0|XTTE0570|pendingUpdatesi'>
     <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
      <check card='1' diag='0|0||ixsl:call'>
       <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
      </check>
      <str val='getPendingUpdates'/>
      <array size='0'/>
     </ifCall>
    </treat>
    <let line='612' var='Q{}updatesi' as='map(xs:string, xs:string)?' slot='2' eval='7'>
     <treat as='map(xs:string, xs:string)' jsTest='function k(item) {return SaxonJS.U.Atomic.string.matches(item);};function v(item) {return SaxonJS.U.Atomic.string.matches(item);};function c(n) {return n==1;};return SaxonJS.U.isMap(item) &amp;&amp; item.conforms(k, v, c);' diag='3|0|XTTE0570|updatesi'>
      <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
       <check card='1' diag='0|0||ixsl:call'>
        <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
       </check>
       <str val='getUpdates'/>
       <array size='0'/>
      </ifCall>
     </treat>
     <let line='615' var='Q{}relevantMap' as='map(xs:string, xs:string)' slot='3' eval='16'>
      <treat as='map(xs:string, xs:string)' jsTest='function k(item) {return SaxonJS.U.Atomic.string.matches(item);};function v(item) {return SaxonJS.U.Atomic.string.matches(item);};function c(n) {return n==1;};return SaxonJS.U.isMap(item) &amp;&amp; item.conforms(k, v, c);' diag='3|0|XTTE0570|relevantMap'>
       <check card='1' diag='3|0|XTTE0570|relevantMap'>
        <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
         <check card='1' diag='0|0||ixsl:call'>
          <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
         </check>
         <str val='getRelevantMap'/>
         <array size='0'/>
        </ifCall>
       </check>
      </treat>
      <let line='616' var='Q{}mapKeys' as='xs:anyAtomicType*' slot='4' eval='4'>
       <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}keys' type='xs:anyAtomicType*'>
        <varRef name='Q{}relevantMap' slot='3'/>
       </ifCall>
       <sequence line='646'>
        <forEach>
         <sequence line='619'>
          <forEach>
           <varRef name='Q{}mapKeys' slot='4'/>
           <choose line='620'>
            <fn name='matches'>
             <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
              <varRef name='Q{}relevantMap' slot='3'/>
              <dot type='xs:anyAtomicType'/>
             </ifCall>
             <varRef name='Q{}refElement' slot='0'/>
             <str val=''/>
            </fn>
            <dot line='621' type='xs:anyAtomicType'/>
           </choose>
          </forEach>
          <forEach line='610'>
           <choose>
            <fn name='exists'>
             <varRef name='Q{}pendingUpdatesi' slot='1'/>
            </fn>
            <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}keys' type='xs:anyAtomicType*'>
             <check card='1' diag='0|0||map:keys'>
              <varRef name='Q{}pendingUpdatesi' slot='1'/>
             </check>
            </ifCall>
           </choose>
           <let line='627' var='Q{}keyi' as='xs:string?' slot='5' eval='7'>
            <lastOf>
             <fn name='tokenize'>
              <treat as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='0|0||fn:tokenize'>
               <cvUntyped to='xs:string'>
                <dot type='xs:anyAtomicType'/>
               </cvUntyped>
              </treat>
              <str val='/'/>
              <str val=''/>
             </fn>
            </lastOf>
            <let line='629' var='Q{http://saxon.sf.net/generated-variable}v0' as='xs:string' slot='6' eval='13'>
             <check card='1' diag='0|1||fn:matches'>
              <varRef name='Q{}keyi' slot='5'/>
             </check>
             <forEach line='628'>
              <varRef name='Q{}mapKeys' slot='4'/>
              <choose line='629'>
               <fn name='matches'>
                <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
                 <varRef name='Q{}relevantMap' slot='3'/>
                 <dot type='xs:anyAtomicType'/>
                </ifCall>
                <varRef name='Q{http://saxon.sf.net/generated-variable}v0' slot='6'/>
                <str val=''/>
               </fn>
               <dot line='630' type='xs:anyAtomicType'/>
              </choose>
             </forEach>
            </let>
           </let>
          </forEach>
          <forEach line='613'>
           <choose>
            <fn name='exists'>
             <varRef name='Q{}updatesi' slot='2'/>
            </fn>
            <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}keys' type='xs:anyAtomicType*'>
             <check card='1' diag='0|0||map:keys'>
              <varRef name='Q{}updatesi' slot='2'/>
             </check>
            </ifCall>
           </choose>
           <let line='636' var='Q{}keyi' as='xs:string?' slot='7' eval='7'>
            <lastOf>
             <fn name='tokenize'>
              <treat as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='0|0||fn:tokenize'>
               <cvUntyped to='xs:string'>
                <dot type='xs:anyAtomicType'/>
               </cvUntyped>
              </treat>
              <str val='/'/>
              <str val=''/>
             </fn>
            </lastOf>
            <let line='638' var='Q{http://saxon.sf.net/generated-variable}v1' as='xs:string' slot='8' eval='13'>
             <check card='1' diag='0|1||fn:matches'>
              <varRef name='Q{}keyi' slot='7'/>
             </check>
             <forEach line='637'>
              <varRef name='Q{}mapKeys' slot='4'/>
              <choose line='638'>
               <fn name='matches'>
                <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
                 <varRef name='Q{}relevantMap' slot='3'/>
                 <dot type='xs:anyAtomicType'/>
                </ifCall>
                <varRef name='Q{http://saxon.sf.net/generated-variable}v1' slot='8'/>
                <str val=''/>
               </fn>
               <dot line='639' type='xs:anyAtomicType'/>
              </choose>
             </forEach>
            </let>
           </let>
          </forEach>
         </sequence>
         <let line='647' var='Q{}keyi' as='xs:anyAtomicType' slot='9' eval='16'>
          <dot type='xs:anyAtomicType'/>
          <let line='648' var='Q{}context' as='element()*' slot='10' eval='8'>
           <filter flags='b'>
            <slash simple='1'>
             <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}page' type='document-node()?'/>
             <axis name='descendant' nodeTest='element()' jsTest='return item.nodeType===1;'/>
            </slash>
            <gc op='=' card='1:1' comp='GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint'>
             <attVal name='Q{}data-ref' chk='0'/>
             <varRef name='Q{}keyi' slot='9'/>
            </gc>
           </filter>
           <let line='649' var='Q{}updatedInstanceXML4' as='element()?' slot='11' eval='7'>
            <ufCall name='Q{http://www.w3.org/2002/xforms}getInstance-JS' tailCall='false' bSlot='0' eval='16'>
             <treat as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='0|0||xforms:getInstance-JS'>
              <cvUntyped to='xs:string'>
               <varRef name='Q{}keyi' slot='9'/>
              </cvUntyped>
             </treat>
            </ufCall>
            <let line='651' var='Q{}relevantCheck' as='xs:boolean' slot='12' eval='16'>
             <treat line='652' as='xs:boolean' jsTest='return SaxonJS.U.Atomic.boolean.matches(item);' diag='3|0|XTTE0570|relevantCheck'>
              <check card='1' diag='3|0|XTTE0570|relevantCheck'>
               <cvUntyped to='xs:boolean' diag='3|0|XTTE0570|relevantCheck'>
                <data>
                 <evaluate dxns=''>
                  <fn role='xpath' name='concat'>
                   <dot type='xs:anyAtomicType'/>
                   <str val='/'/>
                   <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
                    <varRef name='Q{}relevantMap' slot='3'/>
                    <dot type='xs:anyAtomicType'/>
                   </ifCall>
                  </fn>
                  <varRef role='cxt' name='Q{}updatedInstanceXML4' slot='11'/>
                  <check role='nsCxt' card='1' diag='4|0|XTTE3170|xsl:evaluate/namespace-context'>
                   <varRef name='Q{}updatedInstanceXML4' slot='11'/>
                  </check>
                  <str role='sa' val='no'/>
                  <map role='options' size='0'/>
                  <map role='wp' size='0'/>
                 </evaluate>
                </data>
               </cvUntyped>
              </check>
             </treat>
             <choose line='655'>
              <varRef name='Q{}relevantCheck' slot='12'/>
              <ifCall line='658' name='Q{http://saxonica.com/ns/interactiveXSLT}set-property' type='item()?'>
               <str val='style.display'/>
               <str val='inline'/>
               <check card='1' diag='0|2||ixsl:set-property'>
                <conditionalSort>
                 <fn name='exists'>
                  <tail start='2'>
                   <varRef name='Q{}context' slot='10'/>
                  </tail>
                 </fn>
                 <docOrder intra='1'>
                  <slash simple='2'>
                   <varRef name='Q{}context' slot='10'/>
                   <axis name='parent' nodeTest='(element()|document-node())' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; (item.nodeType===9||item.nodeType===11||item.nodeType===1);'/>
                  </slash>
                 </docOrder>
                </conditionalSort>
               </check>
              </ifCall>
              <true/>
              <ifCall line='661' name='Q{http://saxonica.com/ns/interactiveXSLT}set-property' type='item()?'>
               <str val='style.display'/>
               <str val='none'/>
               <check card='1' diag='0|2||ixsl:set-property'>
                <conditionalSort>
                 <fn name='exists'>
                  <tail start='2'>
                   <varRef name='Q{}context' slot='10'/>
                  </tail>
                 </fn>
                 <docOrder intra='1'>
                  <slash simple='2'>
                   <varRef name='Q{}context' slot='10'/>
                   <axis name='parent' nodeTest='(element()|document-node())' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; (item.nodeType===9||item.nodeType===11||item.nodeType===1);'/>
                  </slash>
                 </docOrder>
                </conditionalSort>
               </check>
              </ifCall>
             </choose>
            </let>
           </let>
          </let>
         </let>
        </forEach>
        <ifCall line='666' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
         <check card='1' diag='0|0||ixsl:call'>
          <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
         </check>
         <str val='clearPendingUpdates'/>
         <array size='0'/>
        </ifCall>
        <ifCall line='667' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
         <check card='1' diag='0|0||ixsl:call'>
          <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
         </check>
         <str val='clearUpdates'/>
         <array size='0'/>
        </ifCall>
       </sequence>
      </let>
     </let>
    </let>
   </let>
  </function>
 </co>
 <co id='67' binds=''>
  <globalParam name='Q{}xform-html-id' type='xs:string' line='73' module='saxon-xforms.xsl' visibility='PUBLIC' jsAcceptor='return SaxonJS.U.Atomic.string.cast(val);' jsCardCheck='function c(n) {return n==1;};'>
   <str val='xForm'/>
  </globalParam>
 </co>
 <co id='68' binds=''>
  <function name='Q{http://www.w3.org/2002/xforms}random' line='108' module='xforms-function-library.xsl' eval='16' flags='pU' as='xs:double' slots='0'>
   <check role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ map=~' line='109' card='1' diag='3|0|XTTE0570|randomNumber'>
    <convert from='xs:anyAtomicType' to='xs:double' flags='p' diag='3|0|XTTE0570|randomNumber'>
     <cvUntyped to='xs:double' diag='3|0|XTTE0570|randomNumber'>
      <data>
       <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
        <check card='1' diag='0|0||ixsl:call'>
         <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
        </check>
        <str val='Math.random'/>
        <array size='0'/>
       </ifCall>
      </data>
     </cvUntyped>
    </convert>
   </check>
  </function>
 </co>
 <co id='69' vis='PRIVATE' binds='70 71' base='2' dpack='1'/>
 <co id='27' binds='21 22 23 23 39 55 62 72'>
  <template name='Q{}xforms-recalculate' flags='os' line='3627' module='saxon-xforms.xsl' slots='11'>
   <let role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='3680' var='Q{http://saxon.sf.net/generated-variable}v1' as='item()' slot='0' eval='13'>
    <check card='1' diag='0|0||ixsl:call'>
     <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
    </check>
    <sequence line='3628'>
     <message>
      <valueOf role='select'>
       <str val='[xforms-recalculate] START'/>
      </valueOf>
      <str role='terminate' val='no'/>
      <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
     </message>
     <let line='3629' var='Q{}instance-keys' as='item()?' slot='1' eval='8'>
      <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
       <check card='1' diag='0|0||ixsl:call'>
        <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
       </check>
       <str val='getInstanceKeys'/>
       <array size='0'/>
      </ifCall>
      <let line='3630' var='Q{}calculationMap' as='map(xs:string, xs:string)' slot='2' eval='16'>
       <treat as='map(xs:string, xs:string)' jsTest='function k(item) {return SaxonJS.U.Atomic.string.matches(item);};function v(item) {return SaxonJS.U.Atomic.string.matches(item);};function c(n) {return n==1;};return SaxonJS.U.isMap(item) &amp;&amp; item.conforms(k, v, c);' diag='3|0|XTTE0570|calculationMap'>
        <check card='1' diag='3|0|XTTE0570|calculationMap'>
         <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
          <check card='1' diag='0|0||ixsl:call'>
           <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
          </check>
          <str val='getCalculationMap'/>
          <array size='0'/>
         </ifCall>
        </check>
       </treat>
       <let line='3632' var='Q{}instances-with-calculations' as='map(xs:string, map(*)*)' slot='3' eval='16'>
        <treat line='3634' as='map(xs:string, map(*)*)' jsTest='function k(item) {return SaxonJS.U.Atomic.string.matches(item);};function v(item) {return SaxonJS.U.isMap(item)};function c() {return true;};return SaxonJS.U.isMap(item) &amp;&amp; item.conforms(k, v, c);' diag='3|0|XTTE0570|instances-with-calculations'>
         <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}merge' type='map(*)'>
          <forEachGroup algorithm='by'>
           <ifCall role='select' name='Q{http://www.w3.org/2005/xpath-functions/map}keys' type='xs:anyAtomicType*'>
            <varRef name='Q{}calculationMap' slot='2'/>
           </ifCall>
           <ufCall role='key' name='Q{http://www.w3.org/2002/xforms}getInstanceId' tailCall='false' bSlot='0' eval='16'>
            <treat as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='0|0||xforms:getInstanceId'>
             <cvUntyped to='xs:string'>
              <dot type='xs:anyAtomicType'/>
             </cvUntyped>
            </treat>
           </ufCall>
           <str role='collation' val='http://www.w3.org/2005/xpath-functions/collation/codepoint'/>
           <ifCall role='content' line='3635' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
            <check card='1' diag='0|0||map:entry'>
             <currentGroupingKey/>
            </check>
            <forEach line='3636'>
             <currentGroup/>
             <ifCall line='3638' name='Q{http://www.w3.org/2005/xpath-functions/map}merge' type='map(*)'>
              <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
               <dot type='xs:anyAtomicType'/>
               <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
                <varRef name='Q{}calculationMap' slot='2'/>
                <dot type='xs:anyAtomicType'/>
               </ifCall>
              </ifCall>
              <map size='2'>
               <str val='duplicates'/>
               <str val='reject'/>
               <str val='duplicates-error-code'/>
               <str val='XTDE3365'/>
              </map>
             </ifCall>
            </forEach>
           </ifCall>
          </forEachGroup>
          <map size='2'>
           <str val='duplicates'/>
           <str val='reject'/>
           <str val='duplicates-error-code'/>
           <str val='XTDE3365'/>
          </map>
         </ifCall>
        </treat>
        <sequence line='3646'>
         <forEach>
          <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}keys' type='xs:anyAtomicType*'>
           <varRef name='Q{}instances-with-calculations' slot='3'/>
          </ifCall>
          <let line='3647' var='Q{}instanceXML' as='element()' slot='4' eval='16'>
           <check card='1' diag='3|0|XTTE0570|instanceXML'>
            <ufCall name='Q{http://www.w3.org/2002/xforms}instance' tailCall='false' bSlot='1' eval='16'>
             <treat as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='0|0||xforms:instance'>
              <cvUntyped to='xs:string'>
               <dot type='xs:anyAtomicType'/>
              </cvUntyped>
             </treat>
            </ufCall>
           </check>
           <let line='3649' var='Q{}calculations' as='map(xs:string, xs:string)*' slot='5' eval='4'>
            <treat as='map(xs:string, xs:string)' jsTest='function k(item) {return SaxonJS.U.Atomic.string.matches(item);};function v(item) {return SaxonJS.U.Atomic.string.matches(item);};function c(n) {return n==1;};return SaxonJS.U.isMap(item) &amp;&amp; item.conforms(k, v, c);' diag='3|0|XTTE0570|calculations'>
             <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
              <varRef name='Q{}instances-with-calculations' slot='3'/>
              <dot type='xs:anyAtomicType'/>
             </ifCall>
            </treat>
            <let line='3663' var='Q{http://saxon.sf.net/generated-variable}v0' as='map(xs:string, xs:string)' slot='6' eval='13'>
             <check card='1' diag='0|0||map:get'>
              <varRef name='Q{}calculations' slot='5'/>
             </check>
             <let line='3652' var='Q{}calculated-nodes' as='node()*' slot='7' eval='8'>
              <treat line='3653' as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='3|0|XTTE0570|calculated-nodes'>
               <forEach>
                <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}keys' type='xs:anyAtomicType*'>
                 <check card='1' diag='0|0||map:keys'>
                  <varRef name='Q{}calculations' slot='5'/>
                 </check>
                </ifCall>
                <evaluate line='3654' dxns=''>
                 <ufCall role='xpath' name='Q{http://www.w3.org/2002/xforms}impose' tailCall='false' bSlot='2' eval='16'>
                  <treat as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='0|0||xforms:impose'>
                   <cvUntyped to='xs:string'>
                    <dot type='xs:anyAtomicType'/>
                   </cvUntyped>
                  </treat>
                 </ufCall>
                 <varRef role='cxt' name='Q{}instanceXML' slot='4'/>
                 <varRef role='nsCxt' name='Q{}instanceXML' slot='4'/>
                 <str role='sa' val='no'/>
                 <map role='options' size='0'/>
                 <map role='wp' size='0'/>
                </evaluate>
               </forEach>
              </treat>
              <let line='3659' var='Q{}calculated-values' as='xs:string*' slot='8' eval='8'>
               <forEach line='3660'>
                <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}keys' type='xs:anyAtomicType*'>
                 <check card='1' diag='0|0||map:keys'>
                  <varRef name='Q{}calculations' slot='5'/>
                 </check>
                </ifCall>
                <let line='3662' var='Q{}value' as='xs:string?' slot='9' eval='7'>
                 <treat line='3663' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|value'>
                  <check card='?' diag='3|0|XTTE0570|value'>
                   <cvUntyped to='xs:string' diag='3|0|XTTE0570|value'>
                    <data>
                     <evaluate dxns=''>
                      <ufCall role='xpath' name='Q{http://www.w3.org/2002/xforms}impose' tailCall='false' bSlot='3' eval='16'>
                       <check card='1' diag='0|0||xforms:impose'>
                        <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
                         <varRef name='Q{http://saxon.sf.net/generated-variable}v0' slot='6'/>
                         <dot type='xs:anyAtomicType'/>
                        </ifCall>
                       </check>
                      </ufCall>
                      <varRef role='cxt' name='Q{}instanceXML' slot='4'/>
                      <varRef role='nsCxt' name='Q{}instanceXML' slot='4'/>
                      <str role='sa' val='no'/>
                      <map role='options' size='0'/>
                      <map role='wp' size='0'/>
                     </evaluate>
                    </data>
                   </cvUntyped>
                  </check>
                 </treat>
                 <first line='3669'>
                  <sequence>
                   <varRef name='Q{}value' slot='9'/>
                   <str val=''/>
                  </sequence>
                 </first>
                </let>
               </forEach>
               <let line='3673' var='Q{}updatedInstanceXML' as='element()' slot='10' eval='16'>
                <treat line='3674' as='element()' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1;' diag='3|0|XTTE0570|updatedInstanceXML'>
                 <check card='1' diag='3|0|XTTE0570|updatedInstanceXML'>
                  <applyT mode='Q{}recalculate' bSlot='4'>
                   <varRef role='select' name='Q{}instanceXML' slot='4'/>
                   <withParam name='Q{}updated-nodes' flags='t' as='node()*'>
                    <varRef line='3675' name='Q{}calculated-nodes' slot='7'/>
                   </withParam>
                   <withParam name='Q{}updated-values' flags='t' as='xs:string*'>
                    <varRef line='3676' name='Q{}calculated-values' slot='8'/>
                   </withParam>
                  </applyT>
                 </check>
                </treat>
                <ifCall line='3680' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
                 <varRef name='Q{http://saxon.sf.net/generated-variable}v1' slot='0'/>
                 <str val='setInstance'/>
                 <arrayBlock>
                  <dot type='xs:anyAtomicType'/>
                  <varRef name='Q{}updatedInstanceXML' slot='10'/>
                 </arrayBlock>
                </ifCall>
               </let>
              </let>
             </let>
            </let>
           </let>
          </let>
         </forEach>
         <callT line='3684' name='Q{}refreshOutputs-JS' bSlot='5'/>
         <callT line='3685' name='Q{}refreshRepeats-JS' bSlot='6'/>
         <callT line='3686' name='Q{}refreshElementsUsingIndexFunction-JS' bSlot='7' flags='t'/>
        </sequence>
       </let>
      </let>
     </let>
    </sequence>
   </let>
  </template>
 </co>
 <co id='64' binds='73 73 73'>
  <globalVariable name='Q{}xforms-doc' type='document-node()?' line='77' module='saxon-xforms.xsl' visibility='PRIVATE' jsAcceptor='function test(item) {return SaxonJS.U.isNode(item) &amp;&amp; (item.nodeType===9||item.nodeType===11);};if (test(val)) {return val;} else {throw SaxonJS.XError(&#39;Conversion failed&#39;, &#39;XTTE0590&#39;);}' jsCardCheck='function c(n) {return n&lt;=1;};'>
   <choose ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='77'>
    <and op='and'>
     <fn name='exists'>
      <gVarRef name='Q{}xforms-file' bSlot='0'/>
     </fn>
     <fn name='doc-available'>
      <gVarRef name='Q{}xforms-file' bSlot='1'/>
     </fn>
    </and>
    <fn name='doc'>
     <gVarRef name='Q{}xforms-file' bSlot='2'/>
    </fn>
   </choose>
  </globalVariable>
 </co>
 <co id='73' binds=''>
  <globalParam name='Q{}xforms-file' type='xs:string?' line='75' module='saxon-xforms.xsl' visibility='PUBLIC' jsAcceptor='return SaxonJS.U.Atomic.string.cast(val);' jsCardCheck='function c(n) {return n&lt;=1;};'>
   <empty/>
  </globalParam>
 </co>
 <co id='74' binds=''>
  <function name='Q{http://www.w3.org/2002/xforms}addNamespaceDeclarations' line='2540' module='saxon-xforms.xsl' eval='16' flags='pU' as='element()' slots='1'>
   <arg name='Q{}this' as='element()'/>
   <compElem role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='2542'>
    <fn role='name' name='name'>
     <varRef name='Q{}this' slot='0'/>
    </fn>
    <sequence role='content' line='2543'>
     <namespace flags='l'>
      <str role='name' val='xforms'/>
      <str role='select' val='http://www.w3.org/2002/xforms'/>
     </namespace>
     <forEach line='2544'>
      <filter flags='b'>
       <filter flags='b'>
        <slash simple='1'>
         <varRef name='Q{}this' slot='0'/>
         <axis name='descendant' nodeTest='element()' jsTest='return item.nodeType===1;'/>
        </slash>
        <fn name='boolean'>
         <fn name='namespace-uri'>
          <dot type='element()'/>
         </fn>
        </fn>
       </filter>
       <fn name='not'>
        <gc op='=' card='N:1' comp='CCC'>
         <sequence>
          <slash>
           <fn name='reverse'>
            <axis name='ancestor' nodeTest='element()' jsTest='return item.nodeType===1;'/>
           </fn>
           <fn name='namespace-uri'>
            <dot type='element()'/>
           </fn>
          </slash>
          <slash>
           <fn name='reverse'>
            <axis name='preceding' nodeTest='element()' jsTest='return item.nodeType===1;'/>
           </fn>
           <fn name='namespace-uri'>
            <dot type='element()'/>
           </fn>
          </slash>
         </sequence>
         <fn name='namespace-uri'>
          <dot type='element()'/>
         </fn>
        </gc>
       </fn>
      </filter>
      <namespace line='2547' flags='l'>
       <fn role='name' line='2546' name='substring-before'>
        <fn name='name'>
         <dot type='element()'/>
        </fn>
        <str val=':'/>
       </fn>
       <convert role='select' from='xs:anyURI' to='xs:string'>
        <fn line='2545' name='namespace-uri'>
         <dot type='element()'/>
        </fn>
       </convert>
      </namespace>
     </forEach>
     <copyOf line='2549' flags='vc'>
      <sequence>
       <slash simple='1'>
        <varRef name='Q{}this' slot='0'/>
        <axis name='attribute' nodeTest='attribute()' jsTest='return SaxonJS.U.isAttr(item)'/>
       </slash>
       <slash simple='1'>
        <varRef name='Q{}this' slot='0'/>
        <axis name='child' nodeTest='( element() | text() | comment() | processing-instruction() )' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; (item.nodeType===1 || item.nodeType===3 || item.nodeType===7 || item.nodeType===8);'/>
       </slash>
      </sequence>
     </copyOf>
    </sequence>
   </compElem>
  </function>
 </co>
 <co id='31' binds='22 21 23 35 39 75 23 76 40 44'>
  <template name='Q{}xforms-submit' flags='os' line='3806' module='saxon-xforms.xsl' slots='21'>
   <sequence role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='3807'>
    <param name='Q{}submission' slot='0' flags='i' as='xs:string'>
     <treat role='conversion' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='8|0|XTTE0590|submission'>
      <check card='1' diag='8|0|XTTE0590|submission'>
       <cvUntyped to='xs:string' diag='8|0|XTTE0590|submission'>
        <data>
         <supplied slot='0'/>
        </data>
       </cvUntyped>
      </check>
     </treat>
    </param>
    <let line='3809' var='Q{}submission-map' as='map(*)' slot='1' eval='16'>
     <treat as='map(*)' jsTest='return SaxonJS.U.isMap(item)' diag='3|0|XTTE0570|submission-map'>
      <check card='1' diag='3|0|XTTE0570|submission-map'>
       <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
        <check card='1' diag='0|0||ixsl:call'>
         <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
        </check>
        <str val='getSubmission'/>
        <arrayBlock>
         <varRef name='Q{}submission' slot='0'/>
        </arrayBlock>
       </ifCall>
      </check>
     </treat>
     <let line='3810' var='Q{}actions' as='map(*)?' slot='2' eval='7'>
      <treat as='map(*)' jsTest='return SaxonJS.U.isMap(item)' diag='3|0|XTTE0570|actions'>
       <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
        <check card='1' diag='0|0||ixsl:call'>
         <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
        </check>
        <str val='getAction'/>
        <arrayBlock>
         <varRef name='Q{}submission' slot='0'/>
        </arrayBlock>
       </ifCall>
      </treat>
      <let line='3818' var='Q{}refi' as='xs:string?' slot='3' eval='7'>
       <treat as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|refi'>
        <check card='?' diag='3|0|XTTE0570|refi'>
         <cvUntyped to='xs:string' diag='3|0|XTTE0570|refi'>
          <data>
           <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
            <varRef name='Q{}submission-map' slot='1'/>
            <str val='@ref'/>
           </ifCall>
          </data>
         </cvUntyped>
        </check>
       </treat>
       <let line='3820' var='Q{}instance-id' as='xs:string' slot='4' eval='16'>
        <choose line='3822'>
         <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
          <varRef name='Q{}submission-map' slot='1'/>
          <str val='@instance'/>
         </ifCall>
         <treat line='3823' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|instance-id'>
          <check card='1' diag='3|0|XTTE0570|instance-id'>
           <cvUntyped to='xs:string' diag='3|0|XTTE0570|instance-id'>
            <data>
             <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
              <varRef name='Q{}submission-map' slot='1'/>
              <str val='@instance'/>
             </ifCall>
            </data>
           </cvUntyped>
          </check>
         </treat>
         <true/>
         <str val='saxon-forms-default'/>
        </choose>
        <let line='3835' var='Q{}instanceXML' as='element()?' slot='5' eval='7'>
         <ufCall name='Q{http://www.w3.org/2002/xforms}instance' tailCall='false' bSlot='0' eval='6'>
          <varRef name='Q{}instance-id' slot='4'/>
         </ufCall>
         <choose line='3838'>
          <fn name='exists'>
           <varRef name='Q{}instanceXML' slot='5'/>
          </fn>
          <let line='3844' var='Q{http://saxon.sf.net/generated-variable}v0' as='element()' slot='6' eval='13'>
           <check card='1' diag='4|0|XTTE3170|xsl:evaluate/namespace-context'>
            <varRef name='Q{}instanceXML' slot='5'/>
           </check>
           <let line='3839' var='Q{}data-fields' as='element()*' slot='7' eval='8'>
            <filter flags='b'>
             <filter flags='b'>
              <filter flags='b'>
               <slash simple='1'>
                <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}page' type='document-node()?'/>
                <axis name='descendant' nodeTest='element()' jsTest='return item.nodeType===1;'/>
               </slash>
               <or op='or'>
                <or op='or'>
                 <fn name='exists'>
                  <axis name='self' nodeTest='element(Q{}input)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;&#39;&amp;&amp;q.local===&#39;input&#39;;'/>
                 </fn>
                 <fn name='exists'>
                  <axis name='self' nodeTest='element(Q{}select)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;&#39;&amp;&amp;q.local===&#39;select&#39;;'/>
                 </fn>
                </or>
                <fn name='exists'>
                 <axis name='self' nodeTest='element(Q{}textarea)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;&#39;&amp;&amp;q.local===&#39;textarea&#39;;'/>
                </fn>
               </or>
              </filter>
              <fn name='exists'>
               <axis name='attribute' nodeTest='attribute(Q{}data-ref)' jsTest='return item.name===&#39;data-ref&#39;'/>
              </fn>
             </filter>
             <vc op='eq' onEmpty='0' comp='CCC'>
              <ufCall name='Q{http://www.w3.org/2002/xforms}getInstanceId' tailCall='false' bSlot='1' eval='16'>
               <check card='1' diag='0|0||xforms:getInstanceId'>
                <cvUntyped to='xs:string'>
                 <attVal name='Q{}data-ref' chk='0'/>
                </cvUntyped>
               </check>
              </ufCall>
              <varRef name='Q{}instance-id' slot='4'/>
             </vc>
            </filter>
            <let line='3842' var='Q{}calculated-nodes' as='node()*' slot='8' eval='8'>
             <treat line='3843' as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='3|0|XTTE0570|calculated-nodes'>
              <forEach>
               <varRef name='Q{}data-fields' slot='7'/>
               <evaluate line='3844' dxns=''>
                <ufCall role='xpath' name='Q{http://www.w3.org/2002/xforms}impose' tailCall='false' bSlot='2' eval='16'>
                 <fn name='string'>
                  <axis name='attribute' nodeTest='attribute(Q{}data-ref)' jsTest='return item.name===&#39;data-ref&#39;'/>
                 </fn>
                </ufCall>
                <varRef role='cxt' name='Q{}instanceXML' slot='5'/>
                <varRef role='nsCxt' name='Q{http://saxon.sf.net/generated-variable}v0' slot='6'/>
                <str role='sa' val='no'/>
                <map role='options' size='0'/>
                <map role='wp' size='0'/>
               </evaluate>
              </forEach>
             </treat>
             <let line='3849' var='Q{}calculated-values' as='xs:string*' slot='9' eval='3'>
              <forEach line='3850'>
               <varRef name='Q{}data-fields' slot='7'/>
               <let line='3852' var='Q{}value' as='xs:string' slot='10' eval='8'>
                <cvUntyped line='3854' to='xs:string' diag='3|0|XTTE0570|value'>
                 <cast as='xs:untypedAtomic' emptiable='0'>
                  <fn name='string-join'>
                   <convert from='xs:anyAtomicType' to='xs:string'>
                    <data>
                     <mergeAdj>
                      <applyT mode='Q{}get-field' bSlot='3'>
                       <dot role='select' type='element()'/>
                      </applyT>
                     </mergeAdj>
                    </data>
                   </convert>
                   <str val=''/>
                  </fn>
                 </cast>
                </cvUntyped>
                <first line='3861'>
                 <sequence>
                  <varRef name='Q{}value' slot='10'/>
                  <str val=''/>
                 </sequence>
                </first>
               </let>
              </forEach>
              <let line='3865' var='Q{}updatedInstanceXML' as='element()' slot='11' eval='16'>
               <treat line='3866' as='element()' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1;' diag='3|0|XTTE0570|updatedInstanceXML'>
                <check card='1' diag='3|0|XTTE0570|updatedInstanceXML'>
                 <applyT mode='Q{}recalculate' bSlot='4'>
                  <varRef role='select' name='Q{}instanceXML' slot='5'/>
                  <withParam name='Q{}updated-nodes' flags='t' as='node()*'>
                   <varRef line='3867' name='Q{}calculated-nodes' slot='8'/>
                  </withParam>
                  <withParam name='Q{}updated-values' flags='t' as='xs:string*'>
                   <varRef line='3868' name='Q{}calculated-values' slot='9'/>
                  </withParam>
                 </applyT>
                </check>
               </treat>
               <let line='3873' var='Q{}required-fieldsi' as='element()*' slot='12' eval='8'>
                <filter flags='b'>
                 <slash simple='1'>
                  <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}page' type='document-node()?'/>
                  <axis name='descendant' nodeTest='element()' jsTest='return item.nodeType===1;'/>
                 </slash>
                 <fn name='exists'>
                  <axis name='attribute' nodeTest='attribute(Q{}data-required)' jsTest='return item.name===&#39;data-required&#39;'/>
                 </fn>
                </filter>
                <let line='3875' var='Q{}required-fields-check' as='element()*' slot='13' eval='3'>
                 <ufCall name='Q{http://www.w3.org/2002/xforms}check-required-fields' tailCall='false' bSlot='5' eval='6'>
                  <varRef name='Q{}updatedInstanceXML' slot='11'/>
                 </ufCall>
                 <choose line='3881'>
                  <fn name='empty'>
                   <varRef name='Q{}required-fields-check' slot='13'/>
                  </fn>
                  <let line='3882' var='Q{}requestBody' as='node()' slot='14' eval='16'>
                   <choose line='3884'>
                    <varRef name='Q{}refi' slot='3'/>
                    <treat line='3885' as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='3|0|XTTE0570|requestBody'>
                     <check card='1' diag='3|0|XTTE0570|requestBody'>
                      <evaluate dxns=''>
                       <ufCall role='xpath' name='Q{http://www.w3.org/2002/xforms}impose' tailCall='false' bSlot='6' eval='16'>
                        <check card='1' diag='0|0||xforms:impose'>
                         <varRef name='Q{}refi' slot='3'/>
                        </check>
                       </ufCall>
                       <varRef role='cxt' name='Q{}instanceXML' slot='5'/>
                       <check role='nsCxt' card='1' diag='4|0|XTTE3170|xsl:evaluate/namespace-context'>
                        <varRef name='Q{}instanceXML' slot='5'/>
                       </check>
                       <str role='sa' val='no'/>
                       <map role='options' size='0'/>
                       <map role='wp' size='0'/>
                      </evaluate>
                     </check>
                    </treat>
                    <true/>
                    <check line='3888' card='1' diag='3|0|XTTE0570|requestBody'>
                     <varRef name='Q{}instanceXML' slot='5'/>
                    </check>
                   </choose>
                   <let line='3893' var='Q{}requestBodyDoc' as='document-node()?' slot='15' eval='7'>
                    <choose line='3894'>
                     <fn name='exists'>
                      <filter flags='b'>
                       <varRef name='Q{}requestBody' slot='14'/>
                       <fn name='exists'>
                        <axis name='self' nodeTest='element()' jsTest='return item.nodeType===1;'/>
                       </fn>
                      </filter>
                     </fn>
                     <doc line='3895'>
                      <varRef line='3896' name='Q{}requestBody' slot='14'/>
                     </doc>
                    </choose>
                    <let line='3901' var='Q{}method' as='xs:string' slot='16' eval='16'>
                     <treat as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|method'>
                      <check card='1' diag='3|0|XTTE0570|method'>
                       <cvUntyped to='xs:string' diag='3|0|XTTE0570|method'>
                        <data>
                         <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
                          <varRef name='Q{}submission-map' slot='1'/>
                          <str val='@method'/>
                         </ifCall>
                        </data>
                       </cvUntyped>
                      </check>
                     </treat>
                     <let line='3903' var='Q{}serialization' as='xs:string?' slot='17' eval='7'>
                      <treat as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|serialization'>
                       <check card='?' diag='3|0|XTTE0570|serialization'>
                        <cvUntyped to='xs:string' diag='3|0|XTTE0570|serialization'>
                         <data>
                          <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
                           <varRef name='Q{}submission-map' slot='1'/>
                           <str val='@serialization'/>
                          </ifCall>
                         </data>
                        </cvUntyped>
                       </check>
                      </treat>
                      <let line='3905' var='Q{}query-parameters' as='xs:string?' slot='18' eval='7'>
                       <choose line='3906'>
                        <and op='and'>
                         <fn name='exists'>
                          <varRef name='Q{}serialization' slot='17'/>
                         </fn>
                         <vc op='eq' onEmpty='0' comp='CCC'>
                          <varRef name='Q{}serialization' slot='17'/>
                          <str val='application/x-www-form-urlencoded'/>
                         </vc>
                        </and>
                        <fn line='3924' name='string-join'>
                         <choose line='3910'>
                          <fn name='exists'>
                           <varRef name='Q{}requestBodyDoc' slot='15'/>
                          </fn>
                          <forEach line='3911'>
                           <slash simple='1'>
                            <varRef name='Q{}requestBody' slot='14'/>
                            <axis name='child' nodeTest='element()' jsTest='return item.nodeType===1;'/>
                           </slash>
                           <fn line='3912' name='concat'>
                            <fn name='local-name'>
                             <dot type='element()'/>
                            </fn>
                            <str val='='/>
                            <fn name='string'>
                             <dot type='element()'/>
                            </fn>
                           </fn>
                          </forEach>
                         </choose>
                         <str val='&amp;'/>
                        </fn>
                       </choose>
                       <let line='3928' var='Q{}href-base' as='xs:string' slot='19' eval='16'>
                        <treat as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|href-base'>
                         <check card='1' diag='3|0|XTTE0570|href-base'>
                          <cvUntyped to='xs:string' diag='3|0|XTTE0570|href-base'>
                           <data>
                            <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
                             <varRef name='Q{}submission-map' slot='1'/>
                             <str val='@resource'/>
                            </ifCall>
                           </data>
                          </cvUntyped>
                         </check>
                        </treat>
                        <sequence line='3972'>
                         <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}schedule-action' type='item()*'>
                          <int val='0'/>
                          <empty/>
                          <callT name='Q{}HTTPsubmit' bSlot='7'>
                           <withParam name='Q{}instance-id' flags='c' as='xs:string'>
                            <varRef line='3973' name='Q{}instance-id' slot='4'/>
                           </withParam>
                           <withParam name='Q{}targetref' flags='c' as='xs:string?'>
                            <treat line='3974' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='8|0|XTTE0590|targetref'>
                             <check card='?' diag='8|0|XTTE0590|targetref'>
                              <cvUntyped to='xs:string' diag='8|0|XTTE0590|targetref'>
                               <data>
                                <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
                                 <varRef name='Q{}submission-map' slot='1'/>
                                 <str val='@targetref'/>
                                </ifCall>
                               </data>
                              </cvUntyped>
                             </check>
                            </treat>
                           </withParam>
                           <withParam name='Q{}replace' flags='c' as='xs:string?'>
                            <treat line='3975' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='8|0|XTTE0590|replace'>
                             <check card='?' diag='8|0|XTTE0590|replace'>
                              <cvUntyped to='xs:string' diag='8|0|XTTE0590|replace'>
                               <data>
                                <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
                                 <varRef name='Q{}submission-map' slot='1'/>
                                 <str val='@replace'/>
                                </ifCall>
                               </data>
                              </cvUntyped>
                             </check>
                            </treat>
                           </withParam>
                          </callT>
                          <ifCall line='3949' name='Q{http://www.w3.org/2005/xpath-functions/map}merge' type='map(*)'>
                           <sequence>
                            <choose>
                             <vc op='ne' onEmpty='1' comp='CCC'>
                              <fn name='upper-case'>
                               <varRef name='Q{}method' slot='16'/>
                              </fn>
                              <str val='GET'/>
                             </vc>
                             <choose line='3951'>
                              <fn name='exists'>
                               <varRef name='Q{}requestBodyDoc' slot='15'/>
                              </fn>
                              <ifCall line='3952' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
                               <str val='body'/>
                               <varRef name='Q{}requestBodyDoc' slot='15'/>
                              </ifCall>
                              <true/>
                              <ifCall line='3955' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
                               <str val='body'/>
                               <varRef name='Q{}requestBody' slot='14'/>
                              </ifCall>
                             </choose>
                            </choose>
                            <ifCall line='3960' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
                             <str val='method'/>
                             <varRef name='Q{}method' slot='16'/>
                            </ifCall>
                            <ifCall line='3961' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
                             <str val='href'/>
                             <choose line='3932'>
                              <fn name='exists'>
                               <varRef name='Q{}query-parameters' slot='18'/>
                              </fn>
                              <fn line='3933' name='concat'>
                               <varRef name='Q{}href-base' slot='19'/>
                               <str val='?'/>
                               <varRef name='Q{}query-parameters' slot='18'/>
                              </fn>
                              <fn line='3935' name='exists'>
                               <filter flags='b'>
                                <varRef name='Q{}requestBody' slot='14'/>
                                <fn name='exists'>
                                 <axis name='self' nodeTest='text()' jsTest='return item.nodeType===3;'/>
                                </fn>
                               </filter>
                              </fn>
                              <fn line='3936' name='concat'>
                               <varRef name='Q{}href-base' slot='19'/>
                               <str val='/'/>
                               <data>
                                <varRef name='Q{}requestBody' slot='14'/>
                               </data>
                              </fn>
                              <true/>
                              <varRef line='3939' name='Q{}href-base' slot='19'/>
                             </choose>
                            </ifCall>
                            <ifCall line='3962' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
                             <str val='media-type'/>
                             <treat line='3944' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|mediatype'>
                              <check card='1' diag='3|0|XTTE0570|mediatype'>
                               <cvUntyped to='xs:string' diag='3|0|XTTE0570|mediatype'>
                                <data>
                                 <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
                                  <varRef name='Q{}submission-map' slot='1'/>
                                  <str val='@mediatype'/>
                                 </ifCall>
                                </data>
                               </cvUntyped>
                              </check>
                             </treat>
                            </ifCall>
                           </sequence>
                           <map size='2'>
                            <str val='duplicates'/>
                            <str val='reject'/>
                            <str val='duplicates-error-code'/>
                            <str val='XTDE3365'/>
                           </map>
                          </ifCall>
                         </ifCall>
                         <forEach line='3979'>
                          <varRef name='Q{}actions' slot='2'/>
                          <let line='3980' var='Q{}action-map' as='map(*)' slot='20' eval='16'>
                           <dot type='map(*)'/>
                           <choose line='3983'>
                            <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}contains' type='xs:boolean'>
                             <varRef name='Q{}action-map' slot='20'/>
                             <str val='@event'/>
                            </ifCall>
                            <choose line='3984'>
                             <gc op='=' card='N:1' comp='GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint'>
                              <data>
                               <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
                                <varRef name='Q{}action-map' slot='20'/>
                                <str val='@event'/>
                               </ifCall>
                              </data>
                              <str val='xforms-submit-done'/>
                             </gc>
                             <callT line='3985' name='Q{}applyActions' bSlot='8' flags='t'>
                              <withParam name='Q{}action-map' flags='t' as='item()'>
                               <varRef line='3986' name='Q{}action-map' slot='20'/>
                              </withParam>
                              <withParam name='Q{}nodeset' flags='t' as='xs:string'>
                               <check line='3987' card='1' diag='8|0|XTTE0590|nodeset'>
                                <varRef name='Q{}refi' slot='3'/>
                               </check>
                              </withParam>
                              <withParam name='Q{}instanceXML' flags='t' as='element()'>
                               <check line='3988' card='1' diag='8|0|XTTE0590|instanceXML'>
                                <varRef name='Q{}instanceXML' slot='5'/>
                               </check>
                              </withParam>
                             </callT>
                            </choose>
                           </choose>
                          </let>
                         </forEach>
                        </sequence>
                       </let>
                      </let>
                     </let>
                    </let>
                   </let>
                  </let>
                  <true/>
                  <ifCall line='4001' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
                   <check card='1' diag='0|0||ixsl:call'>
                    <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
                   </check>
                   <str val='alert'/>
                   <arrayBlock>
                    <fn name='serialize'>
                     <doc line='3996' flags='t' validation='preserve'>
                      <forEach>
                       <varRef name='Q{}required-fields-check' slot='13'/>
                       <valueOf line='3998' flags='l'>
                        <fn name='concat'>
                         <str val='Value error see: '/>
                         <fn name='serialize'>
                          <slash line='3997' simple='1'>
                           <dot type='element()'/>
                           <axis line='3998' name='attribute' nodeTest='attribute(Q{}data-ref)' jsTest='return item.name===&#39;data-ref&#39;'/>
                          </slash>
                         </fn>
                         <str val='&#xA;'/>
                        </fn>
                       </valueOf>
                      </forEach>
                     </doc>
                    </fn>
                   </arrayBlock>
                  </ifCall>
                 </choose>
                </let>
               </let>
              </let>
             </let>
            </let>
           </let>
          </let>
          <true/>
          <callT line='4007' name='Q{}logToPage' bSlot='9' flags='t'>
           <withParam name='Q{}message' flags='c' as='xs:string'>
            <fn line='4008' name='concat'>
             <str val='Unable to locate XForms instance relating to submission '/>
             <fn name='serialize'>
              <varRef name='Q{}submission-map' slot='1'/>
             </fn>
            </fn>
           </withParam>
           <withParam name='Q{}level' flags='c' as='xs:string'>
            <str val='error'/>
           </withParam>
          </callT>
         </choose>
        </let>
       </let>
      </let>
     </let>
    </let>
   </sequence>
  </template>
 </co>
 <co id='57' binds='54 77 73'>
  <template name='Q{}xforms-rebuild' flags='os' line='3602' module='saxon-xforms.xsl' slots='2'>
   <sequence role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='3603'>
    <message>
     <valueOf role='select'>
      <str val='[xforms-rebuild] START'/>
     </valueOf>
     <str role='terminate' val='no'/>
     <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
    </message>
    <let line='3604' var='Q{}instanceDocs' as='map(xs:anyAtomicType, element()?)' slot='0' eval='8'>
     <let line='3605' var='Q{}instance-keys' as='item()?' slot='1' eval='8'>
      <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
       <check card='1' diag='0|0||ixsl:call'>
        <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
       </check>
       <str val='getInstanceKeys'/>
       <array size='0'/>
      </ifCall>
      <ifCall line='3607' name='Q{http://www.w3.org/2005/xpath-functions/map}merge' type='map(*)'>
       <forEach>
        <varRef name='Q{}instance-keys' slot='1'/>
        <ifCall line='3609' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
         <atomSing diag='0|0||map:entry'>
          <dot/>
         </atomSing>
         <ufCall name='Q{http://www.w3.org/2002/xforms}getInstance-JS' tailCall='false' bSlot='0' eval='16'>
          <fn line='3608' name='concat'>
           <str val='instance(&#39;'/>
           <atomSing card='?' diag='0|1||fn:concat'>
            <dot/>
           </atomSing>
           <str val='&#39;)/'/>
          </fn>
         </ufCall>
        </ifCall>
       </forEach>
       <map size='2'>
        <str val='duplicates'/>
        <str val='reject'/>
        <str val='duplicates-error-code'/>
        <str val='XTDE3365'/>
       </map>
      </ifCall>
     </let>
     <callT line='3614' name='Q{}xformsjs-main' bSlot='1' flags='t'>
      <withParam name='Q{}xforms-file' flags='c' as='xs:string?'>
       <gVarRef line='3615' name='Q{}xforms-file' bSlot='2'/>
      </withParam>
      <withParam name='Q{}instance-docs' flags='c' as='map(*)'>
       <varRef line='3616' name='Q{}instanceDocs' slot='0'/>
      </withParam>
     </callT>
    </let>
   </sequence>
  </template>
 </co>
 <co id='53' binds=''>
  <mode name='Q{}set-field' onNo='TC' flags='W' patternSlots='0'>
   <templateRule prec='0' prio='-0.25' seq='37' rank='0' minImp='0' slots='1' flags='s' line='2472' module='saxon-xforms.xsl'>
    <p.nodeTest role='match' test='*:textarea' jsTest='var q=SaxonJS.U.nameOfNode(item); return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1&amp;&amp;q.local===&#39;textarea&#39;'/>
    <sequence role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='2473'>
     <param name='Q{}value' slot='0' flags='t'>
      <str role='select' val=''/>
      <supplied role='conversion' slot='0'/>
     </param>
     <ifCall line='2477' name='Q{http://saxonica.com/ns/interactiveXSLT}get' type='item()*'>
      <dot type='*:textarea'/>
      <str val='value'/>
     </ifCall>
    </sequence>
   </templateRule>
   <templateRule prec='0' prio='-0.25' seq='36' rank='0' minImp='0' slots='1' flags='s' line='2458' module='saxon-xforms.xsl'>
    <p.nodeTest role='match' test='*:select' jsTest='var q=SaxonJS.U.nameOfNode(item); return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1&amp;&amp;q.local===&#39;select&#39;'/>
    <sequence role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='2459'>
     <param name='Q{}value' slot='0' flags='t'>
      <str role='select' val=''/>
      <supplied role='conversion' slot='0'/>
     </param>
     <forEach line='2461'>
      <filter flags='b'>
       <axis name='child' nodeTest='element(Q{}option)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;&#39;&amp;&amp;q.local===&#39;option&#39;;'/>
       <gc op='=' card='N:1' comp='GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint'>
        <data>
         <varRef name='Q{}value' slot='0'/>
        </data>
        <attVal name='Q{}value' chk='0'/>
       </gc>
      </filter>
      <ifCall line='2462' name='Q{http://saxonica.com/ns/interactiveXSLT}set-property' type='item()?'>
       <str val='selected'/>
       <true/>
       <dot type='element(Q{}option)'/>
      </ifCall>
     </forEach>
    </sequence>
   </templateRule>
   <templateRule prec='0' prio='-0.25' seq='35' rank='0' minImp='0' slots='1' flags='s' line='2437' module='saxon-xforms.xsl'>
    <p.nodeTest role='match' test='*:input' jsTest='var q=SaxonJS.U.nameOfNode(item); return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1&amp;&amp;q.local===&#39;input&#39;'/>
    <sequence role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='2438'>
     <param name='Q{}value' slot='0' flags='t'>
      <str role='select' val=''/>
      <supplied role='conversion' slot='0'/>
     </param>
     <choose line='2442'>
      <and op='and'>
       <fn name='exists'>
        <axis name='attribute' nodeTest='attribute(Q{}type)' jsTest='return item.name===&#39;type&#39;'/>
       </fn>
       <vc op='eq' onEmpty='0' comp='CCC'>
        <cast as='xs:string' emptiable='1'>
         <attVal name='Q{}type' chk='0'/>
        </cast>
        <str val='checkbox'/>
       </vc>
      </and>
      <ifCall line='2443' name='Q{http://saxonica.com/ns/interactiveXSLT}set-property' type='item()?'>
       <str val='checked'/>
       <choose>
        <gc op='=' card='N:1' comp='GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint'>
         <data>
          <varRef name='Q{}value' slot='0'/>
         </data>
         <str val='true'/>
        </gc>
        <check card='?' diag='0|1||ixsl:set-property'>
         <varRef name='Q{}value' slot='0'/>
        </check>
        <true/>
        <str val=''/>
       </choose>
       <dot type='*:input'/>
      </ifCall>
      <true/>
      <ifCall line='2446' name='Q{http://saxonica.com/ns/interactiveXSLT}set-property' type='item()?'>
       <str val='value'/>
       <check card='?' diag='0|1||ixsl:set-property'>
        <varRef name='Q{}value' slot='0'/>
       </check>
       <dot type='*:input'/>
      </ifCall>
     </choose>
    </sequence>
   </templateRule>
  </mode>
 </co>
 <co id='72' binds='63'>
  <template name='Q{}refreshElementsUsingIndexFunction-JS' flags='os' line='3115' module='saxon-xforms.xsl' slots='6'>
   <sequence role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='3116'>
    <message>
     <valueOf role='select'>
      <str val='[refreshElementsUsingIndexFunction-JS] START'/>
     </valueOf>
     <str role='terminate' val='no'/>
     <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
    </message>
    <let line='3117' var='Q{}ElementsUsingIndexFunction-keys' as='item()?' slot='0' eval='8'>
     <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
      <check card='1' diag='0|0||ixsl:call'>
       <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
      </check>
      <str val='getElementsUsingIndexFunctionKeys'/>
      <array size='0'/>
     </ifCall>
     <let line='3119' var='Q{}instance-keys' as='item()?' slot='1' eval='8'>
      <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
       <check card='1' diag='0|0||ixsl:call'>
        <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
       </check>
       <str val='getInstanceKeys'/>
       <array size='0'/>
      </ifCall>
      <let line='3120' var='Q{}instances' as='map(xs:string, element())' slot='2' eval='16'>
       <treat line='3122' as='map(xs:string, element())' jsTest='function k(item) {return SaxonJS.U.Atomic.string.matches(item);};function v(item) {return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1;};function c(n) {return n==1;};return SaxonJS.U.isMap(item) &amp;&amp; item.conforms(k, v, c);' diag='3|0|XTTE0570|instances'>
        <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}merge' type='map(*)'>
         <forEach>
          <varRef name='Q{}instance-keys' slot='1'/>
          <ifCall line='3123' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
           <atomSing diag='0|0||map:entry'>
            <dot/>
           </atomSing>
           <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
            <check card='1' diag='0|0||ixsl:call'>
             <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
            </check>
            <str val='getInstance'/>
            <arrayBlock>
             <dot/>
            </arrayBlock>
           </ifCall>
          </ifCall>
         </forEach>
         <map size='2'>
          <str val='duplicates'/>
          <str val='reject'/>
          <str val='duplicates-error-code'/>
          <str val='XTDE3365'/>
         </map>
        </ifCall>
       </treat>
       <forEach line='3129'>
        <varRef name='Q{}ElementsUsingIndexFunction-keys' slot='0'/>
        <let line='3130' var='Q{}this-key' as='xs:string' slot='3' eval='16'>
         <treat as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|this-key'>
          <check card='1' diag='3|0|XTTE0570|this-key'>
           <cvUntyped to='xs:string' diag='3|0|XTTE0570|this-key'>
            <data>
             <dot/>
            </data>
           </cvUntyped>
          </check>
         </treat>
         <sequence line='3132'>
          <message>
           <sequence role='select'>
            <valueOf>
             <str val='[refreshElementsUsingIndexFunction-JS] Refreshing item with key &#39;'/>
            </valueOf>
            <varRef name='Q{}this-key' slot='3'/>
            <valueOf flags='S'>
             <str val='&#39;'/>
            </valueOf>
           </sequence>
           <str role='terminate' val='no'/>
           <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
          </message>
          <let line='3134' var='Q{}this-element' as='element()' slot='4' eval='16'>
           <treat as='element()' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1;' diag='3|0|XTTE0570|this-element'>
            <check card='1' diag='3|0|XTTE0570|this-element'>
             <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
              <check card='1' diag='0|0||ixsl:call'>
               <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
              </check>
              <str val='getElementUsingIndexFunction'/>
              <arrayBlock>
               <varRef name='Q{}this-key' slot='3'/>
              </arrayBlock>
             </ifCall>
            </check>
           </treat>
           <let line='3135' var='Q{}this-element-refi' as='xs:string?' slot='5' eval='7'>
            <choose line='3137'>
             <fn name='exists'>
              <slash simple='1'>
               <varRef name='Q{}this-element' slot='4'/>
               <axis name='attribute' nodeTest='attribute(Q{}nodeset)' jsTest='return item.name===&#39;nodeset&#39;'/>
              </slash>
             </fn>
             <cvUntyped to='xs:string' diag='3|0|XTTE0570|this-element-refi'>
              <data>
               <slash simple='1'>
                <varRef name='Q{}this-element' slot='4'/>
                <axis name='attribute' nodeTest='attribute(Q{}nodeset)' jsTest='return item.name===&#39;nodeset&#39;'/>
               </slash>
              </data>
             </cvUntyped>
             <fn line='3138' name='exists'>
              <slash simple='1'>
               <varRef name='Q{}this-element' slot='4'/>
               <axis name='attribute' nodeTest='attribute(Q{}ref)' jsTest='return item.name===&#39;ref&#39;'/>
              </slash>
             </fn>
             <cvUntyped line='3138' to='xs:string' diag='3|0|XTTE0570|this-element-refi'>
              <data>
               <slash simple='1'>
                <varRef name='Q{}this-element' slot='4'/>
                <axis name='attribute' nodeTest='attribute(Q{}ref)' jsTest='return item.name===&#39;ref&#39;'/>
               </slash>
              </data>
             </cvUntyped>
            </choose>
            <resultDoc line='3142' global='#&#xD;&#xA;#Sat Mar 14 13:02:55 GMT 2020&#xD;&#xA;indent=no&#xD;&#xA;doctype-system=http\://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&#xD;&#xA;encoding=utf-8&#xD;&#xA;doctype-public=-//W3C//DTD XHTML 1.0 Transitional//EN&#xD;&#xA;omit-xml-declaration=no&#xD;&#xA;method=html&#xD;&#xA;' local='#&#xD;&#xA;#Sat Mar 14 13:02:55 GMT 2020&#xD;&#xA;method={http\://saxonica.com/ns/interactiveXSLT}replace-content&#xD;&#xA;'>
             <fn role='href' name='concat'>
              <str val='#'/>
              <varRef name='Q{}this-key' slot='3'/>
             </fn>
             <applyT role='content' line='3143' bSlot='0'>
              <slash role='select' simple='1'>
               <varRef name='Q{}this-element' slot='4'/>
               <axis name='child' nodeTest='element()' jsTest='return item.nodeType===1;'/>
              </slash>
              <withParam name='Q{}recalculate' as='xs:boolean'>
               <true/>
              </withParam>
              <withParam name='Q{}instances' flags='t' as='map(xs:string, element())'>
               <varRef line='3144' name='Q{}instances' slot='2'/>
              </withParam>
              <withParam name='Q{}nodeset' flags='t' as='xs:string?'>
               <choose line='3145'>
                <fn name='exists'>
                 <varRef name='Q{}this-element-refi' slot='5'/>
                </fn>
                <varRef name='Q{}this-element-refi' slot='5'/>
                <true/>
                <str val=''/>
               </choose>
              </withParam>
             </applyT>
            </resultDoc>
           </let>
          </let>
         </sequence>
        </let>
       </forEach>
      </let>
     </let>
    </let>
   </sequence>
  </template>
 </co>
 <co id='78' binds=''>
  <globalVariable name='Q{}xforms-actions' type='xs:string+' line='101' module='saxon-xforms.xsl' visibility='PRIVATE' jsAcceptor='return SaxonJS.U.Atomic.string.cast(val);' jsCardCheck='function c(n) {return n&gt;=1;};'>
   <literal count='15'>
    <str val='setvalue'/>
    <str val='insert'/>
    <str val='delete'/>
    <str val='setindex'/>
    <str val='toggle'/>
    <str val='setfocus'/>
    <str val='dispatch'/>
    <str val='rebuild'/>
    <str val='recalculate'/>
    <str val='revalidate'/>
    <str val='refresh'/>
    <str val='reset'/>
    <str val='load'/>
    <str val='send'/>
    <str val='message'/>
   </literal>
  </globalVariable>
 </co>
 <co id='79' binds=''>
  <function name='Q{http://www.w3.org/2002/xforms}foo' line='90' module='xforms-function-library.xsl' eval='16' flags='pU' as='xs:boolean' slots='1'>
   <arg name='Q{}num' as='xs:integer'/>
   <compareToInt role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ map=~' line='93' op='lt' val='5'>
    <varRef name='Q{}num' slot='0'/>
   </compareToInt>
  </function>
 </co>
 <co id='80' vis='PRIVATE' binds='70 81' base='13' dpack='1'/>
 <co id='82' binds='83 83'>
  <globalVariable name='Q{}LOGLEVEL_INT' type='xs:integer' line='67' module='saxon-xforms.xsl' visibility='PRIVATE' jsAcceptor='return SaxonJS.U.Atomic.integer.cast(val);' jsCardCheck='function c(n) {return n==1;};'>
   <choose ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='67'>
    <castable as='xs:integer' emptiable='0'>
     <gVarRef name='Q{}LOGLEVEL' bSlot='0'/>
    </castable>
    <cast as='xs:integer' emptiable='0'>
     <gVarRef name='Q{}LOGLEVEL' bSlot='1'/>
    </cast>
    <true/>
    <int val='100'/>
   </choose>
  </globalVariable>
 </co>
 <co id='84' binds=''>
  <globalParam name='Q{}xforms-cache-id' type='xs:string' line='70' module='saxon-xforms.xsl' visibility='PUBLIC' jsAcceptor='return SaxonJS.U.Atomic.string.cast(val);' jsCardCheck='function c(n) {return n==1;};'>
   <str val='xforms-cache'/>
  </globalParam>
 </co>
 <co id='23' binds='85'>
  <function name='Q{http://www.w3.org/2002/xforms}impose' line='22' module='xforms-function-library.xsl' eval='8' flags='pU' as='xs:string' slots='3'>
   <arg name='Q{}input' as='xs:string'/>
   <let role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ map=~' line='36' var='Q{http://saxon.sf.net/generated-variable}v0' as='xs:anyAtomicType*' slot='1' eval='4'>
    <data>
     <gVarRef name='Q{}xform-functions' bSlot='0'/>
    </data>
    <let line='53' var='Q{}parts2' as='xs:string*' slot='2' eval='8'>
     <analyzeString line='58'>
      <fn role='select' line='33' name='string-join'>
       <analyzeString>
        <varRef role='select' name='Q{}input' slot='0'/>
        <str role='regex' val='\i\c*\('/>
        <str role='flags' val=''/>
        <choose role='matching' line='36'>
         <gc op='=' card='N:1' comp='GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint'>
          <varRef name='Q{http://saxon.sf.net/generated-variable}v0' slot='1'/>
          <fn name='substring-before'>
           <dot type='xs:string'/>
           <str val='('/>
          </fn>
         </gc>
         <fn line='37' name='concat'>
          <str val='xforms:'/>
          <dot type='xs:string'/>
         </fn>
         <true/>
         <dot line='41' type='xs:string'/>
        </choose>
        <dot role='nonMatching' line='46' type='xs:string'/>
       </analyzeString>
      </fn>
      <str role='regex' val='(^\s*|[^\i\c\]])/\i\c*(/)'/>
      <str role='flags' val=''/>
      <sequence role='matching' line='60'>
       <fn name='regex-group'>
        <int val='1'/>
       </fn>
       <fn line='61' name='regex-group'>
        <int val='2'/>
       </fn>
      </sequence>
      <dot role='nonMatching' line='64' type='xs:string'/>
     </analyzeString>
     <fn line='69' name='string-join'>
      <varRef name='Q{}parts2' slot='2'/>
     </fn>
    </let>
   </let>
  </function>
 </co>
 <co id='85' binds=''>
  <globalVariable name='Q{}xform-functions' type='item()+' line='20' module='xforms-function-library.xsl' visibility='PRIVATE' jsAcceptor='return val;' jsCardCheck='function c(n) {return n&gt;=1;};'>
   <sequence ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ map=~' line='20'>
    <literal count='5'>
     <str val='instance'/>
     <str val='index'/>
     <str val='avg'/>
     <str val='foo'/>
     <str val='current-date'/>
    </literal>
    <slash simple='1'>
     <treat as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='14|3|XPTY0020|'>
      <dot flags='a'/>
     </treat>
     <axis name='child' nodeTest='element(Q{}random)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;&#39;&amp;&amp;q.local===&#39;random&#39;;'/>
    </slash>
   </sequence>
  </globalVariable>
 </co>
 <co id='83' binds=''>
  <globalParam name='Q{}LOGLEVEL' type='xs:string' line='66' module='saxon-xforms.xsl' visibility='PUBLIC' jsAcceptor='return SaxonJS.U.Atomic.string.cast(val);' jsCardCheck='function c(n) {return n==1;};'>
   <str val='40'/>
  </globalParam>
 </co>
 <co id='75' binds=''>
  <function name='Q{http://www.w3.org/2002/xforms}check-required-fields' line='910' module='saxon-xforms.xsl' eval='8' flags='pU' as='item()*' slots='3'>
   <arg name='Q{}instanceXML' as='element()'/>
   <let role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='913' var='Q{}required-fieldsi' as='element()*' slot='1' eval='8'>
    <filter flags='b'>
     <slash simple='1'>
      <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}page' type='document-node()?'/>
      <axis name='descendant' nodeTest='element()' jsTest='return item.nodeType===1;'/>
     </slash>
     <fn name='exists'>
      <axis name='attribute' nodeTest='attribute(Q{}data-required)' jsTest='return item.name===&#39;data-required&#39;'/>
     </fn>
    </filter>
    <forEach line='915'>
     <varRef name='Q{}required-fieldsi' slot='1'/>
     <let line='917' var='Q{}resulti' as='document-node()' slot='2' eval='16'>
      <doc line='920' validation='preserve'>
       <evaluate dxns=''>
        <fn role='xpath' name='concat'>
         <str val='boolean(normalize-space('/>
         <attVal name='Q{}data-ref' chk='0'/>
         <str val='))'/>
         <str val='='/>
         <attVal name='Q{}data-ref' chk='0'/>
         <str val='/'/>
         <attVal name='Q{}data-required' chk='0'/>
        </fn>
        <varRef role='cxt' name='Q{}instanceXML' slot='0'/>
        <varRef role='nsCxt' name='Q{}instanceXML' slot='0'/>
        <str role='sa' val='no'/>
        <map role='options' size='0'/>
        <map role='wp' size='0'/>
       </evaluate>
      </doc>
      <choose line='926'>
       <vc op='eq' onEmpty='0' comp='CCC'>
        <cast as='xs:string' emptiable='0'>
         <data>
          <varRef name='Q{}resulti' slot='2'/>
         </data>
        </cast>
        <str val='false'/>
       </vc>
       <dot type='element()'/>
      </choose>
     </let>
    </forEach>
   </let>
  </function>
 </co>
 <co id='48' binds=''>
  <function name='Q{http://www.w3.org/2002/xforms}index' line='97' module='xforms-function-library.xsl' eval='16' flags='pU' as='xs:integer' slots='2'>
   <arg name='Q{}repeatID' as='xs:string'/>
   <let role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ map=~' line='101' var='Q{}repeat-index' as='xs:double?' slot='1' eval='7'>
    <check card='?' diag='3|0|XTTE0570|repeat-index'>
     <convert from='xs:anyAtomicType' to='xs:double' flags='p' diag='3|0|XTTE0570|repeat-index'>
      <cvUntyped to='xs:double' diag='3|0|XTTE0570|repeat-index'>
       <data>
        <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
         <check card='1' diag='0|0||ixsl:call'>
          <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
         </check>
         <str val='getRepeatIndex'/>
         <arrayBlock>
          <varRef name='Q{}repeatID' slot='0'/>
         </arrayBlock>
        </ifCall>
       </data>
      </cvUntyped>
     </convert>
    </check>
    <choose line='104'>
     <fn name='exists'>
      <varRef name='Q{}repeat-index' slot='1'/>
     </fn>
     <check card='1' diag='5|0|XTTE0780|xforms:index#1'>
      <cast as='xs:integer' emptiable='1'>
       <varRef name='Q{}repeat-index' slot='1'/>
      </cast>
     </check>
     <true/>
     <int val='0'/>
    </choose>
   </let>
  </function>
 </co>
 <co id='66' binds='64'>
  <globalVariable name='Q{http://saxon.sf.net/generated-variable}gg334130099' type='element()*' line='3775' module='saxon-xforms.xsl' visibility='PRIVATE' jsAcceptor='function test(item) {return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1;};if (test(val)) {return val;} else {throw SaxonJS.XError(&#39;Conversion failed&#39;, &#39;XTTE0590&#39;);}' jsCardCheck='function c() {return true;};'>
   <slash ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='3775' simple='1'>
    <gVarRef name='Q{}xforms-doc' bSlot='0'/>
    <axis name='descendant' nodeTest='element()' jsTest='return item.nodeType===1;'/>
   </slash>
  </globalVariable>
 </co>
 <co id='29' binds='29'>
  <mode name='Q{}delete-node' onNo='TC' flags='W' patternSlots='0'>
   <templateRule prec='0' prio='-0.5' seq='22' rank='0' minImp='0' slots='2' flags='s' line='1935' module='saxon-xforms.xsl'>
    <p.nodeTest role='match' test='element()' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1;'/>
    <sequence role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='1936'>
     <param name='Q{}delete-node' slot='0' flags='t' as='node()*'>
      <empty role='select'/>
      <treat role='conversion' as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='8|0|XTTE0590|delete-node'>
       <supplied slot='0'/>
      </treat>
     </param>
     <choose line='1939'>
      <some var='Q{}n' slot='1'>
       <varRef name='Q{}delete-node' slot='0'/>
       <is op='is'>
        <varRef name='Q{}n' slot='1'/>
        <dot type='element()'/>
       </is>
      </some>
      <empty/>
      <true/>
      <copy line='1944' flags='cin'>
       <sequence role='content'>
        <copyOf flags='vc'>
         <axis name='attribute' nodeTest='attribute()' jsTest='return SaxonJS.U.isAttr(item)'/>
        </copyOf>
        <applyT line='1945' mode='Q{}delete-node' bSlot='0'>
         <axis role='select' name='child' nodeTest='node()' jsTest='return SaxonJS.U.isNode(item);'/>
        </applyT>
       </sequence>
      </copy>
     </choose>
    </sequence>
   </templateRule>
  </mode>
 </co>
 <co id='35' binds=''>
  <mode name='Q{}get-field' onNo='TC' flags='W' patternSlots='0'>
   <templateRule prec='0' prio='-0.25' seq='34' rank='0' minImp='0' slots='0' flags='s' line='2424' module='saxon-xforms.xsl'>
    <p.nodeTest role='match' test='*:textarea' jsTest='var q=SaxonJS.U.nameOfNode(item); return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1&amp;&amp;q.local===&#39;textarea&#39;'/>
    <ifCall role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='2427' name='Q{http://saxonica.com/ns/interactiveXSLT}get' type='item()*'>
     <dot type='*:textarea'/>
     <str val='value'/>
    </ifCall>
   </templateRule>
   <templateRule prec='0' prio='-0.25' seq='33' rank='0' minImp='0' slots='0' flags='s' line='2414' module='saxon-xforms.xsl'>
    <p.nodeTest role='match' test='*:select' jsTest='var q=SaxonJS.U.nameOfNode(item); return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1&amp;&amp;q.local===&#39;select&#39;'/>
    <ifCall role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='2416' name='Q{http://saxonica.com/ns/interactiveXSLT}get' type='item()*'>
     <check card='?' diag='0|0||ixsl:get'>
      <filter flags='b'>
       <axis name='child' nodeTest='element(Q{}option)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;&#39;&amp;&amp;q.local===&#39;option&#39;;'/>
       <gc op='=' card='N:1' comp='GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint'>
        <data>
         <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}get' type='item()*'>
          <dot type='element(Q{}option)'/>
          <str val='selected'/>
         </ifCall>
        </data>
        <true/>
       </gc>
      </filter>
     </check>
     <str val='value'/>
    </ifCall>
   </templateRule>
   <templateRule prec='0' prio='-0.25' seq='32' rank='0' minImp='0' slots='0' flags='s' line='2395' module='saxon-xforms.xsl'>
    <p.nodeTest role='match' test='*:input' jsTest='var q=SaxonJS.U.nameOfNode(item); return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1&amp;&amp;q.local===&#39;input&#39;'/>
    <choose role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='2399'>
     <and op='and'>
      <fn name='exists'>
       <axis name='attribute' nodeTest='attribute(Q{}type)' jsTest='return item.name===&#39;type&#39;'/>
      </fn>
      <vc op='eq' onEmpty='0' comp='CCC'>
       <cast as='xs:string' emptiable='1'>
        <attVal name='Q{}type' chk='0'/>
       </cast>
       <str val='checkbox'/>
      </vc>
     </and>
     <choose line='2400'>
      <gc op='=' card='N:1' comp='GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint'>
       <data>
        <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}get' type='item()*'>
         <dot type='*:input'/>
         <str val='checked'/>
        </ifCall>
       </data>
       <true/>
      </gc>
      <str val='true'/>
      <true/>
      <str val=''/>
     </choose>
     <true/>
     <ifCall line='2403' name='Q{http://saxonica.com/ns/interactiveXSLT}get' type='item()*'>
      <dot type='*:input'/>
      <str val='value'/>
     </ifCall>
    </choose>
   </templateRule>
  </mode>
 </co>
 <co id='63' binds='77 67 86 63 63 87 88 42 89 63 63 63 87 88 42 23 89 63 87 88 42 89 87 88 89 63 87 88 42 23 23 63 87 88 42 63 63 63 63'>
  <mode onNo='TC' flags='dW' patternSlots='0'>
   <templateRule prec='0' prio='-0.5' seq='7' rank='0' minImp='0' slots='0' flags='s' line='1070' module='saxon-xforms.xsl'>
    <p.nodeTest role='match' test='document-node()' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; (item.nodeType===9||item.nodeType===11);'/>
    <callT role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='1071' name='Q{}xformsjs-main' bSlot='0' flags='t'>
     <withParam name='Q{}xforms-doc' flags='c' as='document-node()'>
      <dot line='1072' type='document-node()'/>
     </withParam>
     <withParam name='Q{}xFormsId' flags='c' as='xs:string'>
      <gVarRef line='1073' name='Q{}xform-html-id' bSlot='1'/>
     </withParam>
    </callT>
   </templateRule>
   <templateRule prec='0' prio='0.5' seq='25' part='1' rank='2' minImp='0' slots='1' flags='s' line='2052' module='saxon-xforms.xsl'>
    <p.withPredicate role='match'>
     <p.nodeTest test='Q{http://www.w3.org/2002/xforms}*' jsTest='var q=SaxonJS.U.nameOfNode(item); return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1&amp;&amp;q.uri===&#39;http://www.w3.org/2002/xforms&#39;'/>
     <gc ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='2052' op='=' card='N:1' comp='GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint'>
      <literal count='15'>
       <str val='setvalue'/>
       <str val='insert'/>
       <str val='delete'/>
       <str val='setindex'/>
       <str val='toggle'/>
       <str val='setfocus'/>
       <str val='dispatch'/>
       <str val='rebuild'/>
       <str val='recalculate'/>
       <str val='revalidate'/>
       <str val='refresh'/>
       <str val='reset'/>
       <str val='load'/>
       <str val='send'/>
       <str val='message'/>
      </literal>
      <fn name='local-name'>
       <dot type='Q{http://www.w3.org/2002/xforms}*'/>
      </fn>
     </gc>
    </p.withPredicate>
    <let role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='2060' var='Q{}action-map' as='map(*)' slot='0' eval='16'>
     <treat line='2061' as='map(*)' jsTest='return SaxonJS.U.isMap(item)' diag='3|0|XTTE0570|action-map'>
      <check card='1' diag='3|0|XTTE0570|action-map'>
       <callT name='Q{}setAction' bSlot='2'>
        <withParam name='Q{}this' flags='c' as='element()'>
         <dot line='2062' type='element()'/>
        </withParam>
       </callT>
      </check>
     </treat>
     <varRef line='2075' name='Q{}action-map' slot='0'/>
    </let>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='20' rank='1' minImp='0' slots='2' flags='s' line='1861' module='saxon-xforms.xsl'>
    <p.nodeTest role='match' test='element(Q{http://www.w3.org/2002/xforms}submit)' jsTest='var q=SaxonJS.U.nameOfNode(item); return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;submit&#39;;'/>
    <sequence role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='1862'>
     <param name='Q{}submissions' slot='0' flags='t' as='map(xs:string, map(*))'>
      <map role='select' size='0'/>
      <treat role='conversion' as='map(xs:string, map(*))' jsTest='function k(item) {return SaxonJS.U.Atomic.string.matches(item);};function v(item) {return SaxonJS.U.isMap(item)};function c(n) {return n==1;};return SaxonJS.U.isMap(item) &amp;&amp; item.conforms(k, v, c);' diag='8|0|XTTE0590|submissions'>
       <check card='1' diag='8|0|XTTE0590|submissions'>
        <supplied slot='0'/>
       </check>
      </treat>
     </param>
     <let line='1868' var='Q{}innerbody' as='document-node()' slot='1' eval='16'>
      <doc line='1869' validation='preserve'>
       <applyT bSlot='3'>
        <axis role='select' name='child' nodeTest='element(Q{http://www.w3.org/2002/xforms}label)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;label&#39;;'/>
       </applyT>
      </doc>
      <choose line='1873'>
       <vc op='eq' onEmpty='0' comp='CCC'>
        <cast as='xs:string' emptiable='1'>
         <attVal name='Q{}appearance' chk='0'/>
        </cast>
        <str val='minimal'/>
       </vc>
       <elem line='1874' name='a' nsuri='' namespaces='xd rdf xhtml js in fn map array ev'>
        <copyOf line='1875' flags='vc'>
         <varRef name='Q{}innerbody' slot='1'/>
        </copyOf>
       </elem>
       <true/>
       <elem line='1879' name='button' nsuri='' namespaces='xd rdf xhtml js in fn map array ev'>
        <sequence>
         <att name='type' flags='l'>
          <str val='button'/>
         </att>
         <copyOf line='1880' flags='vc'>
          <filter flags='b'>
           <axis name='attribute' nodeTest='attribute()' jsTest='return SaxonJS.U.isAttr(item)'/>
           <vc op='ne' onEmpty='0' comp='CCC'>
            <fn name='local-name'>
             <dot type='attribute()'/>
            </fn>
            <str val='submission'/>
           </vc>
          </filter>
         </copyOf>
         <choose line='1881'>
          <and op='and'>
           <fn name='exists'>
            <axis name='attribute' nodeTest='attribute(Q{}submission)' jsTest='return item.name===&#39;submission&#39;'/>
           </fn>
           <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}contains' type='xs:boolean'>
            <varRef name='Q{}submissions' slot='0'/>
            <atomSing diag='0|1||map:contains'>
             <axis name='attribute' nodeTest='attribute(Q{}submission)' jsTest='return item.name===&#39;submission&#39;'/>
            </atomSing>
           </ifCall>
          </and>
          <att line='1883' name='data-submit' flags='l'>
           <convert from='xs:untypedAtomic' to='xs:string'>
            <attVal name='Q{}submission' chk='0'/>
           </convert>
          </att>
         </choose>
         <copyOf line='1885' flags='vc'>
          <varRef name='Q{}innerbody' slot='1'/>
         </copyOf>
        </sequence>
       </elem>
      </choose>
     </let>
    </sequence>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='8' part='1' rank='1' minImp='0' slots='0' flags='s' line='1087' module='saxon-xforms.xsl'>
    <p.nodeTest role='match' test='element(Q{}html)' jsTest='var q=SaxonJS.U.nameOfNode(item); return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1 &amp;&amp; q.uri===&#39;&#39;&amp;&amp;q.local===&#39;html&#39;;'/>
    <elem role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='1088' name='html' nsuri='' namespaces='xd rdf xhtml js in fn map array ev'>
     <sequence line='1089'>
      <copyOf flags='vc'>
       <axis name='attribute' nodeTest='attribute()' jsTest='return SaxonJS.U.isAttr(item)'/>
      </copyOf>
      <elem line='1090' name='head' nsuri='' flags='l' namespaces='xd rdf xhtml js in fn map array ev'>
       <sequence line='1091'>
        <copyOf flags='vc'>
         <union op='|'>
          <slash simple='2'>
           <axis name='child' nodeTest='element(Q{http://www.w3.org/1999/xhtml}head)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/1999/xhtml&#39;&amp;&amp;q.local===&#39;head&#39;;'/>
           <axis name='attribute' nodeTest='attribute()' jsTest='return SaxonJS.U.isAttr(item)'/>
          </slash>
          <slash simple='2'>
           <axis name='child' nodeTest='element(Q{}head)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;&#39;&amp;&amp;q.local===&#39;head&#39;;'/>
           <axis name='attribute' nodeTest='attribute()' jsTest='return SaxonJS.U.isAttr(item)'/>
          </slash>
         </union>
        </copyOf>
        <elem line='1092' name='meta' nsuri='' flags='l'>
         <sequence>
          <att name='http-equiv' flags='l'>
           <str val='Content-Type'/>
          </att>
          <att name='content' flags='l'>
           <str val='text/html;charset=utf-8'/>
          </att>
         </sequence>
        </elem>
        <forEach line='1094'>
         <union op='|'>
          <filter flags='b'>
           <slash simple='2'>
            <axis name='child' nodeTest='element(Q{http://www.w3.org/1999/xhtml}head)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/1999/xhtml&#39;&amp;&amp;q.local===&#39;head&#39;;'/>
            <axis name='child' nodeTest='element(Q{http://www.w3.org/1999/xhtml}meta)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/1999/xhtml&#39;&amp;&amp;q.local===&#39;meta&#39;;'/>
           </slash>
           <vc op='ne' onEmpty='0' comp='CCC'>
            <fn name='string'>
             <axis name='attribute' nodeTest='attribute(Q{}http-equiv)' jsTest='return item.name===&#39;http-equiv&#39;'/>
            </fn>
            <str val='Content-Type'/>
           </vc>
          </filter>
          <filter flags='b'>
           <slash simple='2'>
            <axis name='child' nodeTest='element(Q{}head)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;&#39;&amp;&amp;q.local===&#39;head&#39;;'/>
            <axis name='child' nodeTest='element(Q{}meta)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;&#39;&amp;&amp;q.local===&#39;meta&#39;;'/>
           </slash>
           <vc op='ne' onEmpty='0' comp='CCC'>
            <fn name='string'>
             <axis name='attribute' nodeTest='attribute(Q{}http-equiv)' jsTest='return item.name===&#39;http-equiv&#39;'/>
            </fn>
            <str val='Content-Type'/>
           </vc>
          </filter>
         </union>
         <elem line='1095' name='meta' nsuri='' flags='l' namespaces='xd rdf xhtml js in fn map array ev'>
          <copyOf line='1096' flags='vc'>
           <axis name='attribute' nodeTest='attribute()' jsTest='return SaxonJS.U.isAttr(item)'/>
          </copyOf>
         </elem>
        </forEach>
        <copyOf line='1101' flags='vc'>
         <axis name='child' nodeTest='element(Q{}script)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;&#39;&amp;&amp;q.local===&#39;script&#39;;'/>
        </copyOf>
       </sequence>
      </elem>
      <elem line='1103' name='body' nsuri='' flags='l' namespaces='xd rdf xhtml js in fn map array ev'>
       <applyT line='1104' bSlot='4'>
        <slash role='select' simple='2'>
         <axis name='child' nodeTest='element(Q{}body)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;&#39;&amp;&amp;q.local===&#39;body&#39;;'/>
         <axis name='child' nodeTest='element()' jsTest='return item.nodeType===1;'/>
        </slash>
       </applyT>
      </elem>
     </sequence>
    </elem>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='13' rank='1' minImp='0' slots='12' flags='s' line='1519' module='saxon-xforms.xsl'>
    <p.nodeTest role='match' test='element(Q{http://www.w3.org/2002/xforms}select1)' jsTest='var q=SaxonJS.U.nameOfNode(item); return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;select1&#39;;'/>
    <sequence role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='1520'>
     <param name='Q{}position' slot='0' as='xs:integer'>
      <int role='select' val='0'/>
      <treat role='conversion' as='xs:integer' jsTest='return SaxonJS.U.Atomic.integer.matches(item);' diag='8|0|XTTE0590|position'>
       <check card='1' diag='8|0|XTTE0590|position'>
        <cvUntyped to='xs:integer' diag='8|0|XTTE0590|position'>
         <data>
          <supplied slot='0'/>
         </data>
        </cvUntyped>
       </check>
      </treat>
     </param>
     <param line='1521' name='Q{}context-position' slot='1' as='xs:string'>
      <str role='select' val=''/>
      <treat role='conversion' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='8|0|XTTE0590|context-position'>
       <check card='1' diag='8|0|XTTE0590|context-position'>
        <cvUntyped to='xs:string' diag='8|0|XTTE0590|context-position'>
         <data>
          <supplied slot='1'/>
         </data>
        </cvUntyped>
       </check>
      </treat>
     </param>
     <let line='1525' var='Q{}myid' as='xs:string' slot='2' eval='16'>
      <choose>
       <fn name='exists'>
        <axis name='attribute' nodeTest='attribute(Q{}id)' jsTest='return item.name===&#39;id&#39;'/>
       </fn>
       <check card='1' diag='3|0|XTTE0570|myid'>
        <cvUntyped to='xs:string' diag='3|0|XTTE0570|myid'>
         <attVal name='Q{}id' chk='0'/>
        </cvUntyped>
       </check>
       <true/>
       <fn name='concat'>
        <fn name='generate-id'>
         <dot type='element()'/>
        </fn>
        <str val='-'/>
        <choose line='1523'>
         <varRef name='Q{}context-position' slot='1'/>
         <varRef name='Q{}context-position' slot='1'/>
         <true/>
         <fn name='string'>
          <varRef name='Q{}position' slot='0'/>
         </fn>
        </choose>
       </fn>
      </choose>
      <sequence line='1527'>
       <choose>
        <and op='and'>
         <let var='Q{}this' as='element()' slot='3' eval='16'>
          <dot type='element()'/>
          <fn line='2532' name='exists'>
           <sequence line='2507'>
            <analyzeString>
             <cvUntyped role='select' to='xs:string'>
              <data>
               <slash simple='1'>
                <varRef name='Q{}this' slot='3'/>
                <axis name='attribute' nodeTest='attribute(Q{}ref)' jsTest='return item.name===&#39;ref&#39;'/>
               </slash>
              </data>
             </cvUntyped>
             <str role='regex' val='\i\c*\('/>
             <str role='flags' val=''/>
             <choose role='matching' line='2510'>
              <vc op='eq' onEmpty='0' comp='CCC'>
               <fn name='substring-before'>
                <dot type='xs:string'/>
                <str val='('/>
               </fn>
               <str val='index'/>
              </vc>
              <str val='i'/>
             </choose>
             <empty role='nonMatching'/>
            </analyzeString>
            <analyzeString line='2519'>
             <cvUntyped role='select' to='xs:string'>
              <data>
               <slash simple='1'>
                <varRef name='Q{}this' slot='3'/>
                <axis name='attribute' nodeTest='attribute(Q{}nodeset)' jsTest='return item.name===&#39;nodeset&#39;'/>
               </slash>
              </data>
             </cvUntyped>
             <str role='regex' val='\i\c*\('/>
             <str role='flags' val=''/>
             <choose role='matching' line='2522'>
              <vc op='eq' onEmpty='0' comp='CCC'>
               <fn name='substring-before'>
                <dot type='xs:string'/>
                <str val='('/>
               </fn>
               <str val='index'/>
              </vc>
              <str val='i'/>
             </choose>
             <empty role='nonMatching'/>
            </analyzeString>
           </sequence>
          </fn>
         </let>
         <fn name='empty'>
          <filter flags='b'>
           <slash simple='1'>
            <dot type='element()'/>
            <axis name='ancestor' nodeTest='element()' jsTest='return item.nodeType===1;'/>
           </slash>
           <let var='Q{}this' as='element()' slot='4' eval='16'>
            <dot type='element()'/>
            <fn line='2532' name='exists'>
             <sequence line='2507'>
              <analyzeString>
               <cvUntyped role='select' to='xs:string'>
                <data>
                 <slash simple='1'>
                  <varRef name='Q{}this' slot='4'/>
                  <axis name='attribute' nodeTest='attribute(Q{}ref)' jsTest='return item.name===&#39;ref&#39;'/>
                 </slash>
                </data>
               </cvUntyped>
               <str role='regex' val='\i\c*\('/>
               <str role='flags' val=''/>
               <choose role='matching' line='2510'>
                <vc op='eq' onEmpty='0' comp='CCC'>
                 <fn name='substring-before'>
                  <dot type='xs:string'/>
                  <str val='('/>
                 </fn>
                 <str val='index'/>
                </vc>
                <str val='i'/>
               </choose>
               <empty role='nonMatching'/>
              </analyzeString>
              <analyzeString line='2519'>
               <cvUntyped role='select' to='xs:string'>
                <data>
                 <slash simple='1'>
                  <varRef name='Q{}this' slot='4'/>
                  <axis name='attribute' nodeTest='attribute(Q{}nodeset)' jsTest='return item.name===&#39;nodeset&#39;'/>
                 </slash>
                </data>
               </cvUntyped>
               <str role='regex' val='\i\c*\('/>
               <str role='flags' val=''/>
               <choose role='matching' line='2522'>
                <vc op='eq' onEmpty='0' comp='CCC'>
                 <fn name='substring-before'>
                  <dot type='xs:string'/>
                  <str val='('/>
                 </fn>
                 <str val='index'/>
                </vc>
                <str val='i'/>
               </choose>
               <empty role='nonMatching'/>
              </analyzeString>
             </sequence>
            </fn>
           </let>
          </filter>
         </fn>
        </and>
        <ifCall line='1528' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
         <check card='1' diag='0|0||ixsl:call'>
          <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
         </check>
         <str val='setElementUsingIndexFunction'/>
         <arrayBlock>
          <varRef name='Q{}myid' slot='2'/>
          <dot type='element()'/>
         </arrayBlock>
        </ifCall>
       </choose>
       <let line='1535' var='Q{}bindingi' as='node()?' slot='5' eval='7'>
        <treat line='1536' as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='3|0|XTTE0570|bindingi'>
         <check card='?' diag='3|0|XTTE0570|bindingi'>
          <callT name='Q{}getBinding' bSlot='5'>
           <withParam name='Q{}this' flags='c' as='element()'>
            <dot line='1537' type='element()'/>
           </withParam>
          </callT>
         </check>
        </treat>
        <let line='1542' var='Q{}refi' as='xs:string' slot='6' eval='16'>
         <treat line='1543' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|refi'>
          <check card='1' diag='3|0|XTTE0570|refi'>
           <cvUntyped to='xs:string' diag='3|0|XTTE0570|refi'>
            <data>
             <callT name='Q{}getDataRef' bSlot='6'>
              <withParam name='Q{}this' flags='c' as='element()'>
               <dot line='1544' type='element()'/>
              </withParam>
              <withParam name='Q{}bindingi' flags='c' as='node()?'>
               <varRef line='1545' name='Q{}bindingi' slot='5'/>
              </withParam>
             </callT>
            </data>
           </cvUntyped>
          </check>
         </treat>
         <let line='1550' var='Q{}instanceField' as='node()?' slot='7' eval='7'>
          <treat line='1551' as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='3|0|XTTE0570|instanceField'>
           <check card='?' diag='3|0|XTTE0570|instanceField'>
            <callT name='Q{}getReferencedInstanceField' bSlot='7'>
             <withParam name='Q{}refi' flags='c' as='xs:string'>
              <varRef line='1552' name='Q{}refi' slot='6'/>
             </withParam>
            </callT>
           </check>
          </treat>
          <let line='1557' var='Q{}actions' as='map(*)*' slot='8' eval='8'>
           <treat line='1558' as='map(*)' jsTest='return SaxonJS.U.isMap(item)' diag='3|0|XTTE0570|actions'>
            <callT name='Q{}setActions' bSlot='8'>
             <withParam name='Q{}this' flags='c' as='element()'>
              <dot line='1559' type='element()'/>
             </withParam>
             <withParam name='Q{}nodeset' flags='t' as='xs:string'>
              <varRef line='1560' name='Q{}refi' slot='6'/>
             </withParam>
            </callT>
           </treat>
           <sequence line='1564'>
            <choose>
             <fn name='exists'>
              <varRef name='Q{}actions' slot='8'/>
             </fn>
             <ifCall line='1565' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
              <check card='1' diag='0|0||ixsl:call'>
               <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
              </check>
              <str val='addAction'/>
              <arrayBlock>
               <varRef name='Q{}myid' slot='2'/>
               <varRef name='Q{}actions' slot='8'/>
              </arrayBlock>
             </ifCall>
            </choose>
            <elem line='1582' name='div' nsuri='' namespaces='xd rdf xhtml js in fn map array ev'>
             <sequence>
              <att name='class' flags='l'>
               <str val='xforms-select'/>
              </att>
              <applyT line='1583' bSlot='9'>
               <axis role='select' name='child' nodeTest='element(Q{http://www.w3.org/2002/xforms}label)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;label&#39;;'/>
              </applyT>
              <elem line='1585' name='select' nsuri='' flags='l' namespaces='xd rdf xhtml js in fn map array ev'>
               <sequence line='1586'>
                <let var='Q{}element' as='element()' slot='9' eval='16'>
                 <dot type='element()'/>
                 <let line='2604' var='Q{}class' as='xs:string?' slot='10' eval='7'>
                  <choose line='2605'>
                   <fn name='exists'>
                    <slash simple='1'>
                     <varRef name='Q{}element' slot='9'/>
                     <axis name='attribute' nodeTest='attribute(Q{}class)' jsTest='return item.name===&#39;class&#39;'/>
                    </slash>
                   </fn>
                   <cvUntyped line='2606' to='xs:string' diag='3|0|XTTE0570|class'>
                    <cast as='xs:untypedAtomic' emptiable='0'>
                     <fn name='string'>
                      <convert from='xs:untypedAtomic' to='xs:string'>
                       <data>
                        <slash simple='1'>
                         <varRef name='Q{}element' slot='9'/>
                         <axis name='attribute' nodeTest='attribute(Q{}class)' jsTest='return item.name===&#39;class&#39;'/>
                        </slash>
                       </data>
                      </convert>
                     </fn>
                    </cast>
                   </cvUntyped>
                  </choose>
                  <let line='2609' var='Q{}class-mod' as='xs:string?' slot='11' eval='7'>
                   <choose line='2611'>
                    <fn name='exists'>
                     <slash simple='1'>
                      <varRef name='Q{}element' slot='9'/>
                      <axis name='attribute' nodeTest='attribute(Q{}incremental)' jsTest='return item.name===&#39;incremental&#39;'/>
                     </slash>
                    </fn>
                    <cvUntyped line='2612' to='xs:string' diag='3|0|XTTE0570|class-mod'>
                     <cast as='xs:untypedAtomic' emptiable='0'>
                      <fn name='string-join'>
                       <sequence>
                        <varRef name='Q{}class' slot='10'/>
                        <str val='incremental'/>
                       </sequence>
                       <str val=' '/>
                      </fn>
                     </cast>
                    </cvUntyped>
                    <true/>
                    <varRef line='2615' name='Q{}class' slot='10'/>
                   </choose>
                   <choose line='2619'>
                    <fn name='exists'>
                     <varRef name='Q{}class-mod' slot='11'/>
                    </fn>
                    <treat line='2620' as='attribute(Q{}class)' jsTest='return item.name===&#39;class&#39;' diag='5|0|XTTE0780|xforms:getClass#1'>
                     <att name='class' flags='l'>
                      <varRef name='Q{}class-mod' slot='11'/>
                     </att>
                    </treat>
                   </choose>
                  </let>
                 </let>
                </let>
                <copyOf line='1587' flags='vc'>
                 <except op='except'>
                  <axis name='attribute' nodeTest='attribute()' jsTest='return SaxonJS.U.isAttr(item)'/>
                  <docOrder intra='1'>
                   <sequence>
                    <axis name='attribute' nodeTest='attribute(Q{}class)' jsTest='return item.name===&#39;class&#39;'/>
                    <axis name='attribute' nodeTest='attribute(Q{}ref)' jsTest='return item.name===&#39;ref&#39;'/>
                    <axis name='attribute' nodeTest='attribute(Q{}incremental)' jsTest='return item.name===&#39;incremental&#39;'/>
                   </sequence>
                  </docOrder>
                 </except>
                </copyOf>
                <att line='1589' name='data-ref' flags='l'>
                 <varRef name='Q{}refi' slot='6'/>
                </att>
                <att line='1590' name='data-element' flags='l'>
                 <lastOf line='1580'>
                  <fn name='tokenize'>
                   <varRef name='Q{}refi' slot='6'/>
                   <str val='/'/>
                   <str val=''/>
                  </fn>
                 </lastOf>
                </att>
                <choose line='1592'>
                 <and op='and'>
                  <fn name='exists'>
                   <varRef name='Q{}bindingi' slot='5'/>
                  </fn>
                  <fn name='exists'>
                   <slash simple='1'>
                    <varRef name='Q{}bindingi' slot='5'/>
                    <axis name='attribute' nodeTest='attribute(Q{}constraint)' jsTest='return item.name===&#39;constraint&#39;'/>
                   </slash>
                  </fn>
                 </and>
                 <att line='1593' name='data-constraint' flags='l'>
                  <convert from='xs:untypedAtomic' to='xs:string'>
                   <data>
                    <slash simple='1'>
                     <varRef name='Q{}bindingi' slot='5'/>
                     <axis name='attribute' nodeTest='attribute(Q{}constraint)' jsTest='return item.name===&#39;constraint&#39;'/>
                    </slash>
                   </data>
                  </convert>
                 </att>
                </choose>
                <choose line='1596'>
                 <vc op='eq' onEmpty='0' comp='CCC'>
                  <fn name='local-name'>
                   <dot type='element()'/>
                  </fn>
                  <str val='select'/>
                 </vc>
                 <sequence line='1597'>
                  <att name='multiple' flags='l'>
                   <str val='true'/>
                  </att>
                  <att line='1598' name='size' flags='l'>
                   <convert line='1599' from='xs:integer' to='xs:string'>
                    <fn name='count'>
                     <axis name='descendant' nodeTest='element(Q{http://www.w3.org/2002/xforms}item)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;item&#39;;'/>
                    </fn>
                   </convert>
                  </att>
                 </sequence>
                </choose>
                <choose line='1602'>
                 <fn name='exists'>
                  <varRef name='Q{}actions' slot='8'/>
                 </fn>
                 <att line='1603' name='data-action' flags='l'>
                  <varRef name='Q{}myid' slot='2'/>
                 </att>
                </choose>
                <applyT line='1606' bSlot='10'>
                 <axis role='select' name='child' nodeTest='element(Q{http://www.w3.org/2002/xforms}item)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;item&#39;;'/>
                 <withParam name='Q{}selectedValue' as='xs:string'>
                  <choose line='1571'>
                   <fn name='exists'>
                    <varRef name='Q{}instanceField' slot='7'/>
                   </fn>
                   <cvUntyped line='1572' to='xs:string' diag='3|0|XTTE0570|selectedValue'>
                    <cast as='xs:untypedAtomic' emptiable='0'>
                     <fn name='string'>
                      <convert from='xs:anyAtomicType' to='xs:string'>
                       <data>
                        <varRef name='Q{}instanceField' slot='7'/>
                       </data>
                      </convert>
                     </fn>
                    </cast>
                   </cvUntyped>
                   <true/>
                   <str val=''/>
                  </choose>
                 </withParam>
                </applyT>
               </sequence>
              </elem>
             </sequence>
            </elem>
           </sequence>
          </let>
         </let>
        </let>
       </let>
      </sequence>
     </let>
    </sequence>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='16' rank='1' minImp='0' slots='0' flags='s' line='1644' module='saxon-xforms.xsl'>
    <p.nodeTest role='match' test='element(Q{http://www.w3.org/2002/xforms}label)' jsTest='var q=SaxonJS.U.nameOfNode(item); return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;label&#39;;'/>
    <elem role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='1645' name='label' nsuri='' namespaces='xd rdf xhtml js in fn map array ev'>
     <sequence line='1646'>
      <copyOf flags='vc'>
       <axis name='attribute' nodeTest='attribute(Q{}class)' jsTest='return item.name===&#39;class&#39;'/>
      </copyOf>
      <choose line='1648'>
       <fn name='exists'>
        <axis name='child' nodeTest='( element() | text() | comment() | processing-instruction() )' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; (item.nodeType===1 || item.nodeType===3 || item.nodeType===7 || item.nodeType===8);'/>
       </fn>
       <applyT line='1649' bSlot='11'>
        <axis role='select' name='child' nodeTest='node()' jsTest='return SaxonJS.U.isNode(item);'/>
       </applyT>
       <true/>
       <valueOf flags='l'>
        <str val=' '/>
       </valueOf>
      </choose>
     </sequence>
    </elem>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='25' part='5' rank='1' minImp='0' slots='1' flags='s' line='2052' module='saxon-xforms.xsl'>
    <p.nodeTest role='match' test='element(Q{http://www.w3.org/2002/xforms}unload)' jsTest='var q=SaxonJS.U.nameOfNode(item); return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;unload&#39;;'/>
    <let role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='2060' var='Q{}action-map' as='map(*)' slot='0' eval='16'>
     <treat line='2061' as='map(*)' jsTest='return SaxonJS.U.isMap(item)' diag='3|0|XTTE0570|action-map'>
      <check card='1' diag='3|0|XTTE0570|action-map'>
       <callT name='Q{}setAction' bSlot='2'>
        <withParam name='Q{}this' flags='c' as='element()'>
         <dot line='2062' type='element()'/>
        </withParam>
       </callT>
      </check>
     </treat>
     <varRef line='2075' name='Q{}action-map' slot='0'/>
    </let>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='25' part='2' rank='1' minImp='0' slots='1' flags='s' line='2052' module='saxon-xforms.xsl'>
    <p.nodeTest role='match' test='element(Q{http://www.w3.org/2002/xforms}show)' jsTest='var q=SaxonJS.U.nameOfNode(item); return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;show&#39;;'/>
    <let role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='2060' var='Q{}action-map' as='map(*)' slot='0' eval='16'>
     <treat line='2061' as='map(*)' jsTest='return SaxonJS.U.isMap(item)' diag='3|0|XTTE0570|action-map'>
      <check card='1' diag='3|0|XTTE0570|action-map'>
       <callT name='Q{}setAction' bSlot='2'>
        <withParam name='Q{}this' flags='c' as='element()'>
         <dot line='2062' type='element()'/>
        </withParam>
       </callT>
      </check>
     </treat>
     <varRef line='2075' name='Q{}action-map' slot='0'/>
    </let>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='10' rank='1' minImp='0' slots='17' flags='s' line='1237' module='saxon-xforms.xsl'>
    <p.nodeTest role='match' test='element(Q{http://www.w3.org/2002/xforms}input)' jsTest='var q=SaxonJS.U.nameOfNode(item); return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;input&#39;;'/>
    <sequence role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='1238'>
     <param name='Q{}position' slot='0' as='xs:integer'>
      <int role='select' val='0'/>
      <treat role='conversion' as='xs:integer' jsTest='return SaxonJS.U.Atomic.integer.matches(item);' diag='8|0|XTTE0590|position'>
       <check card='1' diag='8|0|XTTE0590|position'>
        <cvUntyped to='xs:integer' diag='8|0|XTTE0590|position'>
         <data>
          <supplied slot='0'/>
         </data>
        </cvUntyped>
       </check>
      </treat>
     </param>
     <param line='1239' name='Q{}context-position' slot='1' as='xs:string'>
      <str role='select' val=''/>
      <treat role='conversion' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='8|0|XTTE0590|context-position'>
       <check card='1' diag='8|0|XTTE0590|context-position'>
        <cvUntyped to='xs:string' diag='8|0|XTTE0590|context-position'>
         <data>
          <supplied slot='1'/>
         </data>
        </cvUntyped>
       </check>
      </treat>
     </param>
     <let line='1241' var='Q{}string-position' as='xs:string' slot='2' eval='16'>
      <choose>
       <varRef name='Q{}context-position' slot='1'/>
       <varRef name='Q{}context-position' slot='1'/>
       <true/>
       <fn name='string'>
        <varRef name='Q{}position' slot='0'/>
       </fn>
      </choose>
      <let line='1243' var='Q{}myid' as='xs:string' slot='3' eval='16'>
       <choose>
        <fn name='exists'>
         <axis name='attribute' nodeTest='attribute(Q{}id)' jsTest='return item.name===&#39;id&#39;'/>
        </fn>
        <fn name='concat'>
         <attVal name='Q{}id' chk='0'/>
         <str val='-'/>
         <varRef name='Q{}string-position' slot='2'/>
        </fn>
        <true/>
        <fn name='concat'>
         <fn name='generate-id'>
          <dot type='element(Q{http://www.w3.org/2002/xforms}input)'/>
         </fn>
         <str val='-'/>
         <varRef name='Q{}string-position' slot='2'/>
        </fn>
       </choose>
       <sequence line='1245'>
        <choose>
         <and op='and'>
          <let var='Q{}this' as='element(Q{http://www.w3.org/2002/xforms}input)' slot='4' eval='16'>
           <dot type='element(Q{http://www.w3.org/2002/xforms}input)'/>
           <fn line='2532' name='exists'>
            <sequence line='2507'>
             <analyzeString>
              <cvUntyped role='select' to='xs:string'>
               <data>
                <slash simple='1'>
                 <varRef name='Q{}this' slot='4'/>
                 <axis name='attribute' nodeTest='attribute(Q{}ref)' jsTest='return item.name===&#39;ref&#39;'/>
                </slash>
               </data>
              </cvUntyped>
              <str role='regex' val='\i\c*\('/>
              <str role='flags' val=''/>
              <choose role='matching' line='2510'>
               <vc op='eq' onEmpty='0' comp='CCC'>
                <fn name='substring-before'>
                 <dot type='xs:string'/>
                 <str val='('/>
                </fn>
                <str val='index'/>
               </vc>
               <str val='i'/>
              </choose>
              <empty role='nonMatching'/>
             </analyzeString>
             <analyzeString line='2519'>
              <cvUntyped role='select' to='xs:string'>
               <data>
                <slash simple='1'>
                 <varRef name='Q{}this' slot='4'/>
                 <axis name='attribute' nodeTest='attribute(Q{}nodeset)' jsTest='return item.name===&#39;nodeset&#39;'/>
                </slash>
               </data>
              </cvUntyped>
              <str role='regex' val='\i\c*\('/>
              <str role='flags' val=''/>
              <choose role='matching' line='2522'>
               <vc op='eq' onEmpty='0' comp='CCC'>
                <fn name='substring-before'>
                 <dot type='xs:string'/>
                 <str val='('/>
                </fn>
                <str val='index'/>
               </vc>
               <str val='i'/>
              </choose>
              <empty role='nonMatching'/>
             </analyzeString>
            </sequence>
           </fn>
          </let>
          <fn name='empty'>
           <filter flags='b'>
            <slash simple='1'>
             <dot type='element(Q{http://www.w3.org/2002/xforms}input)'/>
             <axis name='ancestor' nodeTest='element()' jsTest='return item.nodeType===1;'/>
            </slash>
            <let var='Q{}this' as='element()' slot='5' eval='16'>
             <dot type='element()'/>
             <fn line='2532' name='exists'>
              <sequence line='2507'>
               <analyzeString>
                <cvUntyped role='select' to='xs:string'>
                 <data>
                  <slash simple='1'>
                   <varRef name='Q{}this' slot='5'/>
                   <axis name='attribute' nodeTest='attribute(Q{}ref)' jsTest='return item.name===&#39;ref&#39;'/>
                  </slash>
                 </data>
                </cvUntyped>
                <str role='regex' val='\i\c*\('/>
                <str role='flags' val=''/>
                <choose role='matching' line='2510'>
                 <vc op='eq' onEmpty='0' comp='CCC'>
                  <fn name='substring-before'>
                   <dot type='xs:string'/>
                   <str val='('/>
                  </fn>
                  <str val='index'/>
                 </vc>
                 <str val='i'/>
                </choose>
                <empty role='nonMatching'/>
               </analyzeString>
               <analyzeString line='2519'>
                <cvUntyped role='select' to='xs:string'>
                 <data>
                  <slash simple='1'>
                   <varRef name='Q{}this' slot='5'/>
                   <axis name='attribute' nodeTest='attribute(Q{}nodeset)' jsTest='return item.name===&#39;nodeset&#39;'/>
                  </slash>
                 </data>
                </cvUntyped>
                <str role='regex' val='\i\c*\('/>
                <str role='flags' val=''/>
                <choose role='matching' line='2522'>
                 <vc op='eq' onEmpty='0' comp='CCC'>
                  <fn name='substring-before'>
                   <dot type='xs:string'/>
                   <str val='('/>
                  </fn>
                  <str val='index'/>
                 </vc>
                 <str val='i'/>
                </choose>
                <empty role='nonMatching'/>
               </analyzeString>
              </sequence>
             </fn>
            </let>
           </filter>
          </fn>
         </and>
         <ifCall line='1246' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
          <check card='1' diag='0|0||ixsl:call'>
           <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
          </check>
          <str val='setElementUsingIndexFunction'/>
          <arrayBlock>
           <varRef name='Q{}myid' slot='3'/>
           <dot type='element(Q{http://www.w3.org/2002/xforms}input)'/>
          </arrayBlock>
         </ifCall>
        </choose>
        <let line='1254' var='Q{}bindingi' as='node()?' slot='6' eval='7'>
         <treat line='1255' as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='3|0|XTTE0570|bindingi'>
          <check card='?' diag='3|0|XTTE0570|bindingi'>
           <callT name='Q{}getBinding' bSlot='12'>
            <withParam name='Q{}this' flags='c' as='element()'>
             <dot line='1256' type='element(Q{http://www.w3.org/2002/xforms}input)'/>
            </withParam>
           </callT>
          </check>
         </treat>
         <let line='1264' var='Q{}refi' as='xs:string' slot='7' eval='16'>
          <treat line='1265' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|refi'>
           <check card='1' diag='3|0|XTTE0570|refi'>
            <cvUntyped to='xs:string' diag='3|0|XTTE0570|refi'>
             <data>
              <callT name='Q{}getDataRef' bSlot='13'>
               <withParam name='Q{}this' flags='c' as='element()'>
                <dot line='1266' type='element(Q{http://www.w3.org/2002/xforms}input)'/>
               </withParam>
               <withParam name='Q{}bindingi' flags='c' as='node()?'>
                <varRef line='1267' name='Q{}bindingi' slot='6'/>
               </withParam>
              </callT>
             </data>
            </cvUntyped>
           </check>
          </treat>
          <let line='1274' var='Q{}instanceField' as='node()?' slot='8' eval='7'>
           <treat line='1275' as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='3|0|XTTE0570|instanceField'>
            <check card='?' diag='3|0|XTTE0570|instanceField'>
             <callT name='Q{}getReferencedInstanceField' bSlot='14'>
              <withParam name='Q{}refi' flags='c' as='xs:string'>
               <varRef line='1276' name='Q{}refi' slot='7'/>
              </withParam>
             </callT>
            </check>
           </treat>
           <let line='1290' var='Q{}relevantVar' as='xs:boolean' slot='9' eval='16'>
            <choose line='1292'>
             <and op='and'>
              <and op='and'>
               <fn name='exists'>
                <varRef name='Q{}bindingi' slot='6'/>
               </fn>
               <fn name='exists'>
                <slash simple='1'>
                 <varRef name='Q{}bindingi' slot='6'/>
                 <axis name='attribute' nodeTest='attribute(Q{}relevant)' jsTest='return item.name===&#39;relevant&#39;'/>
                </slash>
               </fn>
              </and>
              <fn name='exists'>
               <varRef name='Q{}instanceField' slot='8'/>
              </fn>
             </and>
             <treat line='1293' as='xs:boolean' jsTest='return SaxonJS.U.Atomic.boolean.matches(item);' diag='3|0|XTTE0570|relevantVar'>
              <check card='1' diag='3|0|XTTE0570|relevantVar'>
               <cvUntyped to='xs:boolean' diag='3|0|XTTE0570|relevantVar'>
                <data>
                 <evaluate dxns=''>
                  <ufCall role='xpath' name='Q{http://www.w3.org/2002/xforms}impose' tailCall='false' bSlot='15' eval='16'>
                   <check card='1' diag='0|0||xforms:impose'>
                    <cvUntyped to='xs:string'>
                     <data>
                      <slash simple='1'>
                       <varRef name='Q{}bindingi' slot='6'/>
                       <axis name='attribute' nodeTest='attribute(Q{}relevant)' jsTest='return item.name===&#39;relevant&#39;'/>
                      </slash>
                     </data>
                    </cvUntyped>
                   </check>
                  </ufCall>
                  <varRef role='cxt' name='Q{}instanceField' slot='8'/>
                  <choose role='nsCxt' line='1285'>
                   <fn name='exists'>
                    <varRef name='Q{}instanceField' slot='8'/>
                   </fn>
                   <treat as='element()' jsTest='return item.nodeType===1;' diag='3|0|XTTE0570|namespace-context-item'>
                    <check card='1' diag='3|0|XTTE0570|namespace-context-item'>
                     <varRef name='Q{}instanceField' slot='8'/>
                    </check>
                   </treat>
                   <true/>
                   <let var='Q{}this' as='element()' slot='10' eval='16'>
                    <check card='1' diag='0|0||xforms:addNamespaceDeclarations'>
                     <slash simple='1'>
                      <root/>
                      <axis name='child' nodeTest='element()' jsTest='return item.nodeType===1;'/>
                     </slash>
                    </check>
                    <compElem line='2542'>
                     <fn role='name' name='name'>
                      <varRef name='Q{}this' slot='10'/>
                     </fn>
                     <sequence role='content' line='2543'>
                      <namespace flags='l'>
                       <str role='name' val='xforms'/>
                       <str role='select' val='http://www.w3.org/2002/xforms'/>
                      </namespace>
                      <forEach line='2544'>
                       <filter flags='b'>
                        <filter flags='b'>
                         <slash simple='1'>
                          <varRef name='Q{}this' slot='10'/>
                          <axis name='descendant' nodeTest='element()' jsTest='return item.nodeType===1;'/>
                         </slash>
                         <fn name='boolean'>
                          <fn name='namespace-uri'>
                           <dot type='element()'/>
                          </fn>
                         </fn>
                        </filter>
                        <fn name='not'>
                         <gc op='=' card='N:1' comp='CCC'>
                          <sequence>
                           <slash>
                            <fn name='reverse'>
                             <axis name='ancestor' nodeTest='element()' jsTest='return item.nodeType===1;'/>
                            </fn>
                            <fn name='namespace-uri'>
                             <dot type='element()'/>
                            </fn>
                           </slash>
                           <slash>
                            <fn name='reverse'>
                             <axis name='preceding' nodeTest='element()' jsTest='return item.nodeType===1;'/>
                            </fn>
                            <fn name='namespace-uri'>
                             <dot type='element()'/>
                            </fn>
                           </slash>
                          </sequence>
                          <fn name='namespace-uri'>
                           <dot type='element()'/>
                          </fn>
                         </gc>
                        </fn>
                       </filter>
                       <namespace line='2547' flags='l'>
                        <fn role='name' line='2546' name='substring-before'>
                         <fn name='name'>
                          <dot type='element()'/>
                         </fn>
                         <str val=':'/>
                        </fn>
                        <convert role='select' from='xs:anyURI' to='xs:string'>
                         <fn line='2545' name='namespace-uri'>
                          <dot type='element()'/>
                         </fn>
                        </convert>
                       </namespace>
                      </forEach>
                      <copyOf line='2549' flags='vc'>
                       <sequence>
                        <slash simple='1'>
                         <varRef name='Q{}this' slot='10'/>
                         <axis name='attribute' nodeTest='attribute()' jsTest='return SaxonJS.U.isAttr(item)'/>
                        </slash>
                        <slash simple='1'>
                         <varRef name='Q{}this' slot='10'/>
                         <axis name='child' nodeTest='( element() | text() | comment() | processing-instruction() )' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; (item.nodeType===1 || item.nodeType===3 || item.nodeType===7 || item.nodeType===8);'/>
                        </slash>
                       </sequence>
                      </copyOf>
                     </sequence>
                    </compElem>
                   </let>
                  </choose>
                  <str role='sa' val='no'/>
                  <map role='options' size='0'/>
                  <map role='wp' size='0'/>
                 </evaluate>
                </data>
               </cvUntyped>
              </check>
             </treat>
             <true/>
             <true/>
            </choose>
            <let line='1303' var='Q{}actions' as='map(*)*' slot='11' eval='8'>
             <treat line='1304' as='map(*)' jsTest='return SaxonJS.U.isMap(item)' diag='3|0|XTTE0570|actions'>
              <callT name='Q{}setActions' bSlot='16'>
               <withParam name='Q{}this' flags='c' as='element()'>
                <dot line='1305' type='element(Q{http://www.w3.org/2002/xforms}input)'/>
               </withParam>
               <withParam name='Q{}nodeset' flags='t' as='xs:string'>
                <varRef line='1306' name='Q{}refi' slot='7'/>
               </withParam>
              </callT>
             </treat>
             <sequence line='1311'>
              <choose>
               <fn name='exists'>
                <varRef name='Q{}actions' slot='11'/>
               </fn>
               <ifCall line='1312' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
                <check card='1' diag='0|0||ixsl:call'>
                 <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
                </check>
                <str val='addAction'/>
                <arrayBlock>
                 <varRef name='Q{}myid' slot='3'/>
                 <varRef name='Q{}actions' slot='11'/>
                </arrayBlock>
               </ifCall>
              </choose>
              <elem line='1317' name='div' nsuri='' namespaces='xd rdf xhtml js in fn map array ev'>
               <sequence>
                <att name='class' flags='l'>
                 <str val='xforms-input'/>
                </att>
                <att line='1318' name='style' flags='l'>
                 <choose>
                  <varRef name='Q{}relevantVar' slot='9'/>
                  <str val='display:block'/>
                  <true/>
                  <str val='display:none'/>
                 </choose>
                </att>
                <applyT line='1320' bSlot='17'>
                 <axis role='select' name='child' nodeTest='element(Q{http://www.w3.org/2002/xforms}label)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;label&#39;;'/>
                </applyT>
                <let line='1322' var='Q{}hints' as='text()*' slot='12' eval='4'>
                 <slash simple='2'>
                  <axis name='child' nodeTest='element(Q{http://www.w3.org/2002/xforms}hint)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;hint&#39;;'/>
                  <axis name='child' nodeTest='text()' jsTest='return item.nodeType===3;'/>
                 </slash>
                 <elem line='1326' name='input' nsuri='' flags='l' namespaces='xd rdf xhtml js in fn map array ev'>
                  <sequence line='1327'>
                   <let var='Q{}element' as='element(Q{http://www.w3.org/2002/xforms}input)' slot='13' eval='16'>
                    <dot type='element(Q{http://www.w3.org/2002/xforms}input)'/>
                    <let line='2604' var='Q{}class' as='xs:string?' slot='14' eval='7'>
                     <choose line='2605'>
                      <fn name='exists'>
                       <slash simple='1'>
                        <varRef name='Q{}element' slot='13'/>
                        <axis name='attribute' nodeTest='attribute(Q{}class)' jsTest='return item.name===&#39;class&#39;'/>
                       </slash>
                      </fn>
                      <cvUntyped line='2606' to='xs:string' diag='3|0|XTTE0570|class'>
                       <cast as='xs:untypedAtomic' emptiable='0'>
                        <fn name='string'>
                         <convert from='xs:untypedAtomic' to='xs:string'>
                          <data>
                           <slash simple='1'>
                            <varRef name='Q{}element' slot='13'/>
                            <axis name='attribute' nodeTest='attribute(Q{}class)' jsTest='return item.name===&#39;class&#39;'/>
                           </slash>
                          </data>
                         </convert>
                        </fn>
                       </cast>
                      </cvUntyped>
                     </choose>
                     <let line='2609' var='Q{}class-mod' as='xs:string?' slot='15' eval='7'>
                      <choose line='2611'>
                       <fn name='exists'>
                        <slash simple='1'>
                         <varRef name='Q{}element' slot='13'/>
                         <axis name='attribute' nodeTest='attribute(Q{}incremental)' jsTest='return item.name===&#39;incremental&#39;'/>
                        </slash>
                       </fn>
                       <cvUntyped line='2612' to='xs:string' diag='3|0|XTTE0570|class-mod'>
                        <cast as='xs:untypedAtomic' emptiable='0'>
                         <fn name='string-join'>
                          <sequence>
                           <varRef name='Q{}class' slot='14'/>
                           <str val='incremental'/>
                          </sequence>
                          <str val=' '/>
                         </fn>
                        </cast>
                       </cvUntyped>
                       <true/>
                       <varRef line='2615' name='Q{}class' slot='14'/>
                      </choose>
                      <choose line='2619'>
                       <fn name='exists'>
                        <varRef name='Q{}class-mod' slot='15'/>
                       </fn>
                       <treat line='2620' as='attribute(Q{}class)' jsTest='return item.name===&#39;class&#39;' diag='5|0|XTTE0780|xforms:getClass#1'>
                        <att name='class' flags='l'>
                         <varRef name='Q{}class-mod' slot='15'/>
                        </att>
                       </treat>
                      </choose>
                     </let>
                    </let>
                   </let>
                   <att line='1328' name='id' flags='l'>
                    <varRef name='Q{}myid' slot='3'/>
                   </att>
                   <att line='1330' name='data-ref' flags='l'>
                    <varRef name='Q{}refi' slot='7'/>
                   </att>
                   <att line='1331' name='data-element' flags='l'>
                    <lastOf line='1324'>
                     <fn name='tokenize'>
                      <varRef name='Q{}refi' slot='7'/>
                      <str val='/'/>
                      <str val=''/>
                     </fn>
                    </lastOf>
                   </att>
                   <choose line='1333'>
                    <and op='and'>
                     <fn name='exists'>
                      <varRef name='Q{}bindingi' slot='6'/>
                     </fn>
                     <fn name='exists'>
                      <slash simple='1'>
                       <varRef name='Q{}bindingi' slot='6'/>
                       <axis name='attribute' nodeTest='attribute(Q{}required)' jsTest='return item.name===&#39;required&#39;'/>
                      </slash>
                     </fn>
                    </and>
                    <att line='1334' name='data-required' flags='l'>
                     <convert from='xs:untypedAtomic' to='xs:string'>
                      <data>
                       <slash simple='1'>
                        <varRef name='Q{}bindingi' slot='6'/>
                        <axis name='attribute' nodeTest='attribute(Q{}required)' jsTest='return item.name===&#39;required&#39;'/>
                       </slash>
                      </data>
                     </convert>
                    </att>
                   </choose>
                   <choose line='1336'>
                    <and op='and'>
                     <fn name='exists'>
                      <varRef name='Q{}bindingi' slot='6'/>
                     </fn>
                     <fn name='exists'>
                      <slash simple='1'>
                       <varRef name='Q{}bindingi' slot='6'/>
                       <axis name='attribute' nodeTest='attribute(Q{}constraint)' jsTest='return item.name===&#39;constraint&#39;'/>
                      </slash>
                     </fn>
                    </and>
                    <att line='1337' name='data-constraint' flags='l'>
                     <convert from='xs:untypedAtomic' to='xs:string'>
                      <data>
                       <slash simple='1'>
                        <varRef name='Q{}bindingi' slot='6'/>
                        <axis name='attribute' nodeTest='attribute(Q{}constraint)' jsTest='return item.name===&#39;constraint&#39;'/>
                       </slash>
                      </data>
                     </convert>
                    </att>
                   </choose>
                   <choose line='1339'>
                    <fn name='exists'>
                     <varRef name='Q{}actions' slot='11'/>
                    </fn>
                    <att line='1340' name='data-action' flags='l'>
                     <varRef name='Q{}myid' slot='3'/>
                    </att>
                   </choose>
                   <choose line='1343'>
                    <and op='and'>
                     <fn name='exists'>
                      <varRef name='Q{}bindingi' slot='6'/>
                     </fn>
                     <fn name='exists'>
                      <slash simple='1'>
                       <varRef name='Q{}bindingi' slot='6'/>
                       <axis name='attribute' nodeTest='attribute(Q{}relevant)' jsTest='return item.name===&#39;relevant&#39;'/>
                      </slash>
                     </fn>
                    </and>
                    <att line='1344' name='data-relevant' flags='l'>
                     <convert from='xs:untypedAtomic' to='xs:string'>
                      <data>
                       <slash simple='1'>
                        <varRef name='Q{}bindingi' slot='6'/>
                        <axis name='attribute' nodeTest='attribute(Q{}relevant)' jsTest='return item.name===&#39;relevant&#39;'/>
                       </slash>
                      </data>
                     </convert>
                    </att>
                   </choose>
                   <let line='1347' var='Q{}input-value' as='xs:string' slot='16' eval='16'>
                    <choose line='1349'>
                     <fn name='exists'>
                      <varRef name='Q{}instanceField' slot='8'/>
                     </fn>
                     <cvUntyped line='1350' to='xs:string' diag='3|0|XTTE0570|input-value'>
                      <cast as='xs:untypedAtomic' emptiable='0'>
                       <fn name='string'>
                        <convert from='xs:anyAtomicType' to='xs:string'>
                         <data>
                          <varRef name='Q{}instanceField' slot='8'/>
                         </data>
                        </convert>
                       </fn>
                      </cast>
                     </cvUntyped>
                     <true/>
                     <str val=''/>
                    </choose>
                    <sequence line='1364'>
                     <choose>
                      <choose>
                       <fn name='exists'>
                        <varRef name='Q{}bindingi' slot='6'/>
                       </fn>
                       <vc op='eq' comp='EQC'>
                        <cast as='xs:QName' emptiable='1'>
                         <data>
                          <slash simple='1'>
                           <varRef name='Q{}bindingi' slot='6'/>
                           <axis name='attribute' nodeTest='attribute(Q{}type)' jsTest='return item.name===&#39;type&#39;'/>
                          </slash>
                         </data>
                        </cast>
                        <qName pre='xs' uri='http://www.w3.org/2001/XMLSchema' loc='date'/>
                       </vc>
                       <true/>
                       <false/>
                      </choose>
                      <sequence line='1365'>
                       <att name='data-type' flags='l'>
                        <str val='date'/>
                       </att>
                       <att line='1367' name='type' flags='l'>
                        <str val='date'/>
                       </att>
                       <att line='1369' name='value' flags='l'>
                        <varRef name='Q{}input-value' slot='16'/>
                       </att>
                      </sequence>
                      <choose line='1376'>
                       <fn name='exists'>
                        <varRef name='Q{}bindingi' slot='6'/>
                       </fn>
                       <vc op='eq' comp='EQC'>
                        <cast as='xs:QName' emptiable='1'>
                         <data>
                          <slash simple='1'>
                           <varRef name='Q{}bindingi' slot='6'/>
                           <axis name='attribute' nodeTest='attribute(Q{}type)' jsTest='return item.name===&#39;type&#39;'/>
                          </slash>
                         </data>
                        </cast>
                        <qName pre='xs' uri='http://www.w3.org/2001/XMLSchema' loc='time'/>
                       </vc>
                       <true/>
                       <false/>
                      </choose>
                      <sequence line='1377'>
                       <att name='data-type' flags='l'>
                        <str val='time'/>
                       </att>
                       <att line='1379' name='type' flags='l'>
                        <str val='time'/>
                       </att>
                       <att line='1382' name='value' flags='l'>
                        <varRef name='Q{}input-value' slot='16'/>
                       </att>
                      </sequence>
                      <choose line='1389'>
                       <fn name='exists'>
                        <varRef name='Q{}bindingi' slot='6'/>
                       </fn>
                       <vc op='eq' comp='EQC'>
                        <cast as='xs:QName' emptiable='1'>
                         <data>
                          <slash simple='1'>
                           <varRef name='Q{}bindingi' slot='6'/>
                           <axis name='attribute' nodeTest='attribute(Q{}type)' jsTest='return item.name===&#39;type&#39;'/>
                          </slash>
                         </data>
                        </cast>
                        <qName pre='xs' uri='http://www.w3.org/2001/XMLSchema' loc='boolean'/>
                       </vc>
                       <true/>
                       <false/>
                      </choose>
                      <sequence line='1390'>
                       <att name='data-type' flags='l'>
                        <str val='checkbox'/>
                       </att>
                       <att line='1392' name='type' flags='l'>
                        <str val='checkbox'/>
                       </att>
                       <choose line='1397'>
                        <fn name='exists'>
                         <varRef name='Q{}instanceField' slot='8'/>
                        </fn>
                        <choose line='1398'>
                         <and op='and'>
                          <varRef name='Q{}input-value' slot='16'/>
                          <cast as='xs:boolean' emptiable='0'>
                           <varRef name='Q{}input-value' slot='16'/>
                          </cast>
                         </and>
                         <att line='1399' name='checked' flags='l'>
                          <varRef name='Q{}input-value' slot='16'/>
                         </att>
                        </choose>
                       </choose>
                      </sequence>
                      <true/>
                      <sequence line='1405'>
                       <choose>
                        <varRef name='Q{}relevantVar' slot='9'/>
                        <att line='1406' name='type' flags='l'>
                         <str val='text'/>
                        </att>
                       </choose>
                       <att line='1408' name='value' flags='l'>
                        <varRef name='Q{}input-value' slot='16'/>
                       </att>
                      </sequence>
                     </choose>
                     <choose line='1412'>
                      <fn name='exists'>
                       <varRef name='Q{}hints' slot='12'/>
                      </fn>
                      <att line='1413' name='title' flags='l'>
                       <fn name='string-join'>
                        <convert from='xs:untypedAtomic' to='xs:string'>
                         <data>
                          <mergeAdj>
                           <varRef name='Q{}hints' slot='12'/>
                          </mergeAdj>
                         </data>
                        </convert>
                        <str val=' '/>
                       </fn>
                      </att>
                     </choose>
                     <choose line='1415'>
                      <fn name='exists'>
                       <axis name='attribute' nodeTest='attribute(Q{}size)' jsTest='return item.name===&#39;size&#39;'/>
                      </fn>
                      <att line='1416' name='size' flags='l'>
                       <convert from='xs:untypedAtomic' to='xs:string'>
                        <attVal name='Q{}size' chk='0'/>
                       </convert>
                      </att>
                     </choose>
                    </sequence>
                   </let>
                  </sequence>
                 </elem>
                </let>
               </sequence>
              </elem>
             </sequence>
            </let>
           </let>
          </let>
         </let>
        </let>
       </sequence>
      </let>
     </let>
    </sequence>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='6' rank='1' minImp='0' slots='0' flags='s' line='1061' module='saxon-xforms.xsl'>
    <p.nodeTest role='match' test='element(Q{http://www.w3.org/2002/xforms}model)' jsTest='var q=SaxonJS.U.nameOfNode(item); return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;model&#39;;'/>
    <empty role='action'/>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='8' rank='1' minImp='0' slots='0' flags='s' line='1087' module='saxon-xforms.xsl'>
    <p.nodeTest role='match' test='element(Q{http://www.w3.org/1999/xhtml}html)' jsTest='var q=SaxonJS.U.nameOfNode(item); return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/1999/xhtml&#39;&amp;&amp;q.local===&#39;html&#39;;'/>
    <elem role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='1088' name='html' nsuri='' namespaces='xd rdf xhtml js in fn map array ev'>
     <sequence line='1089'>
      <copyOf flags='vc'>
       <axis name='attribute' nodeTest='attribute()' jsTest='return SaxonJS.U.isAttr(item)'/>
      </copyOf>
      <elem line='1090' name='head' nsuri='' flags='l' namespaces='xd rdf xhtml js in fn map array ev'>
       <sequence line='1091'>
        <copyOf flags='vc'>
         <union op='|'>
          <slash simple='2'>
           <axis name='child' nodeTest='element(Q{http://www.w3.org/1999/xhtml}head)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/1999/xhtml&#39;&amp;&amp;q.local===&#39;head&#39;;'/>
           <axis name='attribute' nodeTest='attribute()' jsTest='return SaxonJS.U.isAttr(item)'/>
          </slash>
          <slash simple='2'>
           <axis name='child' nodeTest='element(Q{}head)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;&#39;&amp;&amp;q.local===&#39;head&#39;;'/>
           <axis name='attribute' nodeTest='attribute()' jsTest='return SaxonJS.U.isAttr(item)'/>
          </slash>
         </union>
        </copyOf>
        <elem line='1092' name='meta' nsuri='' flags='l'>
         <sequence>
          <att name='http-equiv' flags='l'>
           <str val='Content-Type'/>
          </att>
          <att name='content' flags='l'>
           <str val='text/html;charset=utf-8'/>
          </att>
         </sequence>
        </elem>
        <forEach line='1094'>
         <union op='|'>
          <filter flags='b'>
           <slash simple='2'>
            <axis name='child' nodeTest='element(Q{http://www.w3.org/1999/xhtml}head)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/1999/xhtml&#39;&amp;&amp;q.local===&#39;head&#39;;'/>
            <axis name='child' nodeTest='element(Q{http://www.w3.org/1999/xhtml}meta)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/1999/xhtml&#39;&amp;&amp;q.local===&#39;meta&#39;;'/>
           </slash>
           <vc op='ne' onEmpty='0' comp='CCC'>
            <fn name='string'>
             <axis name='attribute' nodeTest='attribute(Q{}http-equiv)' jsTest='return item.name===&#39;http-equiv&#39;'/>
            </fn>
            <str val='Content-Type'/>
           </vc>
          </filter>
          <filter flags='b'>
           <slash simple='2'>
            <axis name='child' nodeTest='element(Q{}head)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;&#39;&amp;&amp;q.local===&#39;head&#39;;'/>
            <axis name='child' nodeTest='element(Q{}meta)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;&#39;&amp;&amp;q.local===&#39;meta&#39;;'/>
           </slash>
           <vc op='ne' onEmpty='0' comp='CCC'>
            <fn name='string'>
             <axis name='attribute' nodeTest='attribute(Q{}http-equiv)' jsTest='return item.name===&#39;http-equiv&#39;'/>
            </fn>
            <str val='Content-Type'/>
           </vc>
          </filter>
         </union>
         <elem line='1095' name='meta' nsuri='' flags='l' namespaces='xd rdf xhtml js in fn map array ev'>
          <copyOf line='1096' flags='vc'>
           <axis name='attribute' nodeTest='attribute()' jsTest='return SaxonJS.U.isAttr(item)'/>
          </copyOf>
         </elem>
        </forEach>
        <copyOf line='1101' flags='vc'>
         <axis name='child' nodeTest='element(Q{}script)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;&#39;&amp;&amp;q.local===&#39;script&#39;;'/>
        </copyOf>
       </sequence>
      </elem>
      <elem line='1103' name='body' nsuri='' flags='l' namespaces='xd rdf xhtml js in fn map array ev'>
       <applyT line='1104' bSlot='4'>
        <slash role='select' simple='2'>
         <axis name='child' nodeTest='element(Q{}body)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;&#39;&amp;&amp;q.local===&#39;body&#39;;'/>
         <axis name='child' nodeTest='element()' jsTest='return item.nodeType===1;'/>
        </slash>
       </applyT>
      </elem>
     </sequence>
    </elem>
   </templateRule>
   <templateRule prec='0' prio='2.0' seq='11' rank='3' minImp='0' slots='10' flags='s' line='1434' module='saxon-xforms.xsl'>
    <p.nodeTest role='match' test='element(Q{http://www.w3.org/2002/xforms}textarea)' jsTest='var q=SaxonJS.U.nameOfNode(item); return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;textarea&#39;;'/>
    <sequence role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='1435'>
     <param name='Q{}position' slot='0' as='xs:integer'>
      <int role='select' val='0'/>
      <treat role='conversion' as='xs:integer' jsTest='return SaxonJS.U.Atomic.integer.matches(item);' diag='8|0|XTTE0590|position'>
       <check card='1' diag='8|0|XTTE0590|position'>
        <cvUntyped to='xs:integer' diag='8|0|XTTE0590|position'>
         <data>
          <supplied slot='0'/>
         </data>
        </cvUntyped>
       </check>
      </treat>
     </param>
     <param line='1436' name='Q{}context-position' slot='1' as='xs:string'>
      <str role='select' val=''/>
      <treat role='conversion' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='8|0|XTTE0590|context-position'>
       <check card='1' diag='8|0|XTTE0590|context-position'>
        <cvUntyped to='xs:string' diag='8|0|XTTE0590|context-position'>
         <data>
          <supplied slot='1'/>
         </data>
        </cvUntyped>
       </check>
      </treat>
     </param>
     <let line='1440' var='Q{}myid' as='xs:string' slot='2' eval='16'>
      <choose>
       <fn name='exists'>
        <axis name='attribute' nodeTest='attribute(Q{}id)' jsTest='return item.name===&#39;id&#39;'/>
       </fn>
       <check card='1' diag='3|0|XTTE0570|myid'>
        <cvUntyped to='xs:string' diag='3|0|XTTE0570|myid'>
         <attVal name='Q{}id' chk='0'/>
        </cvUntyped>
       </check>
       <true/>
       <fn name='concat'>
        <fn name='generate-id'>
         <dot type='element(Q{http://www.w3.org/2002/xforms}textarea)'/>
        </fn>
        <str val='-'/>
        <choose line='1438'>
         <varRef name='Q{}context-position' slot='1'/>
         <varRef name='Q{}context-position' slot='1'/>
         <true/>
         <fn name='string'>
          <varRef name='Q{}position' slot='0'/>
         </fn>
        </choose>
       </fn>
      </choose>
      <sequence line='1442'>
       <choose>
        <and op='and'>
         <let var='Q{}this' as='element(Q{http://www.w3.org/2002/xforms}textarea)' slot='3' eval='16'>
          <dot type='element(Q{http://www.w3.org/2002/xforms}textarea)'/>
          <fn line='2532' name='exists'>
           <sequence line='2507'>
            <analyzeString>
             <cvUntyped role='select' to='xs:string'>
              <data>
               <slash simple='1'>
                <varRef name='Q{}this' slot='3'/>
                <axis name='attribute' nodeTest='attribute(Q{}ref)' jsTest='return item.name===&#39;ref&#39;'/>
               </slash>
              </data>
             </cvUntyped>
             <str role='regex' val='\i\c*\('/>
             <str role='flags' val=''/>
             <choose role='matching' line='2510'>
              <vc op='eq' onEmpty='0' comp='CCC'>
               <fn name='substring-before'>
                <dot type='xs:string'/>
                <str val='('/>
               </fn>
               <str val='index'/>
              </vc>
              <str val='i'/>
             </choose>
             <empty role='nonMatching'/>
            </analyzeString>
            <analyzeString line='2519'>
             <cvUntyped role='select' to='xs:string'>
              <data>
               <slash simple='1'>
                <varRef name='Q{}this' slot='3'/>
                <axis name='attribute' nodeTest='attribute(Q{}nodeset)' jsTest='return item.name===&#39;nodeset&#39;'/>
               </slash>
              </data>
             </cvUntyped>
             <str role='regex' val='\i\c*\('/>
             <str role='flags' val=''/>
             <choose role='matching' line='2522'>
              <vc op='eq' onEmpty='0' comp='CCC'>
               <fn name='substring-before'>
                <dot type='xs:string'/>
                <str val='('/>
               </fn>
               <str val='index'/>
              </vc>
              <str val='i'/>
             </choose>
             <empty role='nonMatching'/>
            </analyzeString>
           </sequence>
          </fn>
         </let>
         <fn name='empty'>
          <filter flags='b'>
           <slash simple='1'>
            <dot type='element(Q{http://www.w3.org/2002/xforms}textarea)'/>
            <axis name='ancestor' nodeTest='element()' jsTest='return item.nodeType===1;'/>
           </slash>
           <let var='Q{}this' as='element()' slot='4' eval='16'>
            <dot type='element()'/>
            <fn line='2532' name='exists'>
             <sequence line='2507'>
              <analyzeString>
               <cvUntyped role='select' to='xs:string'>
                <data>
                 <slash simple='1'>
                  <varRef name='Q{}this' slot='4'/>
                  <axis name='attribute' nodeTest='attribute(Q{}ref)' jsTest='return item.name===&#39;ref&#39;'/>
                 </slash>
                </data>
               </cvUntyped>
               <str role='regex' val='\i\c*\('/>
               <str role='flags' val=''/>
               <choose role='matching' line='2510'>
                <vc op='eq' onEmpty='0' comp='CCC'>
                 <fn name='substring-before'>
                  <dot type='xs:string'/>
                  <str val='('/>
                 </fn>
                 <str val='index'/>
                </vc>
                <str val='i'/>
               </choose>
               <empty role='nonMatching'/>
              </analyzeString>
              <analyzeString line='2519'>
               <cvUntyped role='select' to='xs:string'>
                <data>
                 <slash simple='1'>
                  <varRef name='Q{}this' slot='4'/>
                  <axis name='attribute' nodeTest='attribute(Q{}nodeset)' jsTest='return item.name===&#39;nodeset&#39;'/>
                 </slash>
                </data>
               </cvUntyped>
               <str role='regex' val='\i\c*\('/>
               <str role='flags' val=''/>
               <choose role='matching' line='2522'>
                <vc op='eq' onEmpty='0' comp='CCC'>
                 <fn name='substring-before'>
                  <dot type='xs:string'/>
                  <str val='('/>
                 </fn>
                 <str val='index'/>
                </vc>
                <str val='i'/>
               </choose>
               <empty role='nonMatching'/>
              </analyzeString>
             </sequence>
            </fn>
           </let>
          </filter>
         </fn>
        </and>
        <ifCall line='1443' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
         <check card='1' diag='0|0||ixsl:call'>
          <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
         </check>
         <str val='setElementUsingIndexFunction'/>
         <arrayBlock>
          <varRef name='Q{}myid' slot='2'/>
          <dot type='element(Q{http://www.w3.org/2002/xforms}textarea)'/>
         </arrayBlock>
        </ifCall>
       </choose>
       <let line='1447' var='Q{}bindingi' as='node()?' slot='5' eval='7'>
        <treat line='1448' as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='3|0|XTTE0570|bindingi'>
         <check card='?' diag='3|0|XTTE0570|bindingi'>
          <callT name='Q{}getBinding' bSlot='18'>
           <withParam name='Q{}this' flags='c' as='element()'>
            <dot line='1449' type='element(Q{http://www.w3.org/2002/xforms}textarea)'/>
           </withParam>
          </callT>
         </check>
        </treat>
        <let line='1454' var='Q{}refi' as='xs:string' slot='6' eval='16'>
         <treat line='1455' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|refi'>
          <check card='1' diag='3|0|XTTE0570|refi'>
           <cvUntyped to='xs:string' diag='3|0|XTTE0570|refi'>
            <data>
             <callT name='Q{}getDataRef' bSlot='19'>
              <withParam name='Q{}this' flags='c' as='element()'>
               <dot line='1456' type='element(Q{http://www.w3.org/2002/xforms}textarea)'/>
              </withParam>
              <withParam name='Q{}bindingi' flags='c' as='node()?'>
               <varRef line='1457' name='Q{}bindingi' slot='5'/>
              </withParam>
             </callT>
            </data>
           </cvUntyped>
          </check>
         </treat>
         <let line='1462' var='Q{}instanceField' as='node()?' slot='7' eval='7'>
          <treat line='1463' as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='3|0|XTTE0570|instanceField'>
           <check card='?' diag='3|0|XTTE0570|instanceField'>
            <callT name='Q{}getReferencedInstanceField' bSlot='20'>
             <withParam name='Q{}refi' flags='c' as='xs:string'>
              <varRef line='1464' name='Q{}refi' slot='6'/>
             </withParam>
            </callT>
           </check>
          </treat>
          <let line='1469' var='Q{}actions' as='map(*)*' slot='8' eval='8'>
           <treat line='1470' as='map(*)' jsTest='return SaxonJS.U.isMap(item)' diag='3|0|XTTE0570|actions'>
            <callT name='Q{}setActions' bSlot='21'>
             <withParam name='Q{}this' flags='c' as='element()'>
              <dot line='1471' type='element(Q{http://www.w3.org/2002/xforms}textarea)'/>
             </withParam>
             <withParam name='Q{}nodeset' flags='t' as='xs:string'>
              <varRef line='1472' name='Q{}refi' slot='6'/>
             </withParam>
            </callT>
           </treat>
           <sequence line='1476'>
            <choose>
             <fn name='exists'>
              <varRef name='Q{}actions' slot='8'/>
             </fn>
             <ifCall line='1477' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
              <check card='1' diag='0|0||ixsl:call'>
               <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
              </check>
              <str val='addAction'/>
              <arrayBlock>
               <varRef name='Q{}myid' slot='2'/>
               <varRef name='Q{}actions' slot='8'/>
              </arrayBlock>
             </ifCall>
            </choose>
            <let line='1482' var='Q{}hints' as='text()*' slot='9' eval='4'>
             <slash simple='2'>
              <axis name='child' nodeTest='element(Q{http://www.w3.org/2002/xforms}hint)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;hint&#39;;'/>
              <axis name='child' nodeTest='text()' jsTest='return item.nodeType===3;'/>
             </slash>
             <elem line='1484' name='textarea' nsuri='' namespaces='xd rdf xhtml js in fn map array ev'>
              <sequence line='1485'>
               <copyOf flags='vc'>
                <filter flags='b'>
                 <axis name='attribute' nodeTest='attribute()' jsTest='return SaxonJS.U.isAttr(item)'/>
                 <vc op='ne' onEmpty='0' comp='CCC'>
                  <fn name='local-name'>
                   <dot type='attribute()'/>
                  </fn>
                  <str val='ref'/>
                 </vc>
                </filter>
               </copyOf>
               <att line='1486' name='data-element' flags='l'>
                <lastOf line='1480'>
                 <fn name='tokenize'>
                  <varRef name='Q{}refi' slot='6'/>
                  <str val='/'/>
                  <str val=''/>
                 </fn>
                </lastOf>
               </att>
               <att line='1487' name='data-ref' flags='l'>
                <varRef name='Q{}refi' slot='6'/>
               </att>
               <choose line='1489'>
                <fn name='exists'>
                 <varRef name='Q{}instanceField' slot='7'/>
                </fn>
                <valueOf line='1490' flags='l'>
                 <convert from='xs:anyAtomicType' to='xs:string'>
                  <data>
                   <varRef name='Q{}instanceField' slot='7'/>
                  </data>
                 </convert>
                </valueOf>
                <true/>
                <sequence line='1492'>
                 <valueOf flags='Sl'>
                  <str val=''/>
                 </valueOf>
                 <valueOf flags='l'>
                  <str val='  '/>
                 </valueOf>
                </sequence>
               </choose>
               <choose line='1495'>
                <fn name='exists'>
                 <varRef name='Q{}hints' slot='9'/>
                </fn>
                <att line='1496' name='title' flags='l'>
                 <fn name='string-join'>
                  <convert from='xs:untypedAtomic' to='xs:string'>
                   <data>
                    <mergeAdj>
                     <varRef name='Q{}hints' slot='9'/>
                    </mergeAdj>
                   </data>
                  </convert>
                  <str val=' '/>
                 </fn>
                </att>
               </choose>
              </sequence>
             </elem>
            </let>
           </sequence>
          </let>
         </let>
        </let>
       </let>
      </sequence>
     </let>
    </sequence>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='24' rank='1' minImp='0' slots='9' flags='s' line='1971' module='saxon-xforms.xsl'>
    <p.nodeTest role='match' test='element(Q{http://www.w3.org/2002/xforms}trigger)' jsTest='var q=SaxonJS.U.nameOfNode(item); return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;trigger&#39;;'/>
    <sequence role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='1972'>
     <param name='Q{}position' slot='0' as='xs:integer'>
      <int role='select' val='0'/>
      <treat role='conversion' as='xs:integer' jsTest='return SaxonJS.U.Atomic.integer.matches(item);' diag='8|0|XTTE0590|position'>
       <check card='1' diag='8|0|XTTE0590|position'>
        <cvUntyped to='xs:integer' diag='8|0|XTTE0590|position'>
         <data>
          <supplied slot='0'/>
         </data>
        </cvUntyped>
       </check>
      </treat>
     </param>
     <param line='1973' name='Q{}context-position' slot='1' as='xs:string'>
      <str role='select' val=''/>
      <treat role='conversion' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='8|0|XTTE0590|context-position'>
       <check card='1' diag='8|0|XTTE0590|context-position'>
        <cvUntyped to='xs:string' diag='8|0|XTTE0590|context-position'>
         <data>
          <supplied slot='1'/>
         </data>
        </cvUntyped>
       </check>
      </treat>
     </param>
     <let line='1977' var='Q{}myid' as='xs:string' slot='2' eval='16'>
      <choose>
       <fn name='exists'>
        <axis name='attribute' nodeTest='attribute(Q{}id)' jsTest='return item.name===&#39;id&#39;'/>
       </fn>
       <check card='1' diag='3|0|XTTE0570|myid'>
        <cvUntyped to='xs:string' diag='3|0|XTTE0570|myid'>
         <attVal name='Q{}id' chk='0'/>
        </cvUntyped>
       </check>
       <true/>
       <fn name='concat'>
        <fn name='generate-id'>
         <dot type='element(Q{http://www.w3.org/2002/xforms}trigger)'/>
        </fn>
        <str val='-'/>
        <choose line='1975'>
         <varRef name='Q{}context-position' slot='1'/>
         <varRef name='Q{}context-position' slot='1'/>
         <true/>
         <fn name='string'>
          <varRef name='Q{}position' slot='0'/>
         </fn>
        </choose>
       </fn>
      </choose>
      <sequence line='1979'>
       <choose>
        <and op='and'>
         <let var='Q{}this' as='element(Q{http://www.w3.org/2002/xforms}trigger)' slot='3' eval='16'>
          <dot type='element(Q{http://www.w3.org/2002/xforms}trigger)'/>
          <fn line='2532' name='exists'>
           <sequence line='2507'>
            <analyzeString>
             <cvUntyped role='select' to='xs:string'>
              <data>
               <slash simple='1'>
                <varRef name='Q{}this' slot='3'/>
                <axis name='attribute' nodeTest='attribute(Q{}ref)' jsTest='return item.name===&#39;ref&#39;'/>
               </slash>
              </data>
             </cvUntyped>
             <str role='regex' val='\i\c*\('/>
             <str role='flags' val=''/>
             <choose role='matching' line='2510'>
              <vc op='eq' onEmpty='0' comp='CCC'>
               <fn name='substring-before'>
                <dot type='xs:string'/>
                <str val='('/>
               </fn>
               <str val='index'/>
              </vc>
              <str val='i'/>
             </choose>
             <empty role='nonMatching'/>
            </analyzeString>
            <analyzeString line='2519'>
             <cvUntyped role='select' to='xs:string'>
              <data>
               <slash simple='1'>
                <varRef name='Q{}this' slot='3'/>
                <axis name='attribute' nodeTest='attribute(Q{}nodeset)' jsTest='return item.name===&#39;nodeset&#39;'/>
               </slash>
              </data>
             </cvUntyped>
             <str role='regex' val='\i\c*\('/>
             <str role='flags' val=''/>
             <choose role='matching' line='2522'>
              <vc op='eq' onEmpty='0' comp='CCC'>
               <fn name='substring-before'>
                <dot type='xs:string'/>
                <str val='('/>
               </fn>
               <str val='index'/>
              </vc>
              <str val='i'/>
             </choose>
             <empty role='nonMatching'/>
            </analyzeString>
           </sequence>
          </fn>
         </let>
         <fn name='empty'>
          <filter flags='b'>
           <slash simple='1'>
            <dot type='element(Q{http://www.w3.org/2002/xforms}trigger)'/>
            <axis name='ancestor' nodeTest='element()' jsTest='return item.nodeType===1;'/>
           </slash>
           <let var='Q{}this' as='element()' slot='4' eval='16'>
            <dot type='element()'/>
            <fn line='2532' name='exists'>
             <sequence line='2507'>
              <analyzeString>
               <cvUntyped role='select' to='xs:string'>
                <data>
                 <slash simple='1'>
                  <varRef name='Q{}this' slot='4'/>
                  <axis name='attribute' nodeTest='attribute(Q{}ref)' jsTest='return item.name===&#39;ref&#39;'/>
                 </slash>
                </data>
               </cvUntyped>
               <str role='regex' val='\i\c*\('/>
               <str role='flags' val=''/>
               <choose role='matching' line='2510'>
                <vc op='eq' onEmpty='0' comp='CCC'>
                 <fn name='substring-before'>
                  <dot type='xs:string'/>
                  <str val='('/>
                 </fn>
                 <str val='index'/>
                </vc>
                <str val='i'/>
               </choose>
               <empty role='nonMatching'/>
              </analyzeString>
              <analyzeString line='2519'>
               <cvUntyped role='select' to='xs:string'>
                <data>
                 <slash simple='1'>
                  <varRef name='Q{}this' slot='4'/>
                  <axis name='attribute' nodeTest='attribute(Q{}nodeset)' jsTest='return item.name===&#39;nodeset&#39;'/>
                 </slash>
                </data>
               </cvUntyped>
               <str role='regex' val='\i\c*\('/>
               <str role='flags' val=''/>
               <choose role='matching' line='2522'>
                <vc op='eq' onEmpty='0' comp='CCC'>
                 <fn name='substring-before'>
                  <dot type='xs:string'/>
                  <str val='('/>
                 </fn>
                 <str val='index'/>
                </vc>
                <str val='i'/>
               </choose>
               <empty role='nonMatching'/>
              </analyzeString>
             </sequence>
            </fn>
           </let>
          </filter>
         </fn>
        </and>
        <ifCall line='1980' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
         <check card='1' diag='0|0||ixsl:call'>
          <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
         </check>
         <str val='setElementUsingIndexFunction'/>
         <arrayBlock>
          <varRef name='Q{}myid' slot='2'/>
          <dot type='element(Q{http://www.w3.org/2002/xforms}trigger)'/>
         </arrayBlock>
        </ifCall>
       </choose>
       <let line='1984' var='Q{}bindingi' as='node()?' slot='5' eval='7'>
        <treat line='1985' as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='3|0|XTTE0570|bindingi'>
         <check card='?' diag='3|0|XTTE0570|bindingi'>
          <callT name='Q{}getBinding' bSlot='22'>
           <withParam name='Q{}this' flags='c' as='element()'>
            <dot line='1986' type='element(Q{http://www.w3.org/2002/xforms}trigger)'/>
           </withParam>
          </callT>
         </check>
        </treat>
        <let line='1991' var='Q{}refi' as='xs:string' slot='6' eval='16'>
         <treat line='1992' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|refi'>
          <check card='1' diag='3|0|XTTE0570|refi'>
           <cvUntyped to='xs:string' diag='3|0|XTTE0570|refi'>
            <data>
             <callT name='Q{}getDataRef' bSlot='23'>
              <withParam name='Q{}this' flags='c' as='element()'>
               <dot line='1993' type='element(Q{http://www.w3.org/2002/xforms}trigger)'/>
              </withParam>
              <withParam name='Q{}bindingi' flags='c' as='node()?'>
               <varRef line='1994' name='Q{}bindingi' slot='5'/>
              </withParam>
             </callT>
            </data>
           </cvUntyped>
          </check>
         </treat>
         <let line='2001' var='Q{}actions' as='map(*)*' slot='7' eval='8'>
          <treat line='2002' as='map(*)' jsTest='return SaxonJS.U.isMap(item)' diag='3|0|XTTE0570|actions'>
           <callT name='Q{}setActions' bSlot='24'>
            <withParam name='Q{}this' flags='c' as='element()'>
             <dot line='2003' type='element(Q{http://www.w3.org/2002/xforms}trigger)'/>
            </withParam>
            <withParam name='Q{}nodeset' flags='t' as='xs:string'>
             <varRef line='2004' name='Q{}refi' slot='6'/>
            </withParam>
           </callT>
          </treat>
          <sequence line='2008'>
           <choose>
            <fn name='exists'>
             <varRef name='Q{}actions' slot='7'/>
            </fn>
            <ifCall line='2009' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
             <check card='1' diag='0|0||ixsl:call'>
              <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
             </check>
             <str val='addAction'/>
             <arrayBlock>
              <varRef name='Q{}myid' slot='2'/>
              <varRef name='Q{}actions' slot='7'/>
             </arrayBlock>
            </ifCall>
           </choose>
           <let line='2012' var='Q{}innerbody' as='document-node()' slot='8' eval='16'>
            <doc line='2014' validation='preserve'>
             <choose>
              <fn name='exists'>
               <axis name='child' nodeTest='element(Q{http://www.w3.org/2002/xforms}label)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;label&#39;;'/>
              </fn>
              <applyT line='2015' bSlot='25'>
               <axis role='select' name='child' nodeTest='element(Q{http://www.w3.org/2002/xforms}label)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;label&#39;;'/>
              </applyT>
              <true/>
              <valueOf line='2017' flags='l'>
               <str val=' '/>
              </valueOf>
             </choose>
            </doc>
            <elem line='2021' name='span' nsuri='' namespaces='xd rdf xhtml js in fn map array ev'>
             <sequence>
              <att name='style' flags='l'>
               <str val='display:&#39;inline&#39;'/>
              </att>
              <compElem line='2032' flags='l'>
               <choose role='name' line='2024'>
                <vc op='eq' onEmpty='0' comp='CCC'>
                 <cast as='xs:string' emptiable='1'>
                  <attVal name='Q{}appearance' chk='0'/>
                 </cast>
                 <str val='minimal'/>
                </vc>
                <str val='a'/>
                <true/>
                <str val='button'/>
               </choose>
               <sequence role='content' line='2033'>
                <choose>
                 <vc op='eq' onEmpty='0' comp='CCC'>
                  <cast as='xs:string' emptiable='1'>
                   <attVal name='Q{}appearance' chk='0'/>
                  </cast>
                  <str val='minimal'/>
                 </vc>
                 <att line='2034' name='type' flags='l'>
                  <str val='button'/>
                 </att>
                </choose>
                <att line='2037' name='data-ref' flags='l'>
                 <varRef name='Q{}refi' slot='6'/>
                </att>
                <att line='2038' name='data-action' flags='l'>
                 <varRef name='Q{}myid' slot='2'/>
                </att>
                <copyOf line='2039' flags='vc'>
                 <varRef name='Q{}innerbody' slot='8'/>
                </copyOf>
               </sequence>
              </compElem>
             </sequence>
            </elem>
           </let>
          </sequence>
         </let>
        </let>
       </let>
      </sequence>
     </let>
    </sequence>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='9' rank='1' minImp='0' slots='15' flags='s' line='1119' module='saxon-xforms.xsl'>
    <p.nodeTest role='match' test='element(Q{http://www.w3.org/2002/xforms}output)' jsTest='var q=SaxonJS.U.nameOfNode(item); return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;output&#39;;'/>
    <sequence role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='1120'>
     <param name='Q{}position' slot='0' as='xs:integer'>
      <int role='select' val='0'/>
      <treat role='conversion' as='xs:integer' jsTest='return SaxonJS.U.Atomic.integer.matches(item);' diag='8|0|XTTE0590|position'>
       <check card='1' diag='8|0|XTTE0590|position'>
        <cvUntyped to='xs:integer' diag='8|0|XTTE0590|position'>
         <data>
          <supplied slot='0'/>
         </data>
        </cvUntyped>
       </check>
      </treat>
     </param>
     <param line='1121' name='Q{}context-position' slot='1' as='xs:string'>
      <str role='select' val=''/>
      <treat role='conversion' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='8|0|XTTE0590|context-position'>
       <check card='1' diag='8|0|XTTE0590|context-position'>
        <cvUntyped to='xs:string' diag='8|0|XTTE0590|context-position'>
         <data>
          <supplied slot='1'/>
         </data>
        </cvUntyped>
       </check>
      </treat>
     </param>
     <let line='1125' var='Q{}myid' as='xs:string' slot='2' eval='16'>
      <choose>
       <fn name='exists'>
        <axis name='attribute' nodeTest='attribute(Q{}id)' jsTest='return item.name===&#39;id&#39;'/>
       </fn>
       <check card='1' diag='3|0|XTTE0570|myid'>
        <cvUntyped to='xs:string' diag='3|0|XTTE0570|myid'>
         <attVal name='Q{}id' chk='0'/>
        </cvUntyped>
       </check>
       <true/>
       <fn name='concat'>
        <fn name='generate-id'>
         <dot type='element(Q{http://www.w3.org/2002/xforms}output)'/>
        </fn>
        <str val='-'/>
        <choose line='1123'>
         <varRef name='Q{}context-position' slot='1'/>
         <varRef name='Q{}context-position' slot='1'/>
         <true/>
         <fn name='string'>
          <varRef name='Q{}position' slot='0'/>
         </fn>
        </choose>
       </fn>
      </choose>
      <sequence line='1127'>
       <choose>
        <and op='and'>
         <let var='Q{}this' as='element(Q{http://www.w3.org/2002/xforms}output)' slot='3' eval='16'>
          <dot type='element(Q{http://www.w3.org/2002/xforms}output)'/>
          <fn line='2532' name='exists'>
           <sequence line='2507'>
            <analyzeString>
             <cvUntyped role='select' to='xs:string'>
              <data>
               <slash simple='1'>
                <varRef name='Q{}this' slot='3'/>
                <axis name='attribute' nodeTest='attribute(Q{}ref)' jsTest='return item.name===&#39;ref&#39;'/>
               </slash>
              </data>
             </cvUntyped>
             <str role='regex' val='\i\c*\('/>
             <str role='flags' val=''/>
             <choose role='matching' line='2510'>
              <vc op='eq' onEmpty='0' comp='CCC'>
               <fn name='substring-before'>
                <dot type='xs:string'/>
                <str val='('/>
               </fn>
               <str val='index'/>
              </vc>
              <str val='i'/>
             </choose>
             <empty role='nonMatching'/>
            </analyzeString>
            <analyzeString line='2519'>
             <cvUntyped role='select' to='xs:string'>
              <data>
               <slash simple='1'>
                <varRef name='Q{}this' slot='3'/>
                <axis name='attribute' nodeTest='attribute(Q{}nodeset)' jsTest='return item.name===&#39;nodeset&#39;'/>
               </slash>
              </data>
             </cvUntyped>
             <str role='regex' val='\i\c*\('/>
             <str role='flags' val=''/>
             <choose role='matching' line='2522'>
              <vc op='eq' onEmpty='0' comp='CCC'>
               <fn name='substring-before'>
                <dot type='xs:string'/>
                <str val='('/>
               </fn>
               <str val='index'/>
              </vc>
              <str val='i'/>
             </choose>
             <empty role='nonMatching'/>
            </analyzeString>
           </sequence>
          </fn>
         </let>
         <fn name='empty'>
          <filter flags='b'>
           <slash simple='1'>
            <dot type='element(Q{http://www.w3.org/2002/xforms}output)'/>
            <axis name='ancestor' nodeTest='element()' jsTest='return item.nodeType===1;'/>
           </slash>
           <let var='Q{}this' as='element()' slot='4' eval='16'>
            <dot type='element()'/>
            <fn line='2532' name='exists'>
             <sequence line='2507'>
              <analyzeString>
               <cvUntyped role='select' to='xs:string'>
                <data>
                 <slash simple='1'>
                  <varRef name='Q{}this' slot='4'/>
                  <axis name='attribute' nodeTest='attribute(Q{}ref)' jsTest='return item.name===&#39;ref&#39;'/>
                 </slash>
                </data>
               </cvUntyped>
               <str role='regex' val='\i\c*\('/>
               <str role='flags' val=''/>
               <choose role='matching' line='2510'>
                <vc op='eq' onEmpty='0' comp='CCC'>
                 <fn name='substring-before'>
                  <dot type='xs:string'/>
                  <str val='('/>
                 </fn>
                 <str val='index'/>
                </vc>
                <str val='i'/>
               </choose>
               <empty role='nonMatching'/>
              </analyzeString>
              <analyzeString line='2519'>
               <cvUntyped role='select' to='xs:string'>
                <data>
                 <slash simple='1'>
                  <varRef name='Q{}this' slot='4'/>
                  <axis name='attribute' nodeTest='attribute(Q{}nodeset)' jsTest='return item.name===&#39;nodeset&#39;'/>
                 </slash>
                </data>
               </cvUntyped>
               <str role='regex' val='\i\c*\('/>
               <str role='flags' val=''/>
               <choose role='matching' line='2522'>
                <vc op='eq' onEmpty='0' comp='CCC'>
                 <fn name='substring-before'>
                  <dot type='xs:string'/>
                  <str val='('/>
                 </fn>
                 <str val='index'/>
                </vc>
                <str val='i'/>
               </choose>
               <empty role='nonMatching'/>
              </analyzeString>
             </sequence>
            </fn>
           </let>
          </filter>
         </fn>
        </and>
        <ifCall line='1128' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
         <check card='1' diag='0|0||ixsl:call'>
          <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
         </check>
         <str val='setElementUsingIndexFunction'/>
         <arrayBlock>
          <varRef name='Q{}myid' slot='2'/>
          <dot type='element(Q{http://www.w3.org/2002/xforms}output)'/>
         </arrayBlock>
        </ifCall>
       </choose>
       <let line='1133' var='Q{}bindingi' as='node()?' slot='5' eval='7'>
        <treat line='1134' as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='3|0|XTTE0570|bindingi'>
         <check card='?' diag='3|0|XTTE0570|bindingi'>
          <callT name='Q{}getBinding' bSlot='26'>
           <withParam name='Q{}this' flags='c' as='element()'>
            <dot line='1135' type='element(Q{http://www.w3.org/2002/xforms}output)'/>
           </withParam>
          </callT>
         </check>
        </treat>
        <let line='1140' var='Q{}refi' as='xs:string' slot='6' eval='16'>
         <treat line='1141' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|refi'>
          <check card='1' diag='3|0|XTTE0570|refi'>
           <cvUntyped to='xs:string' diag='3|0|XTTE0570|refi'>
            <data>
             <callT name='Q{}getDataRef' bSlot='27'>
              <withParam name='Q{}this' flags='c' as='element()'>
               <dot line='1142' type='element(Q{http://www.w3.org/2002/xforms}output)'/>
              </withParam>
              <withParam name='Q{}bindingi' flags='c' as='node()?'>
               <varRef line='1143' name='Q{}bindingi' slot='5'/>
              </withParam>
             </callT>
            </data>
           </cvUntyped>
          </check>
         </treat>
         <let line='1148' var='Q{}instanceField' as='node()?' slot='7' eval='7'>
          <treat line='1149' as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='3|0|XTTE0570|instanceField'>
           <check card='?' diag='3|0|XTTE0570|instanceField'>
            <callT name='Q{}getReferencedInstanceField' bSlot='28'>
             <withParam name='Q{}refi' flags='c' as='xs:string'>
              <varRef line='1150' name='Q{}refi' slot='6'/>
             </withParam>
            </callT>
           </check>
          </treat>
          <let line='1161' var='Q{}namespace-context-item' as='element()' slot='8' eval='16'>
           <choose>
            <fn name='exists'>
             <varRef name='Q{}instanceField' slot='7'/>
            </fn>
            <choose>
             <fn name='exists'>
              <filter flags='b'>
               <varRef name='Q{}instanceField' slot='7'/>
               <fn name='exists'>
                <axis name='self' nodeTest='text()' jsTest='return item.nodeType===3;'/>
               </fn>
              </filter>
             </fn>
             <check card='1' diag='3|0|XTTE0570|namespace-context-item'>
              <slash simple='1'>
               <varRef name='Q{}instanceField' slot='7'/>
               <axis name='parent' nodeTest='element()' jsTest='return item.nodeType===1;'/>
              </slash>
             </check>
             <true/>
             <treat as='element()' jsTest='return item.nodeType===1;' diag='3|0|XTTE0570|namespace-context-item'>
              <check card='1' diag='3|0|XTTE0570|namespace-context-item'>
               <varRef name='Q{}instanceField' slot='7'/>
              </check>
             </treat>
            </choose>
            <true/>
            <let var='Q{}this' as='element()' slot='9' eval='16'>
             <check card='1' diag='0|0||xforms:addNamespaceDeclarations'>
              <slash simple='1'>
               <root/>
               <axis name='child' nodeTest='element()' jsTest='return item.nodeType===1;'/>
              </slash>
             </check>
             <compElem line='2542'>
              <fn role='name' name='name'>
               <varRef name='Q{}this' slot='9'/>
              </fn>
              <sequence role='content' line='2543'>
               <namespace flags='l'>
                <str role='name' val='xforms'/>
                <str role='select' val='http://www.w3.org/2002/xforms'/>
               </namespace>
               <forEach line='2544'>
                <filter flags='b'>
                 <filter flags='b'>
                  <slash simple='1'>
                   <varRef name='Q{}this' slot='9'/>
                   <axis name='descendant' nodeTest='element()' jsTest='return item.nodeType===1;'/>
                  </slash>
                  <fn name='boolean'>
                   <fn name='namespace-uri'>
                    <dot type='element()'/>
                   </fn>
                  </fn>
                 </filter>
                 <fn name='not'>
                  <gc op='=' card='N:1' comp='CCC'>
                   <sequence>
                    <slash>
                     <fn name='reverse'>
                      <axis name='ancestor' nodeTest='element()' jsTest='return item.nodeType===1;'/>
                     </fn>
                     <fn name='namespace-uri'>
                      <dot type='element()'/>
                     </fn>
                    </slash>
                    <slash>
                     <fn name='reverse'>
                      <axis name='preceding' nodeTest='element()' jsTest='return item.nodeType===1;'/>
                     </fn>
                     <fn name='namespace-uri'>
                      <dot type='element()'/>
                     </fn>
                    </slash>
                   </sequence>
                   <fn name='namespace-uri'>
                    <dot type='element()'/>
                   </fn>
                  </gc>
                 </fn>
                </filter>
                <namespace line='2547' flags='l'>
                 <fn role='name' line='2546' name='substring-before'>
                  <fn name='name'>
                   <dot type='element()'/>
                  </fn>
                  <str val=':'/>
                 </fn>
                 <convert role='select' from='xs:anyURI' to='xs:string'>
                  <fn line='2545' name='namespace-uri'>
                   <dot type='element()'/>
                  </fn>
                 </convert>
                </namespace>
               </forEach>
               <copyOf line='2549' flags='vc'>
                <sequence>
                 <slash simple='1'>
                  <varRef name='Q{}this' slot='9'/>
                  <axis name='attribute' nodeTest='attribute()' jsTest='return SaxonJS.U.isAttr(item)'/>
                 </slash>
                 <slash simple='1'>
                  <varRef name='Q{}this' slot='9'/>
                  <axis name='child' nodeTest='( element() | text() | comment() | processing-instruction() )' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; (item.nodeType===1 || item.nodeType===3 || item.nodeType===7 || item.nodeType===8);'/>
                 </slash>
                </sequence>
               </copyOf>
              </sequence>
             </compElem>
            </let>
           </choose>
           <let line='1163' var='Q{}valueExecuted' as='xs:string' slot='10' eval='16'>
            <choose line='1165'>
             <fn name='exists'>
              <axis name='attribute' nodeTest='attribute(Q{}value)' jsTest='return item.name===&#39;value&#39;'/>
             </fn>
             <evaluate line='1166' as='xs:string' dxns=''>
              <ufCall role='xpath' name='Q{http://www.w3.org/2002/xforms}impose' tailCall='false' bSlot='29' eval='16'>
               <check card='1' diag='0|0||xforms:impose'>
                <cvUntyped to='xs:string'>
                 <attVal name='Q{}value' chk='0'/>
                </cvUntyped>
               </check>
              </ufCall>
              <varRef role='cxt' name='Q{}instanceField' slot='7'/>
              <varRef role='nsCxt' name='Q{}namespace-context-item' slot='8'/>
              <str role='sa' val='no'/>
              <map role='options' size='0'/>
              <map role='wp' size='0'/>
             </evaluate>
             <true/>
             <cvUntyped line='1169' to='xs:string' diag='3|0|XTTE0570|valueExecuted'>
              <cast as='xs:untypedAtomic' emptiable='0'>
               <fn name='string'>
                <convert from='xs:anyAtomicType' to='xs:string'>
                 <data>
                  <varRef name='Q{}instanceField' slot='7'/>
                 </data>
                </convert>
               </fn>
              </cast>
             </cvUntyped>
            </choose>
            <let line='1175' var='Q{}relevantVar' as='xs:boolean' slot='11' eval='16'>
             <choose line='1177'>
              <and op='and'>
               <and op='and'>
                <fn name='exists'>
                 <varRef name='Q{}bindingi' slot='5'/>
                </fn>
                <fn name='exists'>
                 <slash simple='1'>
                  <varRef name='Q{}bindingi' slot='5'/>
                  <axis name='attribute' nodeTest='attribute(Q{}relevant)' jsTest='return item.name===&#39;relevant&#39;'/>
                 </slash>
                </fn>
               </and>
               <fn name='exists'>
                <varRef name='Q{}instanceField' slot='7'/>
               </fn>
              </and>
              <treat line='1178' as='xs:boolean' jsTest='return SaxonJS.U.Atomic.boolean.matches(item);' diag='3|0|XTTE0570|relevantVar'>
               <check card='1' diag='3|0|XTTE0570|relevantVar'>
                <cvUntyped to='xs:boolean' diag='3|0|XTTE0570|relevantVar'>
                 <data>
                  <evaluate dxns=''>
                   <ufCall role='xpath' name='Q{http://www.w3.org/2002/xforms}impose' tailCall='false' bSlot='30' eval='16'>
                    <check card='1' diag='0|0||xforms:impose'>
                     <cvUntyped to='xs:string'>
                      <data>
                       <slash simple='1'>
                        <varRef name='Q{}bindingi' slot='5'/>
                        <axis name='attribute' nodeTest='attribute(Q{}relevant)' jsTest='return item.name===&#39;relevant&#39;'/>
                       </slash>
                      </data>
                     </cvUntyped>
                    </check>
                   </ufCall>
                   <varRef role='cxt' name='Q{}instanceField' slot='7'/>
                   <varRef role='nsCxt' name='Q{}namespace-context-item' slot='8'/>
                   <str role='sa' val='no'/>
                   <map role='options' size='0'/>
                   <map role='wp' size='0'/>
                  </evaluate>
                 </data>
                </cvUntyped>
               </check>
              </treat>
              <true/>
              <true/>
             </choose>
             <sequence line='1189'>
              <elem name='div' nsuri='' namespaces='xd rdf xhtml js in fn map array ev'>
               <sequence line='1190'>
                <let var='Q{}element' as='element(Q{http://www.w3.org/2002/xforms}output)' slot='12' eval='16'>
                 <dot type='element(Q{http://www.w3.org/2002/xforms}output)'/>
                 <let line='2604' var='Q{}class' as='xs:string?' slot='13' eval='7'>
                  <choose line='2605'>
                   <fn name='exists'>
                    <slash simple='1'>
                     <varRef name='Q{}element' slot='12'/>
                     <axis name='attribute' nodeTest='attribute(Q{}class)' jsTest='return item.name===&#39;class&#39;'/>
                    </slash>
                   </fn>
                   <cvUntyped line='2606' to='xs:string' diag='3|0|XTTE0570|class'>
                    <cast as='xs:untypedAtomic' emptiable='0'>
                     <fn name='string'>
                      <convert from='xs:untypedAtomic' to='xs:string'>
                       <data>
                        <slash simple='1'>
                         <varRef name='Q{}element' slot='12'/>
                         <axis name='attribute' nodeTest='attribute(Q{}class)' jsTest='return item.name===&#39;class&#39;'/>
                        </slash>
                       </data>
                      </convert>
                     </fn>
                    </cast>
                   </cvUntyped>
                  </choose>
                  <let line='2609' var='Q{}class-mod' as='xs:string?' slot='14' eval='7'>
                   <choose line='2611'>
                    <fn name='exists'>
                     <slash simple='1'>
                      <varRef name='Q{}element' slot='12'/>
                      <axis name='attribute' nodeTest='attribute(Q{}incremental)' jsTest='return item.name===&#39;incremental&#39;'/>
                     </slash>
                    </fn>
                    <cvUntyped line='2612' to='xs:string' diag='3|0|XTTE0570|class-mod'>
                     <cast as='xs:untypedAtomic' emptiable='0'>
                      <fn name='string-join'>
                       <sequence>
                        <varRef name='Q{}class' slot='13'/>
                        <str val='incremental'/>
                       </sequence>
                       <str val=' '/>
                      </fn>
                     </cast>
                    </cvUntyped>
                    <true/>
                    <varRef line='2615' name='Q{}class' slot='13'/>
                   </choose>
                   <choose line='2619'>
                    <fn name='exists'>
                     <varRef name='Q{}class-mod' slot='14'/>
                    </fn>
                    <treat line='2620' as='attribute(Q{}class)' jsTest='return item.name===&#39;class&#39;' diag='5|0|XTTE0780|xforms:getClass#1'>
                     <att name='class' flags='l'>
                      <varRef name='Q{}class-mod' slot='14'/>
                     </att>
                    </treat>
                   </choose>
                  </let>
                 </let>
                </let>
                <applyT line='1192' bSlot='31'>
                 <axis role='select' name='child' nodeTest='element(Q{http://www.w3.org/2002/xforms}label)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;label&#39;;'/>
                </applyT>
                <elem line='1194' name='span' nsuri='' flags='l'>
                 <sequence line='1195'>
                  <att name='id' flags='l'>
                   <varRef name='Q{}myid' slot='2'/>
                  </att>
                  <att line='1196' name='style' flags='l'>
                   <choose>
                    <varRef name='Q{}relevantVar' slot='11'/>
                    <str val='display:inline'/>
                    <true/>
                    <str val='display:none'/>
                   </choose>
                  </att>
                  <att line='1197' name='data-ref' flags='l'>
                   <varRef name='Q{}refi' slot='6'/>
                  </att>
                  <varRef line='1199' name='Q{}valueExecuted' slot='10'/>
                 </sequence>
                </elem>
               </sequence>
              </elem>
              <choose line='1204'>
               <fn name='empty'>
                <slash simple='1'>
                 <dot type='element(Q{http://www.w3.org/2002/xforms}output)'/>
                 <axis name='ancestor' nodeTest='element(Q{http://www.w3.org/2002/xforms}repeat)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;repeat&#39;;'/>
                </slash>
               </fn>
               <ifCall line='1223' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
                <check card='1' diag='0|0||ixsl:call'>
                 <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
                </check>
                <str val='addOutput'/>
                <arrayBlock>
                 <varRef name='Q{}myid' slot='2'/>
                 <ifCall line='1207' name='Q{http://www.w3.org/2005/xpath-functions/map}merge' type='map(*)'>
                  <sequence>
                   <choose>
                    <varRef name='Q{}refi' slot='6'/>
                    <ifCall line='1208' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
                     <str val='@ref'/>
                     <varRef name='Q{}refi' slot='6'/>
                    </ifCall>
                   </choose>
                   <choose line='1211'>
                    <fn name='exists'>
                     <axis name='attribute' nodeTest='attribute(Q{}value)' jsTest='return item.name===&#39;value&#39;'/>
                    </fn>
                    <ifCall line='1212' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
                     <str val='@value'/>
                     <cast as='xs:string' emptiable='1'>
                      <attVal name='Q{}value' chk='0'/>
                     </cast>
                    </ifCall>
                   </choose>
                  </sequence>
                  <map size='2'>
                   <str val='duplicates'/>
                   <str val='reject'/>
                   <str val='duplicates-error-code'/>
                   <str val='XTDE3365'/>
                  </map>
                 </ifCall>
                </arrayBlock>
               </ifCall>
              </choose>
             </sequence>
            </let>
           </let>
          </let>
         </let>
        </let>
       </let>
      </sequence>
     </let>
    </sequence>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='17' rank='1' minImp='0' slots='1' flags='s' line='1663' module='saxon-xforms.xsl'>
    <p.nodeTest role='match' test='element(Q{http://www.w3.org/2002/xforms}item)' jsTest='var q=SaxonJS.U.nameOfNode(item); return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;item&#39;;'/>
    <sequence role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='1664'>
     <param name='Q{}selectedValue' slot='0' as='xs:string'>
      <str role='select' val=''/>
      <treat role='conversion' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='8|0|XTTE0590|selectedValue'>
       <check card='1' diag='8|0|XTTE0590|selectedValue'>
        <cvUntyped to='xs:string' diag='8|0|XTTE0590|selectedValue'>
         <data>
          <supplied slot='0'/>
         </data>
        </cvUntyped>
       </check>
      </treat>
     </param>
     <elem line='1666' name='option' nsuri='' namespaces='xd rdf xhtml js in fn map array ev'>
      <sequence>
       <att name='value' flags='l'>
        <fn name='string-join'>
         <convert from='xs:untypedAtomic' to='xs:string'>
          <data>
           <axis name='child' nodeTest='element(Q{http://www.w3.org/2002/xforms}value)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;value&#39;;'/>
          </data>
         </convert>
         <str val=' '/>
        </fn>
       </att>
       <choose line='1667'>
        <vc op='eq' onEmpty='0' comp='CCC'>
         <varRef name='Q{}selectedValue' slot='0'/>
         <cast as='xs:string' emptiable='1'>
          <atomSing card='?' diag='2|0||cast as'>
           <slash simple='2'>
            <axis name='child' nodeTest='element(Q{http://www.w3.org/2002/xforms}value)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;value&#39;;'/>
            <axis name='child' nodeTest='text()' jsTest='return item.nodeType===3;'/>
           </slash>
          </atomSing>
         </cast>
        </vc>
        <att line='1668' name='selected' flags='l'>
         <varRef name='Q{}selectedValue' slot='0'/>
        </att>
       </choose>
       <valueOf line='1671' flags='l'>
        <fn name='string-join'>
         <convert from='xs:untypedAtomic' to='xs:string'>
          <data>
           <axis name='child' nodeTest='element(Q{http://www.w3.org/2002/xforms}label)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;label&#39;;'/>
          </data>
         </convert>
         <str val=' '/>
        </fn>
       </valueOf>
      </sequence>
     </elem>
    </sequence>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='25' part='4' rank='1' minImp='0' slots='1' flags='s' line='2052' module='saxon-xforms.xsl'>
    <p.nodeTest role='match' test='element(Q{http://www.w3.org/2002/xforms}script)' jsTest='var q=SaxonJS.U.nameOfNode(item); return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;script&#39;;'/>
    <let role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='2060' var='Q{}action-map' as='map(*)' slot='0' eval='16'>
     <treat line='2061' as='map(*)' jsTest='return SaxonJS.U.isMap(item)' diag='3|0|XTTE0570|action-map'>
      <check card='1' diag='3|0|XTTE0570|action-map'>
       <callT name='Q{}setAction' bSlot='2'>
        <withParam name='Q{}this' flags='c' as='element()'>
         <dot line='2062' type='element()'/>
        </withParam>
       </callT>
      </check>
     </treat>
     <varRef line='2075' name='Q{}action-map' slot='0'/>
    </let>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='13' part='1' rank='1' minImp='0' slots='12' flags='s' line='1519' module='saxon-xforms.xsl'>
    <p.nodeTest role='match' test='element(Q{http://www.w3.org/2002/xforms}select)' jsTest='var q=SaxonJS.U.nameOfNode(item); return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;select&#39;;'/>
    <sequence role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='1520'>
     <param name='Q{}position' slot='0' as='xs:integer'>
      <int role='select' val='0'/>
      <treat role='conversion' as='xs:integer' jsTest='return SaxonJS.U.Atomic.integer.matches(item);' diag='8|0|XTTE0590|position'>
       <check card='1' diag='8|0|XTTE0590|position'>
        <cvUntyped to='xs:integer' diag='8|0|XTTE0590|position'>
         <data>
          <supplied slot='0'/>
         </data>
        </cvUntyped>
       </check>
      </treat>
     </param>
     <param line='1521' name='Q{}context-position' slot='1' as='xs:string'>
      <str role='select' val=''/>
      <treat role='conversion' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='8|0|XTTE0590|context-position'>
       <check card='1' diag='8|0|XTTE0590|context-position'>
        <cvUntyped to='xs:string' diag='8|0|XTTE0590|context-position'>
         <data>
          <supplied slot='1'/>
         </data>
        </cvUntyped>
       </check>
      </treat>
     </param>
     <let line='1525' var='Q{}myid' as='xs:string' slot='2' eval='16'>
      <choose>
       <fn name='exists'>
        <axis name='attribute' nodeTest='attribute(Q{}id)' jsTest='return item.name===&#39;id&#39;'/>
       </fn>
       <check card='1' diag='3|0|XTTE0570|myid'>
        <cvUntyped to='xs:string' diag='3|0|XTTE0570|myid'>
         <attVal name='Q{}id' chk='0'/>
        </cvUntyped>
       </check>
       <true/>
       <fn name='concat'>
        <fn name='generate-id'>
         <dot type='element()'/>
        </fn>
        <str val='-'/>
        <choose line='1523'>
         <varRef name='Q{}context-position' slot='1'/>
         <varRef name='Q{}context-position' slot='1'/>
         <true/>
         <fn name='string'>
          <varRef name='Q{}position' slot='0'/>
         </fn>
        </choose>
       </fn>
      </choose>
      <sequence line='1527'>
       <choose>
        <and op='and'>
         <let var='Q{}this' as='element()' slot='3' eval='16'>
          <dot type='element()'/>
          <fn line='2532' name='exists'>
           <sequence line='2507'>
            <analyzeString>
             <cvUntyped role='select' to='xs:string'>
              <data>
               <slash simple='1'>
                <varRef name='Q{}this' slot='3'/>
                <axis name='attribute' nodeTest='attribute(Q{}ref)' jsTest='return item.name===&#39;ref&#39;'/>
               </slash>
              </data>
             </cvUntyped>
             <str role='regex' val='\i\c*\('/>
             <str role='flags' val=''/>
             <choose role='matching' line='2510'>
              <vc op='eq' onEmpty='0' comp='CCC'>
               <fn name='substring-before'>
                <dot type='xs:string'/>
                <str val='('/>
               </fn>
               <str val='index'/>
              </vc>
              <str val='i'/>
             </choose>
             <empty role='nonMatching'/>
            </analyzeString>
            <analyzeString line='2519'>
             <cvUntyped role='select' to='xs:string'>
              <data>
               <slash simple='1'>
                <varRef name='Q{}this' slot='3'/>
                <axis name='attribute' nodeTest='attribute(Q{}nodeset)' jsTest='return item.name===&#39;nodeset&#39;'/>
               </slash>
              </data>
             </cvUntyped>
             <str role='regex' val='\i\c*\('/>
             <str role='flags' val=''/>
             <choose role='matching' line='2522'>
              <vc op='eq' onEmpty='0' comp='CCC'>
               <fn name='substring-before'>
                <dot type='xs:string'/>
                <str val='('/>
               </fn>
               <str val='index'/>
              </vc>
              <str val='i'/>
             </choose>
             <empty role='nonMatching'/>
            </analyzeString>
           </sequence>
          </fn>
         </let>
         <fn name='empty'>
          <filter flags='b'>
           <slash simple='1'>
            <dot type='element()'/>
            <axis name='ancestor' nodeTest='element()' jsTest='return item.nodeType===1;'/>
           </slash>
           <let var='Q{}this' as='element()' slot='4' eval='16'>
            <dot type='element()'/>
            <fn line='2532' name='exists'>
             <sequence line='2507'>
              <analyzeString>
               <cvUntyped role='select' to='xs:string'>
                <data>
                 <slash simple='1'>
                  <varRef name='Q{}this' slot='4'/>
                  <axis name='attribute' nodeTest='attribute(Q{}ref)' jsTest='return item.name===&#39;ref&#39;'/>
                 </slash>
                </data>
               </cvUntyped>
               <str role='regex' val='\i\c*\('/>
               <str role='flags' val=''/>
               <choose role='matching' line='2510'>
                <vc op='eq' onEmpty='0' comp='CCC'>
                 <fn name='substring-before'>
                  <dot type='xs:string'/>
                  <str val='('/>
                 </fn>
                 <str val='index'/>
                </vc>
                <str val='i'/>
               </choose>
               <empty role='nonMatching'/>
              </analyzeString>
              <analyzeString line='2519'>
               <cvUntyped role='select' to='xs:string'>
                <data>
                 <slash simple='1'>
                  <varRef name='Q{}this' slot='4'/>
                  <axis name='attribute' nodeTest='attribute(Q{}nodeset)' jsTest='return item.name===&#39;nodeset&#39;'/>
                 </slash>
                </data>
               </cvUntyped>
               <str role='regex' val='\i\c*\('/>
               <str role='flags' val=''/>
               <choose role='matching' line='2522'>
                <vc op='eq' onEmpty='0' comp='CCC'>
                 <fn name='substring-before'>
                  <dot type='xs:string'/>
                  <str val='('/>
                 </fn>
                 <str val='index'/>
                </vc>
                <str val='i'/>
               </choose>
               <empty role='nonMatching'/>
              </analyzeString>
             </sequence>
            </fn>
           </let>
          </filter>
         </fn>
        </and>
        <ifCall line='1528' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
         <check card='1' diag='0|0||ixsl:call'>
          <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
         </check>
         <str val='setElementUsingIndexFunction'/>
         <arrayBlock>
          <varRef name='Q{}myid' slot='2'/>
          <dot type='element()'/>
         </arrayBlock>
        </ifCall>
       </choose>
       <let line='1535' var='Q{}bindingi' as='node()?' slot='5' eval='7'>
        <treat line='1536' as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='3|0|XTTE0570|bindingi'>
         <check card='?' diag='3|0|XTTE0570|bindingi'>
          <callT name='Q{}getBinding' bSlot='5'>
           <withParam name='Q{}this' flags='c' as='element()'>
            <dot line='1537' type='element()'/>
           </withParam>
          </callT>
         </check>
        </treat>
        <let line='1542' var='Q{}refi' as='xs:string' slot='6' eval='16'>
         <treat line='1543' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|refi'>
          <check card='1' diag='3|0|XTTE0570|refi'>
           <cvUntyped to='xs:string' diag='3|0|XTTE0570|refi'>
            <data>
             <callT name='Q{}getDataRef' bSlot='6'>
              <withParam name='Q{}this' flags='c' as='element()'>
               <dot line='1544' type='element()'/>
              </withParam>
              <withParam name='Q{}bindingi' flags='c' as='node()?'>
               <varRef line='1545' name='Q{}bindingi' slot='5'/>
              </withParam>
             </callT>
            </data>
           </cvUntyped>
          </check>
         </treat>
         <let line='1550' var='Q{}instanceField' as='node()?' slot='7' eval='7'>
          <treat line='1551' as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='3|0|XTTE0570|instanceField'>
           <check card='?' diag='3|0|XTTE0570|instanceField'>
            <callT name='Q{}getReferencedInstanceField' bSlot='7'>
             <withParam name='Q{}refi' flags='c' as='xs:string'>
              <varRef line='1552' name='Q{}refi' slot='6'/>
             </withParam>
            </callT>
           </check>
          </treat>
          <let line='1557' var='Q{}actions' as='map(*)*' slot='8' eval='8'>
           <treat line='1558' as='map(*)' jsTest='return SaxonJS.U.isMap(item)' diag='3|0|XTTE0570|actions'>
            <callT name='Q{}setActions' bSlot='8'>
             <withParam name='Q{}this' flags='c' as='element()'>
              <dot line='1559' type='element()'/>
             </withParam>
             <withParam name='Q{}nodeset' flags='t' as='xs:string'>
              <varRef line='1560' name='Q{}refi' slot='6'/>
             </withParam>
            </callT>
           </treat>
           <sequence line='1564'>
            <choose>
             <fn name='exists'>
              <varRef name='Q{}actions' slot='8'/>
             </fn>
             <ifCall line='1565' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
              <check card='1' diag='0|0||ixsl:call'>
               <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
              </check>
              <str val='addAction'/>
              <arrayBlock>
               <varRef name='Q{}myid' slot='2'/>
               <varRef name='Q{}actions' slot='8'/>
              </arrayBlock>
             </ifCall>
            </choose>
            <elem line='1582' name='div' nsuri='' namespaces='xd rdf xhtml js in fn map array ev'>
             <sequence>
              <att name='class' flags='l'>
               <str val='xforms-select'/>
              </att>
              <applyT line='1583' bSlot='9'>
               <axis role='select' name='child' nodeTest='element(Q{http://www.w3.org/2002/xforms}label)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;label&#39;;'/>
              </applyT>
              <elem line='1585' name='select' nsuri='' flags='l' namespaces='xd rdf xhtml js in fn map array ev'>
               <sequence line='1586'>
                <let var='Q{}element' as='element()' slot='9' eval='16'>
                 <dot type='element()'/>
                 <let line='2604' var='Q{}class' as='xs:string?' slot='10' eval='7'>
                  <choose line='2605'>
                   <fn name='exists'>
                    <slash simple='1'>
                     <varRef name='Q{}element' slot='9'/>
                     <axis name='attribute' nodeTest='attribute(Q{}class)' jsTest='return item.name===&#39;class&#39;'/>
                    </slash>
                   </fn>
                   <cvUntyped line='2606' to='xs:string' diag='3|0|XTTE0570|class'>
                    <cast as='xs:untypedAtomic' emptiable='0'>
                     <fn name='string'>
                      <convert from='xs:untypedAtomic' to='xs:string'>
                       <data>
                        <slash simple='1'>
                         <varRef name='Q{}element' slot='9'/>
                         <axis name='attribute' nodeTest='attribute(Q{}class)' jsTest='return item.name===&#39;class&#39;'/>
                        </slash>
                       </data>
                      </convert>
                     </fn>
                    </cast>
                   </cvUntyped>
                  </choose>
                  <let line='2609' var='Q{}class-mod' as='xs:string?' slot='11' eval='7'>
                   <choose line='2611'>
                    <fn name='exists'>
                     <slash simple='1'>
                      <varRef name='Q{}element' slot='9'/>
                      <axis name='attribute' nodeTest='attribute(Q{}incremental)' jsTest='return item.name===&#39;incremental&#39;'/>
                     </slash>
                    </fn>
                    <cvUntyped line='2612' to='xs:string' diag='3|0|XTTE0570|class-mod'>
                     <cast as='xs:untypedAtomic' emptiable='0'>
                      <fn name='string-join'>
                       <sequence>
                        <varRef name='Q{}class' slot='10'/>
                        <str val='incremental'/>
                       </sequence>
                       <str val=' '/>
                      </fn>
                     </cast>
                    </cvUntyped>
                    <true/>
                    <varRef line='2615' name='Q{}class' slot='10'/>
                   </choose>
                   <choose line='2619'>
                    <fn name='exists'>
                     <varRef name='Q{}class-mod' slot='11'/>
                    </fn>
                    <treat line='2620' as='attribute(Q{}class)' jsTest='return item.name===&#39;class&#39;' diag='5|0|XTTE0780|xforms:getClass#1'>
                     <att name='class' flags='l'>
                      <varRef name='Q{}class-mod' slot='11'/>
                     </att>
                    </treat>
                   </choose>
                  </let>
                 </let>
                </let>
                <copyOf line='1587' flags='vc'>
                 <except op='except'>
                  <axis name='attribute' nodeTest='attribute()' jsTest='return SaxonJS.U.isAttr(item)'/>
                  <docOrder intra='1'>
                   <sequence>
                    <axis name='attribute' nodeTest='attribute(Q{}class)' jsTest='return item.name===&#39;class&#39;'/>
                    <axis name='attribute' nodeTest='attribute(Q{}ref)' jsTest='return item.name===&#39;ref&#39;'/>
                    <axis name='attribute' nodeTest='attribute(Q{}incremental)' jsTest='return item.name===&#39;incremental&#39;'/>
                   </sequence>
                  </docOrder>
                 </except>
                </copyOf>
                <att line='1589' name='data-ref' flags='l'>
                 <varRef name='Q{}refi' slot='6'/>
                </att>
                <att line='1590' name='data-element' flags='l'>
                 <lastOf line='1580'>
                  <fn name='tokenize'>
                   <varRef name='Q{}refi' slot='6'/>
                   <str val='/'/>
                   <str val=''/>
                  </fn>
                 </lastOf>
                </att>
                <choose line='1592'>
                 <and op='and'>
                  <fn name='exists'>
                   <varRef name='Q{}bindingi' slot='5'/>
                  </fn>
                  <fn name='exists'>
                   <slash simple='1'>
                    <varRef name='Q{}bindingi' slot='5'/>
                    <axis name='attribute' nodeTest='attribute(Q{}constraint)' jsTest='return item.name===&#39;constraint&#39;'/>
                   </slash>
                  </fn>
                 </and>
                 <att line='1593' name='data-constraint' flags='l'>
                  <convert from='xs:untypedAtomic' to='xs:string'>
                   <data>
                    <slash simple='1'>
                     <varRef name='Q{}bindingi' slot='5'/>
                     <axis name='attribute' nodeTest='attribute(Q{}constraint)' jsTest='return item.name===&#39;constraint&#39;'/>
                    </slash>
                   </data>
                  </convert>
                 </att>
                </choose>
                <choose line='1596'>
                 <vc op='eq' onEmpty='0' comp='CCC'>
                  <fn name='local-name'>
                   <dot type='element()'/>
                  </fn>
                  <str val='select'/>
                 </vc>
                 <sequence line='1597'>
                  <att name='multiple' flags='l'>
                   <str val='true'/>
                  </att>
                  <att line='1598' name='size' flags='l'>
                   <convert line='1599' from='xs:integer' to='xs:string'>
                    <fn name='count'>
                     <axis name='descendant' nodeTest='element(Q{http://www.w3.org/2002/xforms}item)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;item&#39;;'/>
                    </fn>
                   </convert>
                  </att>
                 </sequence>
                </choose>
                <choose line='1602'>
                 <fn name='exists'>
                  <varRef name='Q{}actions' slot='8'/>
                 </fn>
                 <att line='1603' name='data-action' flags='l'>
                  <varRef name='Q{}myid' slot='2'/>
                 </att>
                </choose>
                <applyT line='1606' bSlot='10'>
                 <axis role='select' name='child' nodeTest='element(Q{http://www.w3.org/2002/xforms}item)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;item&#39;;'/>
                 <withParam name='Q{}selectedValue' as='xs:string'>
                  <choose line='1571'>
                   <fn name='exists'>
                    <varRef name='Q{}instanceField' slot='7'/>
                   </fn>
                   <cvUntyped line='1572' to='xs:string' diag='3|0|XTTE0570|selectedValue'>
                    <cast as='xs:untypedAtomic' emptiable='0'>
                     <fn name='string'>
                      <convert from='xs:anyAtomicType' to='xs:string'>
                       <data>
                        <varRef name='Q{}instanceField' slot='7'/>
                       </data>
                      </convert>
                     </fn>
                    </cast>
                   </cvUntyped>
                   <true/>
                   <str val=''/>
                  </choose>
                 </withParam>
                </applyT>
               </sequence>
              </elem>
             </sequence>
            </elem>
           </sequence>
          </let>
         </let>
        </let>
       </let>
      </sequence>
     </let>
    </sequence>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='25' rank='1' minImp='0' slots='1' flags='s' line='2052' module='saxon-xforms.xsl'>
    <p.nodeTest role='match' test='element(Q{http://www.w3.org/2002/xforms}action)' jsTest='var q=SaxonJS.U.nameOfNode(item); return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;action&#39;;'/>
    <let role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='2060' var='Q{}action-map' as='map(*)' slot='0' eval='16'>
     <treat line='2061' as='map(*)' jsTest='return SaxonJS.U.isMap(item)' diag='3|0|XTTE0570|action-map'>
      <check card='1' diag='3|0|XTTE0570|action-map'>
       <callT name='Q{}setAction' bSlot='2'>
        <withParam name='Q{}this' flags='c' as='element()'>
         <dot line='2062' type='element()'/>
        </withParam>
       </callT>
      </check>
     </treat>
     <varRef line='2075' name='Q{}action-map' slot='0'/>
    </let>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='19' rank='1' minImp='0' slots='15' flags='s' line='1728' module='saxon-xforms.xsl'>
    <p.nodeTest role='match' test='element(Q{http://www.w3.org/2002/xforms}repeat)' jsTest='var q=SaxonJS.U.nameOfNode(item); return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;repeat&#39;;'/>
    <sequence role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='1729'>
     <param name='Q{}position' slot='0' as='xs:integer'>
      <int role='select' val='0'/>
      <treat role='conversion' as='xs:integer' jsTest='return SaxonJS.U.Atomic.integer.matches(item);' diag='8|0|XTTE0590|position'>
       <check card='1' diag='8|0|XTTE0590|position'>
        <cvUntyped to='xs:integer' diag='8|0|XTTE0590|position'>
         <data>
          <supplied slot='0'/>
         </data>
        </cvUntyped>
       </check>
      </treat>
     </param>
     <param line='1730' name='Q{}context-position' slot='1' as='xs:string'>
      <str role='select' val=''/>
      <treat role='conversion' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='8|0|XTTE0590|context-position'>
       <check card='1' diag='8|0|XTTE0590|context-position'>
        <cvUntyped to='xs:string' diag='8|0|XTTE0590|context-position'>
         <data>
          <supplied slot='1'/>
         </data>
        </cvUntyped>
       </check>
      </treat>
     </param>
     <param line='1731' name='Q{}recalculate' slot='2' as='xs:boolean'>
      <false role='select'/>
      <treat role='conversion' as='xs:boolean' jsTest='return SaxonJS.U.Atomic.boolean.matches(item);' diag='8|0|XTTE0590|recalculate'>
       <check card='1' diag='8|0|XTTE0590|recalculate'>
        <cvUntyped to='xs:boolean' diag='8|0|XTTE0590|recalculate'>
         <data>
          <supplied slot='2'/>
         </data>
        </cvUntyped>
       </check>
      </treat>
     </param>
     <param line='1732' name='Q{}refreshRepeats' slot='3' as='xs:boolean'>
      <false role='select'/>
      <treat role='conversion' as='xs:boolean' jsTest='return SaxonJS.U.Atomic.boolean.matches(item);' diag='8|0|XTTE0590|refreshRepeats'>
       <check card='1' diag='8|0|XTTE0590|refreshRepeats'>
        <cvUntyped to='xs:boolean' diag='8|0|XTTE0590|refreshRepeats'>
         <data>
          <supplied slot='3'/>
         </data>
        </cvUntyped>
       </check>
      </treat>
     </param>
     <let line='1736' var='Q{}myid' as='xs:string' slot='4' eval='16'>
      <choose>
       <fn name='exists'>
        <axis name='attribute' nodeTest='attribute(Q{}id)' jsTest='return item.name===&#39;id&#39;'/>
       </fn>
       <check card='1' diag='3|0|XTTE0570|myid'>
        <cvUntyped to='xs:string' diag='3|0|XTTE0570|myid'>
         <attVal name='Q{}id' chk='0'/>
        </cvUntyped>
       </check>
       <true/>
       <fn name='concat'>
        <fn name='generate-id'>
         <dot type='element(Q{http://www.w3.org/2002/xforms}repeat)'/>
        </fn>
        <str val='-'/>
        <choose line='1734'>
         <varRef name='Q{}context-position' slot='1'/>
         <varRef name='Q{}context-position' slot='1'/>
         <true/>
         <fn name='string'>
          <varRef name='Q{}position' slot='0'/>
         </fn>
        </choose>
       </fn>
      </choose>
      <sequence line='1744'>
       <choose>
        <varRef name='Q{}recalculate' slot='2'/>
        <empty/>
        <true/>
        <ifCall line='1763' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
         <check card='1' diag='0|0||ixsl:call'>
          <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
         </check>
         <str val='setRepeatIndex'/>
         <arrayBlock>
          <varRef name='Q{}myid' slot='4'/>
          <choose line='1750'>
           <fn name='empty'>
            <axis name='attribute' nodeTest='attribute(Q{}startindex)' jsTest='return item.name===&#39;startindex&#39;'/>
           </fn>
           <dbl val='1'/>
           <castable line='1753' as='xs:double' emptiable='0'>
            <axis name='attribute' nodeTest='attribute(Q{}startindex)' jsTest='return item.name===&#39;startindex&#39;'/>
           </castable>
           <cvUntyped line='1754' to='xs:double' diag='3|0|XTTE0570|this-index'>
            <convert from='xs:double' to='xs:untypedAtomic'>
             <fn name='number'>
              <attVal name='Q{}startindex' chk='0'/>
             </fn>
            </convert>
           </cvUntyped>
           <true/>
           <dbl val='1'/>
          </choose>
         </arrayBlock>
        </ifCall>
       </choose>
       <let line='1770' var='Q{}bindingi' as='node()?' slot='5' eval='7'>
        <treat line='1771' as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='3|0|XTTE0570|bindingi'>
         <check card='?' diag='3|0|XTTE0570|bindingi'>
          <callT name='Q{}getBinding' bSlot='32'>
           <withParam name='Q{}this' flags='c' as='element()'>
            <dot line='1772' type='element(Q{http://www.w3.org/2002/xforms}repeat)'/>
           </withParam>
          </callT>
         </check>
        </treat>
        <let line='1777' var='Q{}refi' as='xs:string' slot='6' eval='16'>
         <treat line='1778' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|refi'>
          <check card='1' diag='3|0|XTTE0570|refi'>
           <cvUntyped to='xs:string' diag='3|0|XTTE0570|refi'>
            <data>
             <callT name='Q{}getDataRef' bSlot='33'>
              <withParam name='Q{}this' flags='c' as='element()'>
               <dot line='1779' type='element(Q{http://www.w3.org/2002/xforms}repeat)'/>
              </withParam>
              <withParam name='Q{}bindingi' flags='c' as='node()?'>
               <varRef line='1780' name='Q{}bindingi' slot='5'/>
              </withParam>
             </callT>
            </data>
           </cvUntyped>
          </check>
         </treat>
         <let line='1786' var='Q{}selectedRepeatVar' as='element()*' slot='7' eval='8'>
          <treat line='1788' as='element()' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1;' diag='3|0|XTTE0570|selectedRepeatVar'>
           <callT name='Q{}getReferencedInstanceField' bSlot='34'>
            <withParam name='Q{}refi' flags='c' as='xs:string'>
             <varRef line='1789' name='Q{}refi' slot='6'/>
            </withParam>
           </callT>
          </treat>
          <let line='1804' var='Q{}repeat-items' as='element(Q{}div, Q{http://www.w3.org/2001/XMLSchema}untyped)*' slot='8' eval='3'>
           <let line='1805' var='Q{}this' as='element(Q{http://www.w3.org/2002/xforms}repeat)' slot='9' eval='16'>
            <dot type='element(Q{http://www.w3.org/2002/xforms}repeat)'/>
            <let line='1810' var='Q{http://saxon.sf.net/generated-variable}v0' as='element()*' slot='10' eval='4'>
             <slash simple='1'>
              <varRef name='Q{}this' slot='9'/>
              <axis name='child' nodeTest='element()' jsTest='return item.nodeType===1;'/>
             </slash>
             <forEach line='1806'>
              <varRef name='Q{}selectedRepeatVar' slot='7'/>
              <let line='1807' var='Q{}string-position' as='xs:string' slot='11' eval='8'>
               <fn name='string'>
                <fn name='position'/>
               </fn>
               <elem line='1809' name='div' nsuri='' namespaces='xd rdf xhtml js in fn map array ev'>
                <sequence>
                 <att name='data-repeat-item' flags='l'>
                  <str val='true'/>
                 </att>
                 <applyT line='1810' bSlot='35'>
                  <varRef role='select' name='Q{http://saxon.sf.net/generated-variable}v0' slot='10'/>
                  <withParam name='Q{}position' as='xs:integer'>
                   <fn line='1812' name='position'/>
                  </withParam>
                  <withParam name='Q{}context-position' as='xs:string'>
                   <choose line='1808'>
                    <varRef name='Q{}context-position' slot='1'/>
                    <fn name='concat'>
                     <varRef name='Q{}context-position' slot='1'/>
                     <str val='.'/>
                     <varRef name='Q{}string-position' slot='11'/>
                    </fn>
                    <true/>
                    <varRef name='Q{}string-position' slot='11'/>
                   </choose>
                  </withParam>
                  <withParam name='Q{}nodeset' flags='t' as='xs:string'>
                   <fn line='1811' name='concat'>
                    <varRef name='Q{}refi' slot='6'/>
                    <str val='['/>
                    <fn name='position'/>
                    <str val=']'/>
                   </fn>
                  </withParam>
                 </applyT>
                </sequence>
               </elem>
              </let>
             </forEach>
            </let>
           </let>
           <sequence line='1821'>
            <choose>
             <varRef name='Q{}refreshRepeats' slot='3'/>
             <varRef line='1822' name='Q{}repeat-items' slot='8'/>
             <true/>
             <elem line='1825' name='div' nsuri='' namespaces='xd rdf xhtml js in fn map array ev'>
              <sequence line='1826'>
               <let var='Q{}element' as='element(Q{http://www.w3.org/2002/xforms}repeat)' slot='12' eval='16'>
                <dot type='element(Q{http://www.w3.org/2002/xforms}repeat)'/>
                <let line='2604' var='Q{}class' as='xs:string?' slot='13' eval='7'>
                 <choose line='2605'>
                  <fn name='exists'>
                   <slash simple='1'>
                    <varRef name='Q{}element' slot='12'/>
                    <axis name='attribute' nodeTest='attribute(Q{}class)' jsTest='return item.name===&#39;class&#39;'/>
                   </slash>
                  </fn>
                  <cvUntyped line='2606' to='xs:string' diag='3|0|XTTE0570|class'>
                   <cast as='xs:untypedAtomic' emptiable='0'>
                    <fn name='string'>
                     <convert from='xs:untypedAtomic' to='xs:string'>
                      <data>
                       <slash simple='1'>
                        <varRef name='Q{}element' slot='12'/>
                        <axis name='attribute' nodeTest='attribute(Q{}class)' jsTest='return item.name===&#39;class&#39;'/>
                       </slash>
                      </data>
                     </convert>
                    </fn>
                   </cast>
                  </cvUntyped>
                 </choose>
                 <let line='2609' var='Q{}class-mod' as='xs:string?' slot='14' eval='7'>
                  <choose line='2611'>
                   <fn name='exists'>
                    <slash simple='1'>
                     <varRef name='Q{}element' slot='12'/>
                     <axis name='attribute' nodeTest='attribute(Q{}incremental)' jsTest='return item.name===&#39;incremental&#39;'/>
                    </slash>
                   </fn>
                   <cvUntyped line='2612' to='xs:string' diag='3|0|XTTE0570|class-mod'>
                    <cast as='xs:untypedAtomic' emptiable='0'>
                     <fn name='string-join'>
                      <sequence>
                       <varRef name='Q{}class' slot='13'/>
                       <str val='incremental'/>
                      </sequence>
                      <str val=' '/>
                     </fn>
                    </cast>
                   </cvUntyped>
                   <true/>
                   <varRef line='2615' name='Q{}class' slot='13'/>
                  </choose>
                  <choose line='2619'>
                   <fn name='exists'>
                    <varRef name='Q{}class-mod' slot='14'/>
                   </fn>
                   <treat line='2620' as='attribute(Q{}class)' jsTest='return item.name===&#39;class&#39;' diag='5|0|XTTE0780|xforms:getClass#1'>
                    <att name='class' flags='l'>
                     <varRef name='Q{}class-mod' slot='14'/>
                    </att>
                   </treat>
                  </choose>
                 </let>
                </let>
               </let>
               <att line='1828' name='data-repeatable-context' flags='l'>
                <varRef name='Q{}refi' slot='6'/>
               </att>
               <att line='1829' name='data-count' flags='l'>
                <convert from='xs:integer' to='xs:string'>
                 <fn name='count'>
                  <varRef name='Q{}selectedRepeatVar' slot='7'/>
                 </fn>
                </convert>
               </att>
               <att line='1830' name='id' flags='l'>
                <varRef name='Q{}myid' slot='4'/>
               </att>
               <varRef line='1832' name='Q{}repeat-items' slot='8'/>
              </sequence>
             </elem>
            </choose>
            <choose line='1840'>
             <and op='and'>
              <fn name='not'>
               <varRef name='Q{}recalculate' slot='2'/>
              </fn>
              <fn name='empty'>
               <slash simple='1'>
                <dot type='element(Q{http://www.w3.org/2002/xforms}repeat)'/>
                <axis name='ancestor' nodeTest='element(Q{http://www.w3.org/2002/xforms}repeat)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;repeat&#39;;'/>
               </slash>
              </fn>
             </and>
             <ifCall line='1844' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
              <check card='1' diag='0|0||ixsl:call'>
               <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
              </check>
              <str val='addRepeat'/>
              <arrayBlock>
               <varRef name='Q{}myid' slot='4'/>
               <varRef name='Q{}refi' slot='6'/>
              </arrayBlock>
             </ifCall>
            </choose>
            <ifCall line='1848' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
             <check card='1' diag='0|0||ixsl:call'>
              <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
             </check>
             <str val='setRepeatSize'/>
             <arrayBlock>
              <varRef name='Q{}myid' slot='4'/>
              <fn name='count'>
               <varRef name='Q{}selectedRepeatVar' slot='7'/>
              </fn>
             </arrayBlock>
            </ifCall>
           </sequence>
          </let>
         </let>
        </let>
       </let>
      </sequence>
     </let>
    </sequence>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='5' rank='1' minImp='0' slots='0' flags='s' line='1051' module='saxon-xforms.xsl'>
    <p.nodeTest role='match' test='element(Q{http://www.w3.org/2002/xforms}xform)' jsTest='var q=SaxonJS.U.nameOfNode(item); return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;xform&#39;;'/>
    <applyT role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='1052' flags='t' bSlot='36'>
     <axis role='select' name='child' nodeTest='node()' jsTest='return SaxonJS.U.isNode(item);'/>
    </applyT>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='18' rank='1' minImp='0' slots='6' flags='s' line='1684' module='saxon-xforms.xsl'>
    <p.nodeTest role='match' test='element(Q{http://www.w3.org/2002/xforms}group)' jsTest='var q=SaxonJS.U.nameOfNode(item); return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;group&#39;;'/>
    <sequence role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='1685'>
     <param name='Q{}position' slot='0' as='xs:integer'>
      <int role='select' val='0'/>
      <treat role='conversion' as='xs:integer' jsTest='return SaxonJS.U.Atomic.integer.matches(item);' diag='8|0|XTTE0590|position'>
       <check card='1' diag='8|0|XTTE0590|position'>
        <cvUntyped to='xs:integer' diag='8|0|XTTE0590|position'>
         <data>
          <supplied slot='0'/>
         </data>
        </cvUntyped>
       </check>
      </treat>
     </param>
     <param line='1686' name='Q{}context-position' slot='1' as='xs:string'>
      <str role='select' val=''/>
      <treat role='conversion' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='8|0|XTTE0590|context-position'>
       <check card='1' diag='8|0|XTTE0590|context-position'>
        <cvUntyped to='xs:string' diag='8|0|XTTE0590|context-position'>
         <data>
          <supplied slot='1'/>
         </data>
        </cvUntyped>
       </check>
      </treat>
     </param>
     <let line='1690' var='Q{}myid' as='xs:string' slot='2' eval='16'>
      <choose>
       <fn name='exists'>
        <axis name='attribute' nodeTest='attribute(Q{}id)' jsTest='return item.name===&#39;id&#39;'/>
       </fn>
       <check card='1' diag='3|0|XTTE0570|myid'>
        <cvUntyped to='xs:string' diag='3|0|XTTE0570|myid'>
         <attVal name='Q{}id' chk='0'/>
        </cvUntyped>
       </check>
       <true/>
       <fn name='concat'>
        <fn name='generate-id'>
         <dot type='element(Q{http://www.w3.org/2002/xforms}group)'/>
        </fn>
        <str val='-'/>
        <choose line='1688'>
         <varRef name='Q{}context-position' slot='1'/>
         <varRef name='Q{}context-position' slot='1'/>
         <true/>
         <fn name='string'>
          <varRef name='Q{}position' slot='0'/>
         </fn>
        </choose>
       </fn>
      </choose>
      <sequence line='1692'>
       <choose>
        <and op='and'>
         <let var='Q{}this' as='element(Q{http://www.w3.org/2002/xforms}group)' slot='3' eval='16'>
          <dot type='element(Q{http://www.w3.org/2002/xforms}group)'/>
          <fn line='2532' name='exists'>
           <sequence line='2507'>
            <analyzeString>
             <cvUntyped role='select' to='xs:string'>
              <data>
               <slash simple='1'>
                <varRef name='Q{}this' slot='3'/>
                <axis name='attribute' nodeTest='attribute(Q{}ref)' jsTest='return item.name===&#39;ref&#39;'/>
               </slash>
              </data>
             </cvUntyped>
             <str role='regex' val='\i\c*\('/>
             <str role='flags' val=''/>
             <choose role='matching' line='2510'>
              <vc op='eq' onEmpty='0' comp='CCC'>
               <fn name='substring-before'>
                <dot type='xs:string'/>
                <str val='('/>
               </fn>
               <str val='index'/>
              </vc>
              <str val='i'/>
             </choose>
             <empty role='nonMatching'/>
            </analyzeString>
            <analyzeString line='2519'>
             <cvUntyped role='select' to='xs:string'>
              <data>
               <slash simple='1'>
                <varRef name='Q{}this' slot='3'/>
                <axis name='attribute' nodeTest='attribute(Q{}nodeset)' jsTest='return item.name===&#39;nodeset&#39;'/>
               </slash>
              </data>
             </cvUntyped>
             <str role='regex' val='\i\c*\('/>
             <str role='flags' val=''/>
             <choose role='matching' line='2522'>
              <vc op='eq' onEmpty='0' comp='CCC'>
               <fn name='substring-before'>
                <dot type='xs:string'/>
                <str val='('/>
               </fn>
               <str val='index'/>
              </vc>
              <str val='i'/>
             </choose>
             <empty role='nonMatching'/>
            </analyzeString>
           </sequence>
          </fn>
         </let>
         <fn name='empty'>
          <filter flags='b'>
           <slash simple='1'>
            <dot type='element(Q{http://www.w3.org/2002/xforms}group)'/>
            <axis name='ancestor' nodeTest='element()' jsTest='return item.nodeType===1;'/>
           </slash>
           <let var='Q{}this' as='element()' slot='4' eval='16'>
            <dot type='element()'/>
            <fn line='2532' name='exists'>
             <sequence line='2507'>
              <analyzeString>
               <cvUntyped role='select' to='xs:string'>
                <data>
                 <slash simple='1'>
                  <varRef name='Q{}this' slot='4'/>
                  <axis name='attribute' nodeTest='attribute(Q{}ref)' jsTest='return item.name===&#39;ref&#39;'/>
                 </slash>
                </data>
               </cvUntyped>
               <str role='regex' val='\i\c*\('/>
               <str role='flags' val=''/>
               <choose role='matching' line='2510'>
                <vc op='eq' onEmpty='0' comp='CCC'>
                 <fn name='substring-before'>
                  <dot type='xs:string'/>
                  <str val='('/>
                 </fn>
                 <str val='index'/>
                </vc>
                <str val='i'/>
               </choose>
               <empty role='nonMatching'/>
              </analyzeString>
              <analyzeString line='2519'>
               <cvUntyped role='select' to='xs:string'>
                <data>
                 <slash simple='1'>
                  <varRef name='Q{}this' slot='4'/>
                  <axis name='attribute' nodeTest='attribute(Q{}nodeset)' jsTest='return item.name===&#39;nodeset&#39;'/>
                 </slash>
                </data>
               </cvUntyped>
               <str role='regex' val='\i\c*\('/>
               <str role='flags' val=''/>
               <choose role='matching' line='2522'>
                <vc op='eq' onEmpty='0' comp='CCC'>
                 <fn name='substring-before'>
                  <dot type='xs:string'/>
                  <str val='('/>
                 </fn>
                 <str val='index'/>
                </vc>
                <str val='i'/>
               </choose>
               <empty role='nonMatching'/>
              </analyzeString>
             </sequence>
            </fn>
           </let>
          </filter>
         </fn>
        </and>
        <ifCall line='1693' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
         <check card='1' diag='0|0||ixsl:call'>
          <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
         </check>
         <str val='setElementUsingIndexFunction'/>
         <arrayBlock>
          <varRef name='Q{}myid' slot='2'/>
          <dot type='element(Q{http://www.w3.org/2002/xforms}group)'/>
         </arrayBlock>
        </ifCall>
       </choose>
       <let line='1696' var='Q{}refi' as='xs:string?' slot='5' eval='7'>
        <choose line='1698'>
         <fn name='exists'>
          <axis name='attribute' nodeTest='attribute(Q{}nodeset)' jsTest='return item.name===&#39;nodeset&#39;'/>
         </fn>
         <cvUntyped to='xs:string' diag='3|0|XTTE0570|refi'>
          <attVal name='Q{}nodeset' chk='0'/>
         </cvUntyped>
         <fn line='1699' name='exists'>
          <axis name='attribute' nodeTest='attribute(Q{}ref)' jsTest='return item.name===&#39;ref&#39;'/>
         </fn>
         <cvUntyped line='1699' to='xs:string' diag='3|0|XTTE0570|refi'>
          <attVal name='Q{}ref' chk='0'/>
         </cvUntyped>
        </choose>
        <elem line='1705' name='div' nsuri='' namespaces='xd rdf xhtml js in fn map array ev'>
         <sequence line='1706'>
          <att name='id' flags='l'>
           <varRef name='Q{}myid' slot='2'/>
          </att>
          <choose line='1707'>
           <fn name='exists'>
            <varRef name='Q{}refi' slot='5'/>
           </fn>
           <att line='1708' name='data-group-ref' flags='l'>
            <varRef name='Q{}refi' slot='5'/>
           </att>
          </choose>
          <applyT line='1710' bSlot='37'>
           <axis role='select' name='child' nodeTest='element()' jsTest='return item.nodeType===1;'/>
           <withParam name='Q{}nodeset' flags='t' as='xs:string?'>
            <choose line='1711'>
             <fn name='exists'>
              <varRef name='Q{}refi' slot='5'/>
             </fn>
             <varRef name='Q{}refi' slot='5'/>
             <true/>
             <str val=''/>
            </choose>
           </withParam>
          </applyT>
         </sequence>
        </elem>
       </let>
      </sequence>
     </let>
    </sequence>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='25' part='3' rank='1' minImp='0' slots='1' flags='s' line='2052' module='saxon-xforms.xsl'>
    <p.nodeTest role='match' test='element(Q{http://www.w3.org/2002/xforms}hide)' jsTest='var q=SaxonJS.U.nameOfNode(item); return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;hide&#39;;'/>
    <let role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='2060' var='Q{}action-map' as='map(*)' slot='0' eval='16'>
     <treat line='2061' as='map(*)' jsTest='return SaxonJS.U.isMap(item)' diag='3|0|XTTE0570|action-map'>
      <check card='1' diag='3|0|XTTE0570|action-map'>
       <callT name='Q{}setAction' bSlot='2'>
        <withParam name='Q{}this' flags='c' as='element()'>
         <dot line='2062' type='element()'/>
        </withParam>
       </callT>
      </check>
     </treat>
     <varRef line='2075' name='Q{}action-map' slot='0'/>
    </let>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='12' rank='1' minImp='0' slots='0' flags='s' line='1508' module='saxon-xforms.xsl'>
    <p.nodeTest role='match' test='element(Q{http://www.w3.org/2002/xforms}hint)' jsTest='var q=SaxonJS.U.nameOfNode(item); return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;hint&#39;;'/>
    <empty role='action'/>
   </templateRule>
   <templateRule prec='0' prio='-0.5' seq='14' part='1' rank='0' minImp='0' slots='0' flags='s' line='1623' module='saxon-xforms.xsl'>
    <p.nodeTest role='match' test='attribute()' jsTest='return SaxonJS.U.isAttr(item)'/>
    <copy role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='1625' flags='cin'>
     <applyT role='content' bSlot='38'>
      <sequence role='select'>
       <axis name='attribute' nodeTest='attribute()' jsTest='return SaxonJS.U.isAttr(item)'/>
       <axis name='child' nodeTest='( element() | text() | comment() | processing-instruction() )' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; (item.nodeType===1 || item.nodeType===3 || item.nodeType===7 || item.nodeType===8);'/>
      </sequence>
     </applyT>
    </copy>
   </templateRule>
   <templateRule prec='0' prio='0.5' seq='15' rank='2' minImp='0' slots='0' flags='s' line='1634' module='saxon-xforms.xsl'>
    <p.withPredicate role='match'>
     <p.nodeTest test='text()' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===3;'/>
     <axis ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='1634' name='ancestor' nodeTest='element(Q{http://www.w3.org/2002/xforms}model)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;model&#39;;'/>
    </p.withPredicate>
    <empty role='action'/>
   </templateRule>
   <templateRule prec='0' prio='-0.5' seq='14' rank='0' minImp='0' slots='0' flags='s' line='1623' module='saxon-xforms.xsl'>
    <p.nodeTest role='match' test='( element() | text() | comment() | processing-instruction() )' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; (item.nodeType===1 || item.nodeType===3 || item.nodeType===7 || item.nodeType===8);'/>
    <copy role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='1625' flags='cin'>
     <applyT role='content' bSlot='38'>
      <sequence role='select'>
       <axis name='attribute' nodeTest='attribute()' jsTest='return SaxonJS.U.isAttr(item)'/>
       <axis name='child' nodeTest='( element() | text() | comment() | processing-instruction() )' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; (item.nodeType===1 || item.nodeType===3 || item.nodeType===7 || item.nodeType===8);'/>
      </sequence>
     </applyT>
    </copy>
   </templateRule>
  </mode>
 </co>
 <co id='88' binds='87'>
  <template name='Q{}getDataRef' flags='os' line='2839' module='saxon-xforms.xsl' slots='16'>
   <sequence role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='2840'>
    <param name='Q{}this' slot='0' flags='r' as='element()'>
     <treat role='conversion' as='element()' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1;' diag='8|0|XTTE0590|this'>
      <check card='1' diag='8|0|XTTE0590|this'>
       <supplied slot='0'/>
      </check>
     </treat>
    </param>
    <param line='2841' name='Q{}nodeset' slot='1' flags='t' as='xs:string'>
     <str role='select' val=''/>
     <treat role='conversion' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='8|0|XTTE0590|nodeset'>
      <check card='1' diag='8|0|XTTE0590|nodeset'>
       <cvUntyped to='xs:string' diag='8|0|XTTE0590|nodeset'>
        <data>
         <supplied slot='1'/>
        </data>
       </cvUntyped>
      </check>
     </treat>
    </param>
    <param line='2842' name='Q{}bindingi' slot='2' as='node()?'>
     <empty role='select'/>
     <treat role='conversion' as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='8|0|XTTE0590|bindingi'>
      <check card='?' diag='8|0|XTTE0590|bindingi'>
       <supplied slot='2'/>
      </check>
     </treat>
    </param>
    <let line='2850' var='Q{}this-ref' as='xs:string?' slot='3' eval='7'>
     <choose>
      <fn name='exists'>
       <slash simple='1'>
        <varRef name='Q{}this' slot='0'/>
        <axis name='attribute' nodeTest='attribute(Q{}nodeset)' jsTest='return item.name===&#39;nodeset&#39;'/>
       </slash>
      </fn>
      <fn name='normalize-space'>
       <cast as='xs:string' emptiable='1'>
        <data>
         <slash simple='1'>
          <varRef name='Q{}this' slot='0'/>
          <axis name='attribute' nodeTest='attribute(Q{}nodeset)' jsTest='return item.name===&#39;nodeset&#39;'/>
         </slash>
        </data>
       </cast>
      </fn>
      <fn name='exists'>
       <slash simple='1'>
        <varRef name='Q{}this' slot='0'/>
        <axis name='attribute' nodeTest='attribute(Q{}ref)' jsTest='return item.name===&#39;ref&#39;'/>
       </slash>
      </fn>
      <fn name='normalize-space'>
       <cast as='xs:string' emptiable='1'>
        <data>
         <slash simple='1'>
          <varRef name='Q{}this' slot='0'/>
          <axis name='attribute' nodeTest='attribute(Q{}ref)' jsTest='return item.name===&#39;ref&#39;'/>
         </slash>
        </data>
       </cast>
      </fn>
     </choose>
     <let line='2857' var='Q{}this-binding-ref' as='xs:string?' slot='4' eval='7'>
      <choose line='2859'>
       <fn name='exists'>
        <varRef name='Q{}bindingi' slot='2'/>
       </fn>
       <cvUntyped line='2870' to='xs:string' diag='3|0|XTTE0570|this-binding-ref'>
        <cast as='xs:untypedAtomic' emptiable='0'>
         <choose>
          <fn name='exists'>
           <slash simple='1'>
            <varRef name='Q{}bindingi' slot='2'/>
            <axis name='attribute' nodeTest='attribute(Q{}nodeset)' jsTest='return item.name===&#39;nodeset&#39;'/>
           </slash>
          </fn>
          <fn name='normalize-space'>
           <cast as='xs:string' emptiable='1'>
            <data>
             <slash simple='1'>
              <varRef name='Q{}bindingi' slot='2'/>
              <axis name='attribute' nodeTest='attribute(Q{}nodeset)' jsTest='return item.name===&#39;nodeset&#39;'/>
             </slash>
            </data>
           </cast>
          </fn>
          <true/>
          <fn name='normalize-space'>
           <cast as='xs:string' emptiable='1'>
            <data>
             <slash simple='1'>
              <varRef name='Q{}bindingi' slot='2'/>
              <axis name='attribute' nodeTest='attribute(Q{}ref)' jsTest='return item.name===&#39;ref&#39;'/>
             </slash>
            </data>
           </cast>
          </fn>
         </choose>
        </cast>
       </cvUntyped>
       <true/>
       <let line='2874' var='Q{}this-binding' as='node()?' slot='5' eval='7'>
        <treat line='2875' as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='3|0|XTTE0570|this-binding'>
         <check card='?' diag='3|0|XTTE0570|this-binding'>
          <callT name='Q{}getBinding' bSlot='0'>
           <withParam name='Q{}this' flags='c' as='element()'>
            <treat line='2876' as='element()' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1;' diag='8|0|XTTE0590|this'>
             <dot flags='a'/>
            </treat>
           </withParam>
          </callT>
         </check>
        </treat>
        <choose line='2879'>
         <fn name='exists'>
          <varRef name='Q{}this-binding' slot='5'/>
         </fn>
         <cvUntyped line='2886' to='xs:string' diag='3|0|XTTE0570|this-binding-ref'>
          <cast as='xs:untypedAtomic' emptiable='0'>
           <choose>
            <fn name='exists'>
             <slash simple='1'>
              <varRef name='Q{}this-binding' slot='5'/>
              <axis name='attribute' nodeTest='attribute(Q{}nodeset)' jsTest='return item.name===&#39;nodeset&#39;'/>
             </slash>
            </fn>
            <fn name='normalize-space'>
             <cast as='xs:string' emptiable='1'>
              <data>
               <slash simple='1'>
                <varRef name='Q{}this-binding' slot='5'/>
                <axis name='attribute' nodeTest='attribute(Q{}nodeset)' jsTest='return item.name===&#39;nodeset&#39;'/>
               </slash>
              </data>
             </cast>
            </fn>
            <true/>
            <fn name='normalize-space'>
             <cast as='xs:string' emptiable='1'>
              <data>
               <slash simple='1'>
                <varRef name='Q{}this-binding' slot='5'/>
                <axis name='attribute' nodeTest='attribute(Q{}ref)' jsTest='return item.name===&#39;ref&#39;'/>
               </slash>
              </data>
             </cast>
            </fn>
           </choose>
          </cast>
         </cvUntyped>
        </choose>
       </let>
      </choose>
      <choose line='2896'>
       <fn name='exists'>
        <varRef name='Q{}bindingi' slot='2'/>
       </fn>
       <let line='2898' var='Q{}relative' as='xs:string' slot='6' eval='16'>
        <check card='1' diag='0|1||xforms:resolveXPathStrings'>
         <varRef name='Q{}this-binding-ref' slot='4'/>
        </check>
        <choose line='811'>
         <fn name='starts-with'>
          <varRef name='Q{}relative' slot='6'/>
          <str val='/'/>
         </fn>
         <varRef line='812' name='Q{}relative' slot='6'/>
         <fn line='814' name='starts-with'>
          <varRef name='Q{}relative' slot='6'/>
          <str val='instance('/>
         </fn>
         <varRef line='815' name='Q{}relative' slot='6'/>
         <true/>
         <varRef line='818' name='Q{}relative' slot='6'/>
        </choose>
       </let>
       <and line='2900' op='and'>
        <fn name='exists'>
         <varRef name='Q{}this-ref' slot='3'/>
        </fn>
        <fn name='not'>
         <varRef name='Q{}nodeset' slot='1'/>
        </fn>
       </and>
       <let line='2855' var='Q{}base' as='xs:string' slot='7' eval='16'>
        <choose>
         <fn name='exists'>
          <slash simple='1'>
           <varRef name='Q{}this' slot='0'/>
           <axis name='attribute' nodeTest='attribute(Q{}context)' jsTest='return item.name===&#39;context&#39;'/>
          </slash>
         </fn>
         <fn name='normalize-space'>
          <cast as='xs:string' emptiable='1'>
           <data>
            <slash simple='1'>
             <varRef name='Q{}this' slot='0'/>
             <axis name='attribute' nodeTest='attribute(Q{}context)' jsTest='return item.name===&#39;context&#39;'/>
            </slash>
           </data>
          </cast>
         </fn>
         <true/>
         <str val='.'/>
        </choose>
        <let line='2901' var='Q{}relative' as='xs:string' slot='8' eval='16'>
         <check card='1' diag='0|1||xforms:resolveXPathStrings'>
          <varRef name='Q{}this-ref' slot='3'/>
         </check>
         <choose line='811'>
          <fn name='starts-with'>
           <varRef name='Q{}relative' slot='8'/>
           <str val='/'/>
          </fn>
          <varRef line='812' name='Q{}relative' slot='8'/>
          <fn line='814' name='starts-with'>
           <varRef name='Q{}relative' slot='8'/>
           <str val='instance('/>
          </fn>
          <varRef line='815' name='Q{}relative' slot='8'/>
          <fn line='817' name='not'>
           <varRef name='Q{}base' slot='7'/>
          </fn>
          <varRef line='818' name='Q{}relative' slot='8'/>
          <or line='820' op='or'>
           <fn name='not'>
            <varRef name='Q{}relative' slot='8'/>
           </fn>
           <vc op='eq' onEmpty='0' comp='CCC'>
            <varRef name='Q{}relative' slot='8'/>
            <str val='.'/>
           </vc>
          </or>
          <varRef line='821' name='Q{}base' slot='7'/>
          <true/>
          <let line='825' var='Q{}parentCallCount' as='xs:integer' slot='9' eval='16'>
           <choose>
            <fn name='contains'>
             <varRef name='Q{}relative' slot='8'/>
             <str val='/'/>
            </fn>
            <fn name='count'>
             <filter flags='b'>
              <fn name='tokenize'>
               <varRef name='Q{}relative' slot='8'/>
               <str val='/'/>
               <str val=''/>
              </fn>
              <vc op='eq' onEmpty='0' comp='CCC'>
               <dot type='xs:string'/>
               <str val='..'/>
              </vc>
             </filter>
            </fn>
            <fn name='contains'>
             <varRef name='Q{}relative' slot='8'/>
             <str val='..'/>
            </fn>
            <int val='1'/>
            <true/>
            <int val='0'/>
           </choose>
           <let line='828' var='Q{}slashes' as='xs:integer*' slot='10' eval='4'>
            <choose>
             <fn name='contains'>
              <varRef name='Q{}base' slot='7'/>
              <str val='/'/>
             </fn>
             <fn name='index-of'>
              <fn name='string-to-codepoints'>
               <varRef name='Q{}base' slot='7'/>
              </fn>
              <int val='47'/>
             </fn>
             <true/>
             <int val='0'/>
            </choose>
            <choose line='860'>
             <compareToInt op='gt' val='0'>
              <varRef name='Q{}parentCallCount' slot='9'/>
             </compareToInt>
             <fn line='864' name='concat'>
              <fn name='substring'>
               <varRef name='Q{}base' slot='7'/>
               <int val='1'/>
               <choose line='839'>
                <and op='and'>
                 <vc op='ge' onEmpty='0' comp='CAVC'>
                  <fn name='count'>
                   <varRef name='Q{}slashes' slot='10'/>
                  </fn>
                  <varRef name='Q{}parentCallCount' slot='9'/>
                 </vc>
                 <compareToInt op='gt' val='0'>
                  <varRef name='Q{}parentCallCount' slot='9'/>
                 </compareToInt>
                </and>
                <let line='840' var='Q{http://saxon.sf.net/generated-variable}v0' as='xs:integer' slot='11' eval='13'>
                 <arith op='-' calc='i-i'>
                  <varRef name='Q{}parentCallCount' slot='9'/>
                  <int val='1'/>
                 </arith>
                 <check card='1' diag='3|0|XTTE0570|parentSlash'>
                  <filter flags='p'>
                   <varRef name='Q{}slashes' slot='10'/>
                   <arith op='-' calc='i-i'>
                    <fn name='last'/>
                    <varRef name='Q{http://saxon.sf.net/generated-variable}v0' slot='11'/>
                   </arith>
                  </filter>
                 </check>
                </let>
                <true/>
                <check line='843' card='1' diag='3|0|XTTE0570|parentSlash'>
                 <lastOf>
                  <varRef name='Q{}slashes' slot='10'/>
                 </lastOf>
                </check>
               </choose>
              </fn>
              <fn name='replace'>
               <varRef name='Q{}relative' slot='8'/>
               <str val='\.\./'/>
               <str val=''/>
               <str val=''/>
              </fn>
             </fn>
             <true/>
             <fn line='867' name='concat'>
              <varRef name='Q{}base' slot='7'/>
              <str val='/'/>
              <varRef name='Q{}relative' slot='8'/>
             </fn>
            </choose>
           </let>
          </let>
         </choose>
        </let>
       </let>
       <fn line='2903' name='exists'>
        <varRef name='Q{}this-ref' slot='3'/>
       </fn>
       <let line='2905' var='Q{}relative' as='xs:string' slot='12' eval='16'>
        <check card='1' diag='0|1||xforms:resolveXPathStrings'>
         <varRef name='Q{}this-ref' slot='3'/>
        </check>
        <choose line='811'>
         <fn name='starts-with'>
          <varRef name='Q{}relative' slot='12'/>
          <str val='/'/>
         </fn>
         <varRef line='812' name='Q{}relative' slot='12'/>
         <fn line='814' name='starts-with'>
          <varRef name='Q{}relative' slot='12'/>
          <str val='instance('/>
         </fn>
         <varRef line='815' name='Q{}relative' slot='12'/>
         <fn line='2905' name='not'>
          <varRef name='Q{}nodeset' slot='1'/>
         </fn>
         <varRef line='818' name='Q{}relative' slot='12'/>
         <or line='820' op='or'>
          <fn name='not'>
           <varRef name='Q{}relative' slot='12'/>
          </fn>
          <vc op='eq' onEmpty='0' comp='CCC'>
           <varRef name='Q{}relative' slot='12'/>
           <str val='.'/>
          </vc>
         </or>
         <varRef line='2905' name='Q{}nodeset' slot='1'/>
         <true/>
         <let line='825' var='Q{}parentCallCount' as='xs:integer' slot='13' eval='16'>
          <choose>
           <fn name='contains'>
            <varRef name='Q{}relative' slot='12'/>
            <str val='/'/>
           </fn>
           <fn name='count'>
            <filter flags='b'>
             <fn name='tokenize'>
              <varRef name='Q{}relative' slot='12'/>
              <str val='/'/>
              <str val=''/>
             </fn>
             <vc op='eq' onEmpty='0' comp='CCC'>
              <dot type='xs:string'/>
              <str val='..'/>
             </vc>
            </filter>
           </fn>
           <fn name='contains'>
            <varRef name='Q{}relative' slot='12'/>
            <str val='..'/>
           </fn>
           <int val='1'/>
           <true/>
           <int val='0'/>
          </choose>
          <let line='828' var='Q{}slashes' as='xs:integer*' slot='14' eval='4'>
           <choose>
            <fn line='2905' name='contains'>
             <varRef name='Q{}nodeset' slot='1'/>
             <str val='/'/>
            </fn>
            <fn name='index-of'>
             <fn name='string-to-codepoints'>
              <varRef line='2905' name='Q{}nodeset' slot='1'/>
             </fn>
             <int val='47'/>
            </fn>
            <true/>
            <int val='0'/>
           </choose>
           <choose line='860'>
            <compareToInt op='gt' val='0'>
             <varRef name='Q{}parentCallCount' slot='13'/>
            </compareToInt>
            <fn line='864' name='concat'>
             <fn name='substring'>
              <varRef line='2905' name='Q{}nodeset' slot='1'/>
              <int val='1'/>
              <choose line='839'>
               <and op='and'>
                <vc op='ge' onEmpty='0' comp='CAVC'>
                 <fn name='count'>
                  <varRef name='Q{}slashes' slot='14'/>
                 </fn>
                 <varRef name='Q{}parentCallCount' slot='13'/>
                </vc>
                <compareToInt op='gt' val='0'>
                 <varRef name='Q{}parentCallCount' slot='13'/>
                </compareToInt>
               </and>
               <let line='840' var='Q{http://saxon.sf.net/generated-variable}v0' as='xs:integer' slot='15' eval='13'>
                <arith op='-' calc='i-i'>
                 <varRef name='Q{}parentCallCount' slot='13'/>
                 <int val='1'/>
                </arith>
                <check card='1' diag='3|0|XTTE0570|parentSlash'>
                 <filter flags='p'>
                  <varRef name='Q{}slashes' slot='14'/>
                  <arith op='-' calc='i-i'>
                   <fn name='last'/>
                   <varRef name='Q{http://saxon.sf.net/generated-variable}v0' slot='15'/>
                  </arith>
                 </filter>
                </check>
               </let>
               <true/>
               <check line='843' card='1' diag='3|0|XTTE0570|parentSlash'>
                <lastOf>
                 <varRef name='Q{}slashes' slot='14'/>
                </lastOf>
               </check>
              </choose>
             </fn>
             <fn name='replace'>
              <varRef name='Q{}relative' slot='12'/>
              <str val='\.\./'/>
              <str val=''/>
              <str val=''/>
             </fn>
            </fn>
            <true/>
            <fn line='2905' name='concat'>
             <varRef name='Q{}nodeset' slot='1'/>
             <str val='/'/>
             <varRef line='867' name='Q{}relative' slot='12'/>
            </fn>
           </choose>
          </let>
         </let>
        </choose>
       </let>
       <varRef line='2907' name='Q{}nodeset' slot='1'/>
       <choose line='2910'>
        <fn name='starts-with'>
         <varRef name='Q{}nodeset' slot='1'/>
         <str val='/'/>
        </fn>
        <varRef name='Q{}nodeset' slot='1'/>
        <fn name='starts-with'>
         <varRef name='Q{}nodeset' slot='1'/>
         <str val='instance('/>
        </fn>
        <varRef name='Q{}nodeset' slot='1'/>
        <true/>
        <varRef name='Q{}nodeset' slot='1'/>
       </choose>
       <true/>
       <cvUntyped line='2914' to='xs:string' diag='3|0|XTTE0570|data-ref'>
        <cast as='xs:untypedAtomic' emptiable='0'>
         <varRef name='Q{}nodeset' slot='1'/>
        </cast>
       </cvUntyped>
      </choose>
     </let>
    </let>
   </sequence>
  </template>
 </co>
 <co id='25' binds='43'>
  <function name='Q{http://www.w3.org/2002/xforms}setInstance-JS' line='2775' module='saxon-xforms.xsl' eval='7' flags='pU' as='empty-sequence()' slots='2'>
   <arg name='Q{}ref' as='xs:string'/>
   <arg name='Q{}updatedInstance' as='element()'/>
   <check role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='2783' card='°' diag='5|0|XTTE0780|xforms:setInstance-JS#2'>
    <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
     <check card='1' diag='0|0||ixsl:call'>
      <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
     </check>
     <str val='setInstance'/>
     <arrayBlock>
      <check line='2781' card='1' diag='3|0|XTTE0570|this-instance-id'>
       <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
        <ufCall name='Q{http://www.w3.org/2002/xforms}getInstanceMap' tailCall='false' bSlot='0' eval='6'>
         <varRef name='Q{}ref' slot='0'/>
        </ufCall>
        <str val='instance-id'/>
       </ifCall>
      </check>
      <varRef name='Q{}updatedInstance' slot='1'/>
     </arrayBlock>
    </ifCall>
   </check>
  </function>
 </co>
 <co id='54' binds='22 43'>
  <function name='Q{http://www.w3.org/2002/xforms}getInstance-JS' line='2748' module='saxon-xforms.xsl' eval='7' flags='pU' as='element()?' slots='1'>
   <arg name='Q{}ref' as='xs:string'/>
   <tailCallLoop role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='2752'>
    <choose>
     <fn name='not'>
      <varRef name='Q{}ref' slot='0'/>
     </fn>
     <treat line='2753' as='element()' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1;' diag='5|0|XTTE0780|xforms:getInstance-JS#1'>
      <message>
       <valueOf role='select'>
        <str val='[xforms:getInstance-JS] Empty ref supplied, no instance will be returned'/>
       </valueOf>
       <str role='terminate' val='no'/>
       <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
      </message>
     </treat>
     <true/>
     <ufCall line='2758' name='Q{http://www.w3.org/2002/xforms}instance' tailCall='foreign' bSlot='0' eval='16'>
      <check line='2756' card='1' diag='3|0|XTTE0570|this-instance-id'>
       <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
        <ufCall name='Q{http://www.w3.org/2002/xforms}getInstanceMap' tailCall='false' bSlot='1' eval='6'>
         <varRef name='Q{}ref' slot='0'/>
        </ufCall>
        <str val='instance-id'/>
       </ifCall>
      </check>
     </ufCall>
    </choose>
   </tailCallLoop>
  </function>
 </co>
 <co id='43' binds=''>
  <function name='Q{http://www.w3.org/2002/xforms}getInstanceMap' line='2645' module='saxon-xforms.xsl' eval='8' flags='pU' as='map(xs:string, xs:string)' slots='3'>
   <arg name='Q{}nodeset' as='xs:string'/>
   <let role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='2666' var='Q{http://saxon.sf.net/generated-variable}v0' as='map(xs:string, xs:string)+' slot='1' eval='4'>
    <sequence>
     <map size='1'>
      <str val='instance-id'/>
      <str val='saxon-forms-default'/>
     </map>
     <ifCall line='2667' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
      <str val='xpath'/>
      <fn name='normalize-space'>
       <varRef name='Q{}nodeset' slot='0'/>
      </fn>
     </ifCall>
    </sequence>
    <ifCall line='2650' name='Q{http://www.w3.org/2005/xpath-functions/map}merge' type='map(*)'>
     <analyzeString>
      <fn role='select' name='normalize-space'>
       <varRef name='Q{}nodeset' slot='0'/>
      </fn>
      <str role='regex' val='^instance\s*\(\s*&#39;([^&#39;]+)&#39;\s*\)\s*(/\s*(.*)|)$'/>
      <str role='flags' val=''/>
      <let role='matching' line='2652' var='Q{}xpath' as='xs:string' slot='2' eval='16'>
       <choose line='2654'>
        <fn name='regex-group'>
         <int val='2'/>
        </fn>
        <fn line='2655' name='regex-group'>
         <int val='3'/>
        </fn>
        <true/>
        <str val='.'/>
       </choose>
       <sequence line='2662'>
        <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
         <str val='instance-id'/>
         <fn name='regex-group'>
          <int val='1'/>
         </fn>
        </ifCall>
        <ifCall line='2663' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
         <str val='xpath'/>
         <varRef name='Q{}xpath' slot='2'/>
        </ifCall>
       </sequence>
      </let>
      <varRef role='nonMatching' line='2666' name='Q{http://saxon.sf.net/generated-variable}v0' slot='1'/>
     </analyzeString>
     <map size='2'>
      <str val='duplicates'/>
      <str val='reject'/>
      <str val='duplicates-error-code'/>
      <str val='XTDE3365'/>
     </map>
    </ifCall>
   </let>
  </function>
 </co>
 <co id='21' binds='43'>
  <function name='Q{http://www.w3.org/2002/xforms}getInstanceId' line='2632' module='saxon-xforms.xsl' eval='8' flags='pU' as='xs:string' slots='1'>
   <arg name='Q{}nodeset' as='xs:string'/>
   <cvUntyped role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='2635' to='xs:string' diag='5|0|XTTE0780|xforms:getInstanceId#1'>
    <cast as='xs:untypedAtomic' emptiable='0'>
     <fn name='string'>
      <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
       <ufCall line='2634' name='Q{http://www.w3.org/2002/xforms}getInstanceMap' tailCall='false' bSlot='0' eval='6'>
        <varRef name='Q{}nodeset' slot='0'/>
       </ufCall>
       <str val='instance-id'/>
      </ifCall>
     </fn>
    </cast>
   </cvUntyped>
  </function>
 </co>
 <co id='90' binds=''>
  <globalVariable name='Q{}debugMode' type='xs:boolean' line='79' module='saxon-xforms.xsl' visibility='PRIVATE' jsAcceptor='return SaxonJS.U.Atomic.boolean.cast(val);' jsCardCheck='function c(n) {return n==1;};'>
   <true/>
  </globalVariable>
 </co>
 <co id='91' binds=''>
  <function name='Q{http://www.w3.org/2002/xforms}getWhileStatement' line='782' module='saxon-xforms.xsl' eval='7' flags='pU' as='xs:string?' slots='1'>
   <arg name='Q{}map' as='map(*)'/>
   <choose role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='785'>
    <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}contains' type='xs:boolean'>
     <varRef name='Q{}map' slot='0'/>
     <str val='@while'/>
    </ifCall>
    <treat line='786' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='5|0|XTTE0780|xforms:getWhileStatement#1'>
     <check card='?' diag='5|0|XTTE0780|xforms:getWhileStatement#1'>
      <cvUntyped to='xs:string' diag='5|0|XTTE0780|xforms:getWhileStatement#1'>
       <data>
        <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
         <varRef name='Q{}map' slot='0'/>
         <str val='@while'/>
        </ifCall>
       </data>
      </cvUntyped>
     </check>
    </treat>
    <true/>
    <treat line='789' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='5|0|XTTE0780|xforms:getWhileStatement#1'>
     <check card='?' diag='5|0|XTTE0780|xforms:getWhileStatement#1'>
      <cvUntyped to='xs:string' diag='5|0|XTTE0780|xforms:getWhileStatement#1'>
       <data>
        <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
         <treat as='map(*)' jsTest='return SaxonJS.U.isMap(item)' diag='0|0||map:get'>
          <check card='1' diag='0|0||map:get'>
           <lookupAll>
            <varRef name='Q{}map' slot='0'/>
           </lookupAll>
          </check>
         </treat>
         <str val='@while'/>
        </ifCall>
       </data>
      </cvUntyped>
     </check>
    </treat>
   </choose>
  </function>
 </co>
 <co id='92' binds='21 22 23 35 39 40'>
  <template name='Q{}DOMActivate' flags='os' line='4024' module='saxon-xforms.xsl' slots='9'>
   <sequence role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='4025'>
    <param name='Q{}form-control' slot='0' flags='i' as='node()'>
     <treat role='conversion' as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='8|0|XTTE0590|form-control'>
      <check card='1' diag='8|0|XTTE0590|form-control'>
       <supplied slot='0'/>
      </check>
     </treat>
    </param>
    <let line='4027' var='Q{}actions' as='map(*)?' slot='1' eval='7'>
     <treat as='map(*)' jsTest='return SaxonJS.U.isMap(item)' diag='3|0|XTTE0570|actions'>
      <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
       <check card='1' diag='0|0||ixsl:call'>
        <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
       </check>
       <str val='getAction'/>
       <arrayBlock>
        <fn name='string'>
         <slash simple='1'>
          <varRef name='Q{}form-control' slot='0'/>
          <axis name='attribute' nodeTest='attribute(Q{}data-action)' jsTest='return item.name===&#39;data-action&#39;'/>
         </slash>
        </fn>
       </arrayBlock>
      </ifCall>
     </treat>
     <let line='4029' var='Q{}refi' as='attribute(Q{}data-ref)?' slot='2' eval='8'>
      <slash simple='1'>
       <varRef name='Q{}form-control' slot='0'/>
       <axis name='attribute' nodeTest='attribute(Q{}data-ref)' jsTest='return item.name===&#39;data-ref&#39;'/>
      </slash>
      <let line='4031' var='Q{}instance-id' as='xs:string' slot='3' eval='16'>
       <ufCall name='Q{http://www.w3.org/2002/xforms}getInstanceId' tailCall='false' bSlot='0' eval='16'>
        <check card='1' diag='0|0||xforms:getInstanceId'>
         <cvUntyped to='xs:string'>
          <data>
           <varRef name='Q{}refi' slot='2'/>
          </data>
         </cvUntyped>
        </check>
       </ufCall>
       <let line='4044' var='Q{}instanceXML' as='element()?' slot='4' eval='7'>
        <ufCall name='Q{http://www.w3.org/2002/xforms}instance' tailCall='false' bSlot='1' eval='6'>
         <varRef name='Q{}instance-id' slot='3'/>
        </ufCall>
        <let line='4046' var='Q{}updatedInstanceXML' as='element()?' slot='5' eval='7'>
         <choose line='4048'>
          <and op='and'>
           <fn name='exists'>
            <varRef name='Q{}refi' slot='2'/>
           </fn>
           <fn name='exists'>
            <varRef name='Q{}instanceXML' slot='4'/>
           </fn>
          </and>
          <let line='4049' var='Q{}updatedNode' as='node()' slot='6' eval='16'>
           <treat line='4050' as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='3|0|XTTE0570|updatedNode'>
            <check card='1' diag='3|0|XTTE0570|updatedNode'>
             <evaluate dxns=''>
              <ufCall role='xpath' name='Q{http://www.w3.org/2002/xforms}impose' tailCall='false' bSlot='2' eval='16'>
               <check card='1' diag='0|0||xforms:impose'>
                <cvUntyped to='xs:string'>
                 <data>
                  <varRef name='Q{}refi' slot='2'/>
                 </data>
                </cvUntyped>
               </check>
              </ufCall>
              <varRef role='cxt' name='Q{}instanceXML' slot='4'/>
              <check role='nsCxt' card='1' diag='4|0|XTTE3170|xsl:evaluate/namespace-context'>
               <varRef name='Q{}instanceXML' slot='4'/>
              </check>
              <str role='sa' val='no'/>
              <map role='options' size='0'/>
              <map role='wp' size='0'/>
             </evaluate>
            </check>
           </treat>
           <let line='4052' var='Q{}new-value' as='xs:string' slot='7' eval='16'>
            <treat line='4053' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|new-value'>
             <check card='1' diag='3|0|XTTE0570|new-value'>
              <cvUntyped to='xs:string' diag='3|0|XTTE0570|new-value'>
               <data>
                <applyT mode='Q{}get-field' bSlot='3'>
                 <varRef role='select' name='Q{}form-control' slot='0'/>
                </applyT>
               </data>
              </cvUntyped>
             </check>
            </treat>
            <treat line='4055' as='element()' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1;' diag='3|0|XTTE0570|updatedInstanceXML'>
             <check card='?' diag='3|0|XTTE0570|updatedInstanceXML'>
              <applyT mode='Q{}recalculate' bSlot='4'>
               <varRef role='select' name='Q{}instanceXML' slot='4'/>
               <withParam name='Q{}instance-id' as='xs:string'>
                <varRef line='4056' name='Q{}instance-id' slot='3'/>
               </withParam>
               <withParam name='Q{}updated-nodes' flags='t' as='node()'>
                <varRef line='4057' name='Q{}updatedNode' slot='6'/>
               </withParam>
               <withParam name='Q{}updated-values' flags='t' as='xs:string'>
                <varRef line='4058' name='Q{}new-value' slot='7'/>
               </withParam>
              </applyT>
             </check>
            </treat>
           </let>
          </let>
          <true/>
          <varRef line='4062' name='Q{}instanceXML' slot='4'/>
         </choose>
         <forEach line='4069'>
          <varRef name='Q{}actions' slot='1'/>
          <let line='4070' var='Q{}action-map' as='map(*)' slot='8' eval='16'>
           <dot type='map(*)'/>
           <choose line='4073'>
            <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}contains' type='xs:boolean'>
             <varRef name='Q{}action-map' slot='8'/>
             <str val='@event'/>
            </ifCall>
            <choose line='4074'>
             <gc op='=' card='N:1' comp='GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint'>
              <data>
               <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
                <varRef name='Q{}action-map' slot='8'/>
                <str val='@event'/>
               </ifCall>
              </data>
              <str val='DOMActivate'/>
             </gc>
             <callT line='4075' name='Q{}applyActions' bSlot='5' flags='t'>
              <withParam name='Q{}action-map' flags='t' as='item()'>
               <varRef line='4076' name='Q{}action-map' slot='8'/>
              </withParam>
              <withParam name='Q{}instanceXML' flags='t' as='element()?'>
               <varRef line='4077' name='Q{}updatedInstanceXML' slot='5'/>
              </withParam>
             </callT>
            </choose>
           </choose>
          </let>
         </forEach>
        </let>
       </let>
      </let>
     </let>
    </let>
   </sequence>
  </template>
 </co>
 <co id='93' vis='PRIVATE' binds='70 94' base='18' dpack='1'/>
 <co id='89' binds='63'>
  <template name='Q{}setActions' flags='os' line='3160' module='saxon-xforms.xsl' slots='1'>
   <sequence role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='3161'>
    <param name='Q{}this' slot='0' flags='i' as='element()'>
     <treat role='conversion' as='element()' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1;' diag='8|0|XTTE0590|this'>
      <check card='1' diag='8|0|XTTE0590|this'>
       <supplied slot='0'/>
      </check>
     </treat>
    </param>
    <applyT line='3163' flags='t' bSlot='0'>
     <union role='select' op='|'>
      <union op='|'>
       <union op='|'>
        <union op='|'>
         <union op='|'>
          <slash simple='1'>
           <varRef name='Q{}this' slot='0'/>
           <axis name='child' nodeTest='element(Q{http://www.w3.org/2002/xforms}action)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;action&#39;;'/>
          </slash>
          <filter flags='b'>
           <slash simple='1'>
            <varRef name='Q{}this' slot='0'/>
            <axis name='child' nodeTest='Q{http://www.w3.org/2002/xforms}*' jsTest='var q=SaxonJS.U.nameOfNode(item); return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1&amp;&amp;q.uri===&#39;http://www.w3.org/2002/xforms&#39;'/>
           </slash>
           <gc op='=' card='N:1' comp='CCC'>
            <literal count='15'>
             <str val='setvalue'/>
             <str val='insert'/>
             <str val='delete'/>
             <str val='setindex'/>
             <str val='toggle'/>
             <str val='setfocus'/>
             <str val='dispatch'/>
             <str val='rebuild'/>
             <str val='recalculate'/>
             <str val='revalidate'/>
             <str val='refresh'/>
             <str val='reset'/>
             <str val='load'/>
             <str val='send'/>
             <str val='message'/>
            </literal>
            <fn name='local-name'>
             <dot type='Q{http://www.w3.org/2002/xforms}*'/>
            </fn>
           </gc>
          </filter>
         </union>
         <slash simple='1'>
          <varRef name='Q{}this' slot='0'/>
          <axis name='child' nodeTest='element(Q{http://www.w3.org/2002/xforms}show)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;show&#39;;'/>
         </slash>
        </union>
        <slash simple='1'>
         <varRef name='Q{}this' slot='0'/>
         <axis name='child' nodeTest='element(Q{http://www.w3.org/2002/xforms}hide)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;hide&#39;;'/>
        </slash>
       </union>
       <slash simple='1'>
        <varRef name='Q{}this' slot='0'/>
        <axis name='child' nodeTest='element(Q{http://www.w3.org/2002/xforms}script)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;script&#39;;'/>
       </slash>
      </union>
      <slash simple='1'>
       <varRef name='Q{}this' slot='0'/>
       <axis name='child' nodeTest='element(Q{http://www.w3.org/2002/xforms}unload)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;unload&#39;;'/>
      </slash>
     </union>
    </applyT>
   </sequence>
  </template>
 </co>
 <co id='95' binds=''>
  <template name='Q{}serverError' flags='os' line='1040' module='saxon-xforms.xsl' slots='1'>
   <sequence role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='1041'>
    <param name='Q{}responseMap' slot='0' flags='i' as='map(*)'>
     <treat role='conversion' as='map(*)' jsTest='return SaxonJS.U.isMap(item)' diag='8|0|XTTE0590|responseMap'>
      <check card='1' diag='8|0|XTTE0590|responseMap'>
       <supplied slot='0'/>
      </check>
     </treat>
    </param>
    <message line='1042'>
     <sequence role='select'>
      <valueOf>
       <str val='Server side error HTTP response - '/>
      </valueOf>
      <valueOf>
       <fn name='concat'>
        <atomSing card='?' diag='0|0||fn:concat'>
         <lookup>
          <varRef name='Q{}responseMap' slot='0'/>
          <str val='status'/>
         </lookup>
        </atomSing>
        <str val=' '/>
        <atomSing card='?' diag='0|2||fn:concat'>
         <lookup>
          <varRef name='Q{}responseMap' slot='0'/>
          <str val='message'/>
         </lookup>
        </atomSing>
       </fn>
      </valueOf>
     </sequence>
     <str role='terminate' val='no'/>
     <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
    </message>
   </sequence>
  </template>
 </co>
 <co id='86' binds='87 88 63'>
  <template name='Q{}setAction' flags='os' line='3340' module='saxon-xforms.xsl' slots='20'>
   <sequence role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='3341'>
    <param name='Q{}this' slot='0' flags='i' as='element()'>
     <treat role='conversion' as='element()' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1;' diag='8|0|XTTE0590|this'>
      <check card='1' diag='8|0|XTTE0590|this'>
       <supplied slot='0'/>
      </check>
     </treat>
    </param>
    <param line='3342' name='Q{}nodeset' slot='1' flags='t'>
     <str role='select' val=''/>
     <supplied role='conversion' slot='1'/>
    </param>
    <let line='3345' var='Q{}bindingi' as='node()?' slot='2' eval='7'>
     <treat line='3346' as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='3|0|XTTE0570|bindingi'>
      <check card='?' diag='3|0|XTTE0570|bindingi'>
       <callT name='Q{}getBinding' bSlot='0'>
        <withParam name='Q{}this' flags='c' as='element()'>
         <treat line='3347' as='element()' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1;' diag='8|0|XTTE0590|this'>
          <dot flags='a'/>
         </treat>
        </withParam>
       </callT>
      </check>
     </treat>
     <let line='3352' var='Q{}refi' as='xs:string' slot='3' eval='16'>
      <treat line='3353' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|refi'>
       <check card='1' diag='3|0|XTTE0570|refi'>
        <cvUntyped to='xs:string' diag='3|0|XTTE0570|refi'>
         <data>
          <callT name='Q{}getDataRef' bSlot='1'>
           <withParam name='Q{}this' flags='c' as='element()'>
            <treat line='3354' as='element()' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1;' diag='8|0|XTTE0590|this'>
             <dot flags='a'/>
            </treat>
           </withParam>
           <withParam name='Q{}bindingi' flags='c' as='node()?'>
            <varRef line='3355' name='Q{}bindingi' slot='2'/>
           </withParam>
          </callT>
         </data>
        </cvUntyped>
       </check>
      </treat>
      <ifCall line='3363' name='Q{http://www.w3.org/2005/xpath-functions/map}merge' type='map(*)'>
       <sequence>
        <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
         <str val='name'/>
         <fn name='local-name'>
          <treat as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='0|0||fn:local-name'>
           <dot flags='a'/>
          </treat>
         </fn>
        </ifCall>
        <choose line='3365'>
         <fn name='exists'>
          <slash simple='1'>
           <varRef name='Q{}this' slot='0'/>
           <axis name='attribute' nodeTest='attribute(Q{}value)' jsTest='return item.name===&#39;value&#39;'/>
          </slash>
         </fn>
         <ifCall line='3366' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
          <str val='@value'/>
          <fn name='string'>
           <slash simple='1'>
            <varRef name='Q{}this' slot='0'/>
            <axis name='attribute' nodeTest='attribute(Q{}value)' jsTest='return item.name===&#39;value&#39;'/>
           </slash>
          </fn>
         </ifCall>
        </choose>
        <choose line='3368'>
         <and op='and'>
          <fn name='empty'>
           <slash simple='1'>
            <varRef name='Q{}this' slot='0'/>
            <axis name='attribute' nodeTest='attribute(Q{}value)' jsTest='return item.name===&#39;value&#39;'/>
           </slash>
          </fn>
          <fn name='exists'>
           <slash simple='1'>
            <treat as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='1|0|XPTY0019|/'>
             <dot flags='a'/>
            </treat>
            <axis name='child' nodeTest='text()' jsTest='return item.nodeType===3;'/>
           </slash>
          </fn>
         </and>
         <ifCall line='3369' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
          <str val='value'/>
          <fn name='string'>
           <dot flags='a'/>
          </fn>
         </ifCall>
        </choose>
        <ifCall line='3372' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
         <str val='@ref'/>
         <varRef name='Q{}refi' slot='3'/>
        </ifCall>
        <choose line='3378'>
         <fn name='exists'>
          <slash simple='1'>
           <varRef name='Q{}this' slot='0'/>
           <axis name='attribute' nodeTest='attribute(Q{}position)' jsTest='return item.name===&#39;position&#39;'/>
          </slash>
         </fn>
         <ifCall line='3379' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
          <str val='@position'/>
          <fn name='string'>
           <slash simple='1'>
            <varRef name='Q{}this' slot='0'/>
            <axis name='attribute' nodeTest='attribute(Q{}position)' jsTest='return item.name===&#39;position&#39;'/>
           </slash>
          </fn>
         </ifCall>
        </choose>
        <choose line='3381'>
         <fn name='exists'>
          <slash simple='1'>
           <varRef name='Q{}this' slot='0'/>
           <axis name='attribute' nodeTest='attribute(Q{}at)' jsTest='return item.name===&#39;at&#39;'/>
          </slash>
         </fn>
         <ifCall line='3382' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
          <str val='@at'/>
          <fn name='string'>
           <slash simple='1'>
            <varRef name='Q{}this' slot='0'/>
            <axis name='attribute' nodeTest='attribute(Q{}at)' jsTest='return item.name===&#39;at&#39;'/>
           </slash>
          </fn>
         </ifCall>
        </choose>
        <choose line='3386'>
         <fn name='exists'>
          <slash simple='1'>
           <varRef name='Q{}this' slot='0'/>
           <axis name='attribute' nodeTest='attribute(Q{}if)' jsTest='return item.name===&#39;if&#39;'/>
          </slash>
         </fn>
         <ifCall line='3387' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
          <str val='@if'/>
          <fn name='string'>
           <slash simple='1'>
            <varRef name='Q{}this' slot='0'/>
            <axis name='attribute' nodeTest='attribute(Q{}if)' jsTest='return item.name===&#39;if&#39;'/>
           </slash>
          </fn>
         </ifCall>
        </choose>
        <choose line='3391'>
         <fn name='exists'>
          <slash simple='1'>
           <varRef name='Q{}this' slot='0'/>
           <axis name='attribute' nodeTest='attribute(Q{}while)' jsTest='return item.name===&#39;while&#39;'/>
          </slash>
         </fn>
         <ifCall line='3392' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
          <str val='@while'/>
          <fn name='string'>
           <slash simple='1'>
            <varRef name='Q{}this' slot='0'/>
            <axis name='attribute' nodeTest='attribute(Q{}while)' jsTest='return item.name===&#39;while&#39;'/>
           </slash>
          </fn>
         </ifCall>
        </choose>
        <choose line='3395'>
         <fn name='exists'>
          <slash simple='1'>
           <varRef name='Q{}this' slot='0'/>
           <axis name='attribute' nodeTest='@*:event' jsTest='var q=SaxonJS.U.nameOfNode(item); return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===2&amp;&amp;q.local===&#39;event&#39;'/>
          </slash>
         </fn>
         <ifCall line='3396' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
          <str val='@event'/>
          <fn name='string'>
           <check card='?' diag='0|0||fn:string'>
            <slash simple='1'>
             <varRef name='Q{}this' slot='0'/>
             <axis name='attribute' nodeTest='@*:event' jsTest='var q=SaxonJS.U.nameOfNode(item); return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===2&amp;&amp;q.local===&#39;event&#39;'/>
            </slash>
           </check>
          </fn>
         </ifCall>
        </choose>
        <choose line='3398'>
         <fn name='exists'>
          <slash simple='1'>
           <varRef name='Q{}this' slot='0'/>
           <axis name='attribute' nodeTest='attribute(Q{}submission)' jsTest='return item.name===&#39;submission&#39;'/>
          </slash>
         </fn>
         <ifCall line='3399' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
          <str val='@submission'/>
          <fn name='string'>
           <slash simple='1'>
            <varRef name='Q{}this' slot='0'/>
            <axis name='attribute' nodeTest='attribute(Q{}submission)' jsTest='return item.name===&#39;submission&#39;'/>
           </slash>
          </fn>
         </ifCall>
        </choose>
        <choose line='3402'>
         <fn name='exists'>
          <slash simple='1'>
           <varRef name='Q{}this' slot='0'/>
           <axis name='attribute' nodeTest='attribute(Q{}model)' jsTest='return item.name===&#39;model&#39;'/>
          </slash>
         </fn>
         <ifCall line='3403' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
          <str val='@model'/>
          <fn name='string'>
           <slash simple='1'>
            <varRef name='Q{}this' slot='0'/>
            <axis name='attribute' nodeTest='attribute(Q{}model)' jsTest='return item.name===&#39;model&#39;'/>
           </slash>
          </fn>
         </ifCall>
        </choose>
        <choose line='3406'>
         <fn name='exists'>
          <slash simple='1'>
           <varRef name='Q{}this' slot='0'/>
           <axis name='attribute' nodeTest='attribute(Q{}control)' jsTest='return item.name===&#39;control&#39;'/>
          </slash>
         </fn>
         <ifCall line='3407' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
          <str val='@control'/>
          <fn name='string'>
           <slash simple='1'>
            <varRef name='Q{}this' slot='0'/>
            <axis name='attribute' nodeTest='attribute(Q{}control)' jsTest='return item.name===&#39;control&#39;'/>
           </slash>
          </fn>
         </ifCall>
        </choose>
        <choose line='3410'>
         <fn name='exists'>
          <slash simple='1'>
           <varRef name='Q{}this' slot='0'/>
           <axis name='attribute' nodeTest='attribute(Q{}repeat)' jsTest='return item.name===&#39;repeat&#39;'/>
          </slash>
         </fn>
         <ifCall line='3411' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
          <str val='@repeat'/>
          <fn name='string'>
           <slash simple='1'>
            <varRef name='Q{}this' slot='0'/>
            <axis name='attribute' nodeTest='attribute(Q{}repeat)' jsTest='return item.name===&#39;repeat&#39;'/>
           </slash>
          </fn>
         </ifCall>
        </choose>
        <choose line='3414'>
         <fn name='exists'>
          <slash simple='1'>
           <varRef name='Q{}this' slot='0'/>
           <axis name='attribute' nodeTest='attribute(Q{}index)' jsTest='return item.name===&#39;index&#39;'/>
          </slash>
         </fn>
         <ifCall line='3415' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
          <str val='@index'/>
          <fn name='string'>
           <slash simple='1'>
            <varRef name='Q{}this' slot='0'/>
            <axis name='attribute' nodeTest='attribute(Q{}index)' jsTest='return item.name===&#39;index&#39;'/>
           </slash>
          </fn>
         </ifCall>
        </choose>
        <choose line='3418'>
         <fn name='exists'>
          <slash simple='1'>
           <varRef name='Q{}this' slot='0'/>
           <axis name='attribute' nodeTest='attribute(Q{}level)' jsTest='return item.name===&#39;level&#39;'/>
          </slash>
         </fn>
         <ifCall line='3419' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
          <str val='@level'/>
          <fn name='string'>
           <slash simple='1'>
            <varRef name='Q{}this' slot='0'/>
            <axis name='attribute' nodeTest='attribute(Q{}level)' jsTest='return item.name===&#39;level&#39;'/>
           </slash>
          </fn>
         </ifCall>
        </choose>
        <choose line='3422'>
         <fn name='exists'>
          <slash simple='1'>
           <varRef name='Q{}this' slot='0'/>
           <axis name='attribute' nodeTest='attribute(Q{}origin)' jsTest='return item.name===&#39;origin&#39;'/>
          </slash>
         </fn>
         <ifCall line='3430' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
          <str val='@origin'/>
          <let line='3426' var='Q{}base' as='xs:string' slot='4' eval='16'>
           <choose>
            <fn name='exists'>
             <slash simple='1'>
              <varRef name='Q{}this' slot='0'/>
              <axis name='attribute' nodeTest='attribute(Q{}context)' jsTest='return item.name===&#39;context&#39;'/>
             </slash>
            </fn>
            <let var='Q{}base' as='xs:string' slot='5' eval='16'>
             <treat as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='0|0||xforms:resolveXPathStrings'>
              <check card='1' diag='0|0||xforms:resolveXPathStrings'>
               <cvUntyped to='xs:string'>
                <data>
                 <varRef name='Q{}nodeset' slot='1'/>
                </data>
               </cvUntyped>
              </check>
             </treat>
             <let var='Q{}relative' as='xs:string' slot='6' eval='16'>
              <check card='1' diag='0|1||xforms:resolveXPathStrings'>
               <cvUntyped to='xs:string'>
                <data>
                 <slash simple='1'>
                  <varRef name='Q{}this' slot='0'/>
                  <axis name='attribute' nodeTest='attribute(Q{}context)' jsTest='return item.name===&#39;context&#39;'/>
                 </slash>
                </data>
               </cvUntyped>
              </check>
              <choose line='811'>
               <fn name='starts-with'>
                <varRef name='Q{}relative' slot='6'/>
                <str val='/'/>
               </fn>
               <varRef line='812' name='Q{}relative' slot='6'/>
               <fn line='814' name='starts-with'>
                <varRef name='Q{}relative' slot='6'/>
                <str val='instance('/>
               </fn>
               <varRef line='815' name='Q{}relative' slot='6'/>
               <fn line='817' name='not'>
                <varRef name='Q{}base' slot='5'/>
               </fn>
               <varRef line='818' name='Q{}relative' slot='6'/>
               <or line='820' op='or'>
                <fn name='not'>
                 <varRef name='Q{}relative' slot='6'/>
                </fn>
                <vc op='eq' onEmpty='0' comp='CCC'>
                 <varRef name='Q{}relative' slot='6'/>
                 <str val='.'/>
                </vc>
               </or>
               <varRef line='821' name='Q{}base' slot='5'/>
               <true/>
               <let line='825' var='Q{}parentCallCount' as='xs:integer' slot='7' eval='16'>
                <choose>
                 <fn name='contains'>
                  <varRef name='Q{}relative' slot='6'/>
                  <str val='/'/>
                 </fn>
                 <fn name='count'>
                  <filter flags='b'>
                   <fn name='tokenize'>
                    <varRef name='Q{}relative' slot='6'/>
                    <str val='/'/>
                    <str val=''/>
                   </fn>
                   <vc op='eq' onEmpty='0' comp='CCC'>
                    <dot type='xs:string'/>
                    <str val='..'/>
                   </vc>
                  </filter>
                 </fn>
                 <fn name='contains'>
                  <varRef name='Q{}relative' slot='6'/>
                  <str val='..'/>
                 </fn>
                 <int val='1'/>
                 <true/>
                 <int val='0'/>
                </choose>
                <let line='828' var='Q{}slashes' as='xs:integer*' slot='8' eval='4'>
                 <choose>
                  <fn name='contains'>
                   <varRef name='Q{}base' slot='5'/>
                   <str val='/'/>
                  </fn>
                  <fn name='index-of'>
                   <fn name='string-to-codepoints'>
                    <varRef name='Q{}base' slot='5'/>
                   </fn>
                   <int val='47'/>
                  </fn>
                  <true/>
                  <int val='0'/>
                 </choose>
                 <choose line='860'>
                  <compareToInt op='gt' val='0'>
                   <varRef name='Q{}parentCallCount' slot='7'/>
                  </compareToInt>
                  <fn line='864' name='concat'>
                   <fn name='substring'>
                    <varRef name='Q{}base' slot='5'/>
                    <int val='1'/>
                    <choose line='839'>
                     <and op='and'>
                      <vc op='ge' onEmpty='0' comp='CAVC'>
                       <fn name='count'>
                        <varRef name='Q{}slashes' slot='8'/>
                       </fn>
                       <varRef name='Q{}parentCallCount' slot='7'/>
                      </vc>
                      <compareToInt op='gt' val='0'>
                       <varRef name='Q{}parentCallCount' slot='7'/>
                      </compareToInt>
                     </and>
                     <let line='840' var='Q{http://saxon.sf.net/generated-variable}v0' as='xs:integer' slot='9' eval='16'>
                      <arith op='-' calc='i-i'>
                       <varRef name='Q{}parentCallCount' slot='7'/>
                       <int val='1'/>
                      </arith>
                      <check card='1' diag='3|0|XTTE0570|parentSlash'>
                       <filter flags='p'>
                        <varRef name='Q{}slashes' slot='8'/>
                        <arith op='-' calc='i-i'>
                         <fn name='last'/>
                         <varRef name='Q{http://saxon.sf.net/generated-variable}v0' slot='9'/>
                        </arith>
                       </filter>
                      </check>
                     </let>
                     <true/>
                     <check line='843' card='1' diag='3|0|XTTE0570|parentSlash'>
                      <lastOf>
                       <varRef name='Q{}slashes' slot='8'/>
                      </lastOf>
                     </check>
                    </choose>
                   </fn>
                   <fn name='replace'>
                    <varRef name='Q{}relative' slot='6'/>
                    <str val='\.\./'/>
                    <str val=''/>
                    <str val=''/>
                   </fn>
                  </fn>
                  <true/>
                  <fn line='867' name='concat'>
                   <varRef name='Q{}base' slot='5'/>
                   <str val='/'/>
                   <varRef name='Q{}relative' slot='6'/>
                  </fn>
                 </choose>
                </let>
               </let>
              </choose>
             </let>
            </let>
            <true/>
            <treat as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|origin-context'>
             <check card='1' diag='3|0|XTTE0570|origin-context'>
              <cvUntyped to='xs:string' diag='3|0|XTTE0570|origin-context'>
               <data>
                <varRef name='Q{}nodeset' slot='1'/>
               </data>
              </cvUntyped>
             </check>
            </treat>
           </choose>
           <let line='3428' var='Q{}relative' as='xs:string' slot='10' eval='16'>
            <check card='1' diag='0|1||xforms:resolveXPathStrings'>
             <cvUntyped to='xs:string'>
              <data>
               <slash simple='1'>
                <varRef name='Q{}this' slot='0'/>
                <axis name='attribute' nodeTest='attribute(Q{}origin)' jsTest='return item.name===&#39;origin&#39;'/>
               </slash>
              </data>
             </cvUntyped>
            </check>
            <choose line='811'>
             <fn name='starts-with'>
              <varRef name='Q{}relative' slot='10'/>
              <str val='/'/>
             </fn>
             <varRef line='812' name='Q{}relative' slot='10'/>
             <fn line='814' name='starts-with'>
              <varRef name='Q{}relative' slot='10'/>
              <str val='instance('/>
             </fn>
             <varRef line='815' name='Q{}relative' slot='10'/>
             <fn line='817' name='not'>
              <varRef name='Q{}base' slot='4'/>
             </fn>
             <varRef line='818' name='Q{}relative' slot='10'/>
             <or line='820' op='or'>
              <fn name='not'>
               <varRef name='Q{}relative' slot='10'/>
              </fn>
              <vc op='eq' onEmpty='0' comp='CCC'>
               <varRef name='Q{}relative' slot='10'/>
               <str val='.'/>
              </vc>
             </or>
             <varRef line='821' name='Q{}base' slot='4'/>
             <true/>
             <let line='825' var='Q{}parentCallCount' as='xs:integer' slot='11' eval='16'>
              <choose>
               <fn name='contains'>
                <varRef name='Q{}relative' slot='10'/>
                <str val='/'/>
               </fn>
               <fn name='count'>
                <filter flags='b'>
                 <fn name='tokenize'>
                  <varRef name='Q{}relative' slot='10'/>
                  <str val='/'/>
                  <str val=''/>
                 </fn>
                 <vc op='eq' onEmpty='0' comp='CCC'>
                  <dot type='xs:string'/>
                  <str val='..'/>
                 </vc>
                </filter>
               </fn>
               <fn name='contains'>
                <varRef name='Q{}relative' slot='10'/>
                <str val='..'/>
               </fn>
               <int val='1'/>
               <true/>
               <int val='0'/>
              </choose>
              <let line='828' var='Q{}slashes' as='xs:integer*' slot='12' eval='4'>
               <choose>
                <fn name='contains'>
                 <varRef name='Q{}base' slot='4'/>
                 <str val='/'/>
                </fn>
                <fn name='index-of'>
                 <fn name='string-to-codepoints'>
                  <varRef name='Q{}base' slot='4'/>
                 </fn>
                 <int val='47'/>
                </fn>
                <true/>
                <int val='0'/>
               </choose>
               <choose line='860'>
                <compareToInt op='gt' val='0'>
                 <varRef name='Q{}parentCallCount' slot='11'/>
                </compareToInt>
                <fn line='864' name='concat'>
                 <fn name='substring'>
                  <varRef name='Q{}base' slot='4'/>
                  <int val='1'/>
                  <choose line='839'>
                   <and op='and'>
                    <vc op='ge' onEmpty='0' comp='CAVC'>
                     <fn name='count'>
                      <varRef name='Q{}slashes' slot='12'/>
                     </fn>
                     <varRef name='Q{}parentCallCount' slot='11'/>
                    </vc>
                    <compareToInt op='gt' val='0'>
                     <varRef name='Q{}parentCallCount' slot='11'/>
                    </compareToInt>
                   </and>
                   <let line='840' var='Q{http://saxon.sf.net/generated-variable}v0' as='xs:integer' slot='13' eval='13'>
                    <arith op='-' calc='i-i'>
                     <varRef name='Q{}parentCallCount' slot='11'/>
                     <int val='1'/>
                    </arith>
                    <check card='1' diag='3|0|XTTE0570|parentSlash'>
                     <filter flags='p'>
                      <varRef name='Q{}slashes' slot='12'/>
                      <arith op='-' calc='i-i'>
                       <fn name='last'/>
                       <varRef name='Q{http://saxon.sf.net/generated-variable}v0' slot='13'/>
                      </arith>
                     </filter>
                    </check>
                   </let>
                   <true/>
                   <check line='843' card='1' diag='3|0|XTTE0570|parentSlash'>
                    <lastOf>
                     <varRef name='Q{}slashes' slot='12'/>
                    </lastOf>
                   </check>
                  </choose>
                 </fn>
                 <fn name='replace'>
                  <varRef name='Q{}relative' slot='10'/>
                  <str val='\.\./'/>
                  <str val=''/>
                  <str val=''/>
                 </fn>
                </fn>
                <true/>
                <fn line='867' name='concat'>
                 <varRef name='Q{}base' slot='4'/>
                 <str val='/'/>
                 <varRef name='Q{}relative' slot='10'/>
                </fn>
               </choose>
              </let>
             </let>
            </choose>
           </let>
          </let>
         </ifCall>
        </choose>
        <choose line='3433'>
         <fn name='exists'>
          <slash simple='1'>
           <varRef name='Q{}this' slot='0'/>
           <axis name='attribute' nodeTest='attribute(Q{}context)' jsTest='return item.name===&#39;context&#39;'/>
          </slash>
         </fn>
         <ifCall line='3434' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
          <str val='@context'/>
          <let var='Q{}base' as='xs:string' slot='14' eval='16'>
           <treat as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='0|0||xforms:resolveXPathStrings'>
            <check card='1' diag='0|0||xforms:resolveXPathStrings'>
             <cvUntyped to='xs:string'>
              <data>
               <varRef name='Q{}nodeset' slot='1'/>
              </data>
             </cvUntyped>
            </check>
           </treat>
           <let var='Q{}relative' as='xs:string' slot='15' eval='16'>
            <check card='1' diag='0|1||xforms:resolveXPathStrings'>
             <cvUntyped to='xs:string'>
              <data>
               <slash simple='1'>
                <varRef name='Q{}this' slot='0'/>
                <axis name='attribute' nodeTest='attribute(Q{}context)' jsTest='return item.name===&#39;context&#39;'/>
               </slash>
              </data>
             </cvUntyped>
            </check>
            <choose line='811'>
             <fn name='starts-with'>
              <varRef name='Q{}relative' slot='15'/>
              <str val='/'/>
             </fn>
             <varRef line='812' name='Q{}relative' slot='15'/>
             <fn line='814' name='starts-with'>
              <varRef name='Q{}relative' slot='15'/>
              <str val='instance('/>
             </fn>
             <varRef line='815' name='Q{}relative' slot='15'/>
             <fn line='817' name='not'>
              <varRef name='Q{}base' slot='14'/>
             </fn>
             <varRef line='818' name='Q{}relative' slot='15'/>
             <or line='820' op='or'>
              <fn name='not'>
               <varRef name='Q{}relative' slot='15'/>
              </fn>
              <vc op='eq' onEmpty='0' comp='CCC'>
               <varRef name='Q{}relative' slot='15'/>
               <str val='.'/>
              </vc>
             </or>
             <varRef line='821' name='Q{}base' slot='14'/>
             <true/>
             <let line='825' var='Q{}parentCallCount' as='xs:integer' slot='16' eval='16'>
              <choose>
               <fn name='contains'>
                <varRef name='Q{}relative' slot='15'/>
                <str val='/'/>
               </fn>
               <fn name='count'>
                <filter flags='b'>
                 <fn name='tokenize'>
                  <varRef name='Q{}relative' slot='15'/>
                  <str val='/'/>
                  <str val=''/>
                 </fn>
                 <vc op='eq' onEmpty='0' comp='CCC'>
                  <dot type='xs:string'/>
                  <str val='..'/>
                 </vc>
                </filter>
               </fn>
               <fn name='contains'>
                <varRef name='Q{}relative' slot='15'/>
                <str val='..'/>
               </fn>
               <int val='1'/>
               <true/>
               <int val='0'/>
              </choose>
              <let line='828' var='Q{}slashes' as='xs:integer*' slot='17' eval='4'>
               <choose>
                <fn name='contains'>
                 <varRef name='Q{}base' slot='14'/>
                 <str val='/'/>
                </fn>
                <fn name='index-of'>
                 <fn name='string-to-codepoints'>
                  <varRef name='Q{}base' slot='14'/>
                 </fn>
                 <int val='47'/>
                </fn>
                <true/>
                <int val='0'/>
               </choose>
               <choose line='860'>
                <compareToInt op='gt' val='0'>
                 <varRef name='Q{}parentCallCount' slot='16'/>
                </compareToInt>
                <fn line='864' name='concat'>
                 <fn name='substring'>
                  <varRef name='Q{}base' slot='14'/>
                  <int val='1'/>
                  <choose line='839'>
                   <and op='and'>
                    <vc op='ge' onEmpty='0' comp='CAVC'>
                     <fn name='count'>
                      <varRef name='Q{}slashes' slot='17'/>
                     </fn>
                     <varRef name='Q{}parentCallCount' slot='16'/>
                    </vc>
                    <compareToInt op='gt' val='0'>
                     <varRef name='Q{}parentCallCount' slot='16'/>
                    </compareToInt>
                   </and>
                   <let line='840' var='Q{http://saxon.sf.net/generated-variable}v0' as='xs:integer' slot='18' eval='13'>
                    <arith op='-' calc='i-i'>
                     <varRef name='Q{}parentCallCount' slot='16'/>
                     <int val='1'/>
                    </arith>
                    <check card='1' diag='3|0|XTTE0570|parentSlash'>
                     <filter flags='p'>
                      <varRef name='Q{}slashes' slot='17'/>
                      <arith op='-' calc='i-i'>
                       <fn name='last'/>
                       <varRef name='Q{http://saxon.sf.net/generated-variable}v0' slot='18'/>
                      </arith>
                     </filter>
                    </check>
                   </let>
                   <true/>
                   <check line='843' card='1' diag='3|0|XTTE0570|parentSlash'>
                    <lastOf>
                     <varRef name='Q{}slashes' slot='17'/>
                    </lastOf>
                   </check>
                  </choose>
                 </fn>
                 <fn name='replace'>
                  <varRef name='Q{}relative' slot='15'/>
                  <str val='\.\./'/>
                  <str val=''/>
                  <str val=''/>
                 </fn>
                </fn>
                <true/>
                <fn line='867' name='concat'>
                 <varRef name='Q{}base' slot='14'/>
                 <str val='/'/>
                 <varRef name='Q{}relative' slot='15'/>
                </fn>
               </choose>
              </let>
             </let>
            </choose>
           </let>
          </let>
         </ifCall>
        </choose>
        <choose line='3438'>
         <fn name='exists'>
          <slash simple='1'>
           <varRef name='Q{}this' slot='0'/>
           <axis name='child' nodeTest='element()' jsTest='return item.nodeType===1;'/>
          </slash>
         </fn>
         <ifCall line='3439' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
          <str val='nested-actions'/>
          <let line='3440' var='Q{}array' as='map(*)*' slot='19' eval='3'>
           <treat line='3441' as='map(*)' jsTest='return SaxonJS.U.isMap(item)' diag='3|0|XTTE0570|array'>
            <forEach>
             <slash simple='1'>
              <varRef name='Q{}this' slot='0'/>
              <axis name='child' nodeTest='element()' jsTest='return item.nodeType===1;'/>
             </slash>
             <applyT line='3442' bSlot='2'>
              <dot role='select' type='element()'/>
             </applyT>
            </forEach>
           </treat>
           <ifCall line='3445' name='Q{http://www.w3.org/2005/xpath-functions/array}_from-sequence' type='array(*)'>
            <varRef name='Q{}array' slot='19'/>
           </ifCall>
          </let>
         </ifCall>
        </choose>
       </sequence>
       <map size='2'>
        <str val='duplicates'/>
        <str val='reject'/>
        <str val='duplicates-error-code'/>
        <str val='XTDE3365'/>
       </map>
      </ifCall>
     </let>
    </let>
   </sequence>
  </template>
 </co>
 <co id='96' binds=''>
  <function name='Q{http://www.w3.org/2002/xforms}check-constraints-on-fields' line='932' module='saxon-xforms.xsl' eval='8' flags='pU' as='item()*' slots='4'>
   <arg name='Q{}updatedInstanceXML' as='document-node()'/>
   <let role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='935' var='Q{}constraint-fieldsi' as='element()*' slot='1' eval='8'>
    <filter flags='b'>
     <slash simple='1'>
      <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}page' type='document-node()?'/>
      <axis name='descendant' nodeTest='element()' jsTest='return item.nodeType===1;'/>
     </slash>
     <fn name='exists'>
      <axis name='attribute' nodeTest='attribute(Q{}data-constraint)' jsTest='return item.name===&#39;data-constraint&#39;'/>
     </fn>
    </filter>
    <forEach line='939'>
     <varRef name='Q{}constraint-fieldsi' slot='1'/>
     <let line='940' var='Q{}contexti' as='node()' slot='2' eval='16'>
      <treat line='941' as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='3|0|XTTE0570|contexti'>
       <check card='1' diag='3|0|XTTE0570|contexti'>
        <evaluate dxns=''>
         <check role='xpath' card='1' diag='4|0||xsl:evaluate/xpath'>
          <cvUntyped to='xs:string'>
           <attVal name='Q{}data-ref' chk='0'/>
          </cvUntyped>
         </check>
         <varRef role='cxt' name='Q{}updatedInstanceXML' slot='0'/>
         <varRef role='nsCxt' name='Q{}updatedInstanceXML' slot='0'/>
         <str role='sa' val='no'/>
         <map role='options' size='0'/>
         <map role='wp' size='0'/>
        </evaluate>
       </check>
      </treat>
      <let line='944' var='Q{}resulti' as='xs:boolean' slot='3' eval='16'>
       <treat line='947' as='xs:boolean' jsTest='return SaxonJS.U.Atomic.boolean.matches(item);' diag='3|0|XTTE0570|resulti'>
        <check card='1' diag='3|0|XTTE0570|resulti'>
         <cvUntyped to='xs:boolean' diag='3|0|XTTE0570|resulti'>
          <data>
           <evaluate dxns=''>
            <check role='xpath' card='1' diag='4|0||xsl:evaluate/xpath'>
             <cvUntyped to='xs:string'>
              <attVal name='Q{}data-constraint' chk='0'/>
             </cvUntyped>
            </check>
            <varRef role='cxt' name='Q{}contexti' slot='2'/>
            <varRef role='nsCxt' name='Q{}contexti' slot='2'/>
            <str role='sa' val='no'/>
            <map role='options' size='0'/>
            <map role='wp' size='0'/>
           </evaluate>
          </data>
         </cvUntyped>
        </check>
       </treat>
       <choose line='955'>
        <fn name='not'>
         <varRef name='Q{}resulti' slot='3'/>
        </fn>
        <dot type='element()'/>
       </choose>
      </let>
     </let>
    </forEach>
   </let>
  </function>
 </co>
 <co id='97' binds='82'>
  <globalVariable name='Q{http://saxon.sf.net/ns/packages}LOGLEVEL' type='xs:integer' line='62' module='saxon-xforms.xsl' visibility='PRIVATE' jsAcceptor='return SaxonJS.U.Atomic.integer.cast(val);' jsCardCheck='function c(n) {return n==1;};'>
   <gVarRef ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='62' name='Q{}LOGLEVEL_INT' bSlot='0'/>
  </globalVariable>
 </co>
 <co id='98' binds='38 38'>
  <mode name='Q{http://saxonica.com/ns/interactiveXSLT}onchange' onNo='TC' flags='W' patternSlots='0'>
   <templateRule prec='0' prio='0.0' seq='1' rank='0' minImp='0' slots='0' flags='s' line='685' module='saxon-xforms.xsl'>
    <p.nodeTest role='match' test='element(Q{}input)' jsTest='var q=SaxonJS.U.nameOfNode(item); return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1 &amp;&amp; q.uri===&#39;&#39;&amp;&amp;q.local===&#39;input&#39;;'/>
    <callT role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='686' name='Q{}xforms-value-changed' bSlot='0' flags='t'>
     <withParam name='Q{}form-control' flags='c' as='node()'>
      <dot line='687' type='element(Q{}input)'/>
     </withParam>
    </callT>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='2' rank='0' minImp='0' slots='0' flags='s' line='695' module='saxon-xforms.xsl'>
    <p.nodeTest role='match' test='element(Q{}select)' jsTest='var q=SaxonJS.U.nameOfNode(item); return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1 &amp;&amp; q.uri===&#39;&#39;&amp;&amp;q.local===&#39;select&#39;;'/>
    <callT role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='696' name='Q{}xforms-value-changed' bSlot='1' flags='t'>
     <withParam name='Q{}form-control' flags='c' as='node()'>
      <dot line='697' type='element(Q{}select)'/>
     </withParam>
    </callT>
   </templateRule>
  </mode>
 </co>
 <co id='99' vis='PRIVATE' binds='' base='1' dpack='1'/>
 <co id='77' binds='67 93 100 84 84 101 63'>
  <template name='Q{}xformsjs-main' flags='os' line='116' module='saxon-xforms.xsl' slots='22'>
   <let role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='583' var='Q{http://saxon.sf.net/generated-variable}v1' as='item()' slot='4' eval='13'>
    <check card='1' diag='0|0||ixsl:call'>
     <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
    </check>
    <let line='554' var='Q{http://saxon.sf.net/generated-variable}v0' as='item()' slot='5' eval='13'>
     <check card='1' diag='0|0||ixsl:call'>
      <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
     </check>
     <sequence line='117'>
      <param name='Q{}xforms-doc' slot='0' as='document-node()?'>
       <empty role='select'/>
       <treat role='conversion' as='document-node()' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; (item.nodeType===9||item.nodeType===11);' diag='8|0|XTTE0590|xforms-doc'>
        <check card='?' diag='8|0|XTTE0590|xforms-doc'>
         <supplied slot='0'/>
        </check>
       </treat>
      </param>
      <param line='118' name='Q{}xforms-file' slot='1' as='xs:string?'>
       <empty role='select'/>
       <treat role='conversion' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='8|0|XTTE0590|xforms-file'>
        <check card='?' diag='8|0|XTTE0590|xforms-file'>
         <cvUntyped to='xs:string' diag='8|0|XTTE0590|xforms-file'>
          <data>
           <supplied slot='1'/>
          </data>
         </cvUntyped>
        </check>
       </treat>
      </param>
      <param line='119' name='Q{}instance-docs' slot='2' as='map(*)?'>
       <empty role='select'/>
       <treat role='conversion' as='map(*)' jsTest='return SaxonJS.U.isMap(item)' diag='8|0|XTTE0590|instance-docs'>
        <check card='?' diag='8|0|XTTE0590|instance-docs'>
         <supplied slot='2'/>
        </check>
       </treat>
      </param>
      <param line='121' name='Q{}xFormsId' slot='3' as='xs:string'>
       <gVarRef role='select' name='Q{}xform-html-id' bSlot='0'/>
       <treat role='conversion' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='8|0|XTTE0590|xFormsId'>
        <check card='1' diag='8|0|XTTE0590|xFormsId'>
         <cvUntyped to='xs:string' diag='8|0|XTTE0590|xFormsId'>
          <data>
           <supplied slot='3'/>
          </data>
         </cvUntyped>
        </check>
       </treat>
      </param>
      <message line='123'>
       <valueOf role='select'>
        <str val='[xformsjs-main] START'/>
       </valueOf>
       <str role='terminate' val='no'/>
       <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
      </message>
      <ufCall line='124' name='Q{http://saxon.sf.net/ns/packages}logInfo' tailCall='false' bSlot='1' eval='0'>
       <str val='[xformsjs-main] START'/>
      </ufCall>
      <let line='126' var='Q{}xforms-doci' as='document-node()?' slot='6' eval='7'>
       <choose>
        <fn name='empty'>
         <varRef name='Q{}xforms-doc' slot='0'/>
        </fn>
        <fn name='doc'>
         <varRef name='Q{}xforms-file' slot='1'/>
        </fn>
        <true/>
        <varRef name='Q{}xforms-doc' slot='0'/>
       </choose>
       <let line='128' var='Q{}xform' as='element(Q{http://www.w3.org/2002/xforms}xform, Q{http://www.w3.org/2001/XMLSchema}untyped)' slot='7' eval='16'>
        <treat as='element(Q{http://www.w3.org/2002/xforms}xform)' jsTest='var q=SaxonJS.U.nameOfNode(item); return q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;xform&#39;;' diag='3|0|XTTE0570|xform'>
         <let var='Q{}this' as='element()' slot='8' eval='16'>
          <check card='1' diag='0|0||xforms:addNamespaceDeclarations'>
           <slash simple='1'>
            <varRef name='Q{}xforms-doci' slot='6'/>
            <axis name='child' nodeTest='element()' jsTest='return item.nodeType===1;'/>
           </slash>
          </check>
          <compElem line='2542'>
           <fn role='name' name='name'>
            <varRef name='Q{}this' slot='8'/>
           </fn>
           <sequence role='content' line='2543'>
            <namespace flags='l'>
             <str role='name' val='xforms'/>
             <str role='select' val='http://www.w3.org/2002/xforms'/>
            </namespace>
            <forEach line='2544'>
             <filter flags='b'>
              <filter flags='b'>
               <slash simple='1'>
                <varRef name='Q{}this' slot='8'/>
                <axis name='descendant' nodeTest='element()' jsTest='return item.nodeType===1;'/>
               </slash>
               <fn name='boolean'>
                <fn name='namespace-uri'>
                 <dot type='element()'/>
                </fn>
               </fn>
              </filter>
              <fn name='not'>
               <gc op='=' card='N:1' comp='CCC'>
                <sequence>
                 <slash>
                  <fn name='reverse'>
                   <axis name='ancestor' nodeTest='element()' jsTest='return item.nodeType===1;'/>
                  </fn>
                  <fn name='namespace-uri'>
                   <dot type='element()'/>
                  </fn>
                 </slash>
                 <slash>
                  <fn name='reverse'>
                   <axis name='preceding' nodeTest='element()' jsTest='return item.nodeType===1;'/>
                  </fn>
                  <fn name='namespace-uri'>
                   <dot type='element()'/>
                  </fn>
                 </slash>
                </sequence>
                <fn name='namespace-uri'>
                 <dot type='element()'/>
                </fn>
               </gc>
              </fn>
             </filter>
             <namespace line='2547' flags='l'>
              <fn role='name' line='2546' name='substring-before'>
               <fn name='name'>
                <dot type='element()'/>
               </fn>
               <str val=':'/>
              </fn>
              <convert role='select' from='xs:anyURI' to='xs:string'>
               <fn line='2545' name='namespace-uri'>
                <dot type='element()'/>
               </fn>
              </convert>
             </namespace>
            </forEach>
            <copyOf line='2549' flags='vc'>
             <sequence>
              <slash simple='1'>
               <varRef name='Q{}this' slot='8'/>
               <axis name='attribute' nodeTest='attribute()' jsTest='return SaxonJS.U.isAttr(item)'/>
              </slash>
              <slash simple='1'>
               <varRef name='Q{}this' slot='8'/>
               <axis name='child' nodeTest='( element() | text() | comment() | processing-instruction() )' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; (item.nodeType===1 || item.nodeType===3 || item.nodeType===7 || item.nodeType===8);'/>
              </slash>
             </sequence>
            </copyOf>
           </sequence>
          </compElem>
         </let>
        </treat>
        <let line='131' var='Q{}xforms-instances' as='map(xs:string, element())' slot='9' eval='16'>
         <choose line='133'>
          <fn name='empty'>
           <varRef name='Q{}instance-docs' slot='2'/>
          </fn>
          <let line='134' var='Q{}instances' as='element(Q{http://www.w3.org/2002/xforms}instance)*' slot='10' eval='4'>
           <slash simple='2'>
            <slash simple='2'>
             <slash simple='1'>
              <varRef name='Q{}xforms-doci' slot='6'/>
              <axis name='child' nodeTest='element(Q{http://www.w3.org/2002/xforms}xform)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;xform&#39;;'/>
             </slash>
             <axis name='child' nodeTest='element(Q{http://www.w3.org/2002/xforms}model)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;model&#39;;'/>
            </slash>
            <axis name='child' nodeTest='element(Q{http://www.w3.org/2002/xforms}instance)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;instance&#39;;'/>
           </slash>
           <check line='135' card='1' diag='3|0|XTTE0570|xforms-instances'>
            <sequence>
             <choose>
              <fn name='exists'>
               <tail start='2'>
                <filter flags='b'>
                 <varRef name='Q{}instances' slot='10'/>
                 <fn name='empty'>
                  <axis name='attribute' nodeTest='attribute(Q{}id)' jsTest='return item.name===&#39;id&#39;'/>
                 </fn>
                </filter>
               </tail>
              </fn>
              <treat line='137' as='map(xs:string, element())' jsTest='function k(item) {return SaxonJS.U.Atomic.string.matches(item);};function v(item) {return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1;};function c(n) {return n==1;};return SaxonJS.U.isMap(item) &amp;&amp; item.conforms(k, v, c);' diag='3|0|XTTE0570|xforms-instances'>
               <message>
                <str role='select' val='[xformsjs-main] FATAL ERROR: The XForm contains more than one instance with no ID. At most one instance may have no ID.'/>
                <str role='terminate' val='yes'/>
                <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
               </message>
              </treat>
             </choose>
             <ifCall line='141' name='Q{http://www.w3.org/2005/xpath-functions/map}merge' type='map(*)'>
              <forEach>
               <varRef name='Q{}instances' slot='10'/>
               <let line='142' var='Q{}instance-with-explicit-namespaces' as='element()' slot='11' eval='16'>
                <treat line='143' as='element()' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1;' diag='3|0|XTTE0570|instance-with-explicit-namespaces'>
                 <check card='1' diag='3|0|XTTE0570|instance-with-explicit-namespaces'>
                  <applyT mode='Q{}namespace-fix' bSlot='2'>
                   <axis role='select' name='child' nodeTest='element()' jsTest='return item.nodeType===1;'/>
                  </applyT>
                 </check>
                </treat>
                <ifCall line='152' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
                 <check card='1' diag='0|0||map:entry'>
                  <cast as='xs:string' emptiable='1'>
                   <choose>
                    <fn name='exists'>
                     <axis name='attribute' nodeTest='attribute(Q{}id)' jsTest='return item.name===&#39;id&#39;'/>
                    </fn>
                    <attVal name='Q{}id' chk='0'/>
                    <true/>
                    <str val='saxon-forms-default'/>
                   </choose>
                  </cast>
                 </check>
                 <varRef name='Q{}instance-with-explicit-namespaces' slot='11'/>
                </ifCall>
               </let>
              </forEach>
              <map size='2'>
               <str val='duplicates'/>
               <str val='reject'/>
               <str val='duplicates-error-code'/>
               <str val='XTDE3365'/>
              </map>
             </ifCall>
            </sequence>
           </check>
          </let>
          <true/>
          <treat line='157' as='map(xs:string, element())' jsTest='function k(item) {return SaxonJS.U.Atomic.string.matches(item);};function v(item) {return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1;};function c(n) {return n==1;};return SaxonJS.U.isMap(item) &amp;&amp; item.conforms(k, v, c);' diag='3|0|XTTE0570|xforms-instances'>
           <check card='1' diag='3|0|XTTE0570|xforms-instances'>
            <varRef name='Q{}instance-docs' slot='2'/>
           </check>
          </treat>
         </choose>
         <let line='164' var='Q{}default-instance' as='element()' slot='12' eval='16'>
          <choose line='166'>
           <fn name='empty'>
            <varRef name='Q{}instance-docs' slot='2'/>
           </fn>
           <choose line='168'>
            <fn name='exists'>
             <filter flags='b'>
              <slash simple='2'>
               <slash simple='2'>
                <slash simple='1'>
                 <varRef name='Q{}xforms-doci' slot='6'/>
                 <axis name='child' nodeTest='element(Q{http://www.w3.org/2002/xforms}xform)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;xform&#39;;'/>
                </slash>
                <axis name='child' nodeTest='element(Q{http://www.w3.org/2002/xforms}model)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;model&#39;;'/>
               </slash>
               <axis name='child' nodeTest='element(Q{http://www.w3.org/2002/xforms}instance)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;instance&#39;;'/>
              </slash>
              <fn name='empty'>
               <axis name='attribute' nodeTest='attribute(Q{}id)' jsTest='return item.name===&#39;id&#39;'/>
              </fn>
             </filter>
            </fn>
            <check line='169' card='1' diag='3|0|XTTE0570|default-instance'>
             <slash simple='2'>
              <slash>
               <slash simple='2'>
                <slash simple='1'>
                 <varRef name='Q{}xforms-doci' slot='6'/>
                 <axis name='child' nodeTest='element(Q{http://www.w3.org/2002/xforms}xform)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;xform&#39;;'/>
                </slash>
                <axis name='child' nodeTest='element(Q{http://www.w3.org/2002/xforms}model)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;model&#39;;'/>
               </slash>
               <first>
                <filter flags='b'>
                 <axis name='child' nodeTest='element(Q{http://www.w3.org/2002/xforms}instance)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;instance&#39;;'/>
                 <fn name='empty'>
                  <axis name='attribute' nodeTest='attribute(Q{}id)' jsTest='return item.name===&#39;id&#39;'/>
                 </fn>
                </filter>
               </first>
              </slash>
              <axis name='child' nodeTest='element()' jsTest='return item.nodeType===1;'/>
             </slash>
            </check>
            <true/>
            <check line='172' card='1' diag='3|0|XTTE0570|default-instance'>
             <slash simple='2'>
              <slash>
               <slash simple='2'>
                <slash simple='1'>
                 <varRef name='Q{}xforms-doci' slot='6'/>
                 <axis name='child' nodeTest='element(Q{http://www.w3.org/2002/xforms}xform)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;xform&#39;;'/>
                </slash>
                <axis name='child' nodeTest='element(Q{http://www.w3.org/2002/xforms}model)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;model&#39;;'/>
               </slash>
               <first>
                <axis name='child' nodeTest='element(Q{http://www.w3.org/2002/xforms}instance)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;instance&#39;;'/>
               </first>
              </slash>
              <axis name='child' nodeTest='element()' jsTest='return item.nodeType===1;'/>
             </slash>
            </check>
           </choose>
           <true/>
           <treat line='178' as='element()' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1;' diag='3|0|XTTE0570|default-instance'>
            <check card='1' diag='3|0|XTTE0570|default-instance'>
             <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
              <check card='1' diag='0|0||ixsl:call'>
               <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
              </check>
              <str val='getDefaultInstance'/>
              <array size='0'/>
             </ifCall>
            </check>
           </treat>
          </choose>
          <let line='184' var='Q{}bindings' as='map(xs:string, element(Q{http://www.w3.org/2002/xforms}bind))' slot='13' eval='8'>
           <ifCall line='186' name='Q{http://www.w3.org/2005/xpath-functions/map}merge' type='map(*)'>
            <forEach>
             <slash simple='2'>
              <slash simple='2'>
               <slash simple='1'>
                <varRef name='Q{}xforms-doci' slot='6'/>
                <axis name='child' nodeTest='element(Q{http://www.w3.org/2002/xforms}xform)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;xform&#39;;'/>
               </slash>
               <axis name='child' nodeTest='element(Q{http://www.w3.org/2002/xforms}model)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;model&#39;;'/>
              </slash>
              <axis name='child' nodeTest='element(Q{http://www.w3.org/2002/xforms}bind)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;bind&#39;;'/>
             </slash>
             <ifCall line='194' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
              <check card='1' diag='0|0||map:entry'>
               <cast as='xs:string' emptiable='1'>
                <choose>
                 <fn name='exists'>
                  <axis name='attribute' nodeTest='attribute(Q{}id)' jsTest='return item.name===&#39;id&#39;'/>
                 </fn>
                 <attVal name='Q{}id' chk='0'/>
                 <true/>
                 <attVal name='Q{}nodeset' chk='0'/>
                </choose>
               </cast>
              </check>
              <dot type='element(Q{http://www.w3.org/2002/xforms}bind)'/>
             </ifCall>
            </forEach>
            <map size='2'>
             <str val='duplicates'/>
             <str val='reject'/>
             <str val='duplicates-error-code'/>
             <str val='XTDE3365'/>
            </map>
           </ifCall>
           <let line='208' var='Q{}bindingKeys' as='xs:anyAtomicType*' slot='14' eval='3'>
            <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}keys' type='xs:anyAtomicType*'>
             <varRef name='Q{}bindings' slot='13'/>
            </ifCall>
            <let line='210' var='Q{}RelevantBindings' as='map(xs:string, xs:string)' slot='15' eval='16'>
             <treat line='212' as='map(xs:string, xs:string)' jsTest='function k(item) {return SaxonJS.U.Atomic.string.matches(item);};function v(item) {return SaxonJS.U.Atomic.string.matches(item);};function c(n) {return n==1;};return SaxonJS.U.isMap(item) &amp;&amp; item.conforms(k, v, c);' diag='3|0|XTTE0570|RelevantBindings'>
              <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}merge' type='map(*)'>
               <forEach>
                <varRef name='Q{}bindingKeys' slot='14'/>
                <let line='213' var='Q{}bindingNode' as='element(Q{http://www.w3.org/2002/xforms}bind)' slot='16' eval='16'>
                 <check card='1' diag='3|0|XTTE0570|bindingNode'>
                  <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
                   <varRef name='Q{}bindings' slot='13'/>
                   <cast as='xs:string' emptiable='0'>
                    <dot type='xs:anyAtomicType'/>
                   </cast>
                  </ifCall>
                 </check>
                 <choose line='215'>
                  <fn name='exists'>
                   <filter flags='b'>
                    <varRef name='Q{}bindingNode' slot='16'/>
                    <fn name='exists'>
                     <axis name='attribute' nodeTest='attribute(Q{}relevant)' jsTest='return item.name===&#39;relevant&#39;'/>
                    </fn>
                   </filter>
                  </fn>
                  <ifCall line='217' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
                   <check line='216' card='1' diag='3|0|XTTE0570|keyi'>
                    <cast as='xs:string' emptiable='1'>
                     <data>
                      <slash simple='1'>
                       <varRef name='Q{}bindingNode' slot='16'/>
                       <axis name='attribute' nodeTest='attribute(Q{}nodeset)' jsTest='return item.name===&#39;nodeset&#39;'/>
                      </slash>
                     </data>
                    </cast>
                   </check>
                   <cast as='xs:string' emptiable='1'>
                    <data>
                     <slash simple='1'>
                      <varRef name='Q{}bindingNode' slot='16'/>
                      <axis name='attribute' nodeTest='attribute(Q{}relevant)' jsTest='return item.name===&#39;relevant&#39;'/>
                     </slash>
                    </data>
                   </cast>
                  </ifCall>
                 </choose>
                </let>
               </forEach>
               <map size='2'>
                <str val='duplicates'/>
                <str val='reject'/>
                <str val='duplicates-error-code'/>
                <str val='XTDE3365'/>
               </map>
              </ifCall>
             </treat>
             <let line='226' var='Q{}CalculationBindings' as='map(xs:string, xs:string)' slot='17' eval='16'>
              <treat line='228' as='map(xs:string, xs:string)' jsTest='function k(item) {return SaxonJS.U.Atomic.string.matches(item);};function v(item) {return SaxonJS.U.Atomic.string.matches(item);};function c(n) {return n==1;};return SaxonJS.U.isMap(item) &amp;&amp; item.conforms(k, v, c);' diag='3|0|XTTE0570|CalculationBindings'>
               <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}merge' type='map(*)'>
                <forEach>
                 <varRef name='Q{}bindingKeys' slot='14'/>
                 <let line='229' var='Q{}bindingNode' as='element(Q{http://www.w3.org/2002/xforms}bind)' slot='18' eval='16'>
                  <check card='1' diag='3|0|XTTE0570|bindingNode'>
                   <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
                    <varRef name='Q{}bindings' slot='13'/>
                    <cast as='xs:string' emptiable='0'>
                     <dot type='xs:anyAtomicType'/>
                    </cast>
                   </ifCall>
                  </check>
                  <choose line='231'>
                   <fn name='exists'>
                    <filter flags='b'>
                     <varRef name='Q{}bindingNode' slot='18'/>
                     <fn name='exists'>
                      <axis name='attribute' nodeTest='attribute(Q{}calculate)' jsTest='return item.name===&#39;calculate&#39;'/>
                     </fn>
                    </filter>
                   </fn>
                   <ifCall line='233' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
                    <check line='232' card='1' diag='3|0|XTTE0570|keyi'>
                     <cast as='xs:string' emptiable='1'>
                      <data>
                       <slash simple='1'>
                        <varRef name='Q{}bindingNode' slot='18'/>
                        <axis name='attribute' nodeTest='attribute(Q{}nodeset)' jsTest='return item.name===&#39;nodeset&#39;'/>
                       </slash>
                      </data>
                     </cast>
                    </check>
                    <cast as='xs:string' emptiable='1'>
                     <data>
                      <slash simple='1'>
                       <varRef name='Q{}bindingNode' slot='18'/>
                       <axis name='attribute' nodeTest='attribute(Q{}calculate)' jsTest='return item.name===&#39;calculate&#39;'/>
                      </slash>
                     </data>
                    </cast>
                   </ifCall>
                  </choose>
                 </let>
                </forEach>
                <map size='2'>
                 <str val='duplicates'/>
                 <str val='reject'/>
                 <str val='duplicates-error-code'/>
                 <str val='XTDE3365'/>
                </map>
               </ifCall>
              </treat>
              <sequence line='245'>
               <choose>
                <gc op='=' card='N:1' comp='CCC'>
                 <data>
                  <slash simple='2'>
                   <slash simple='1'>
                    <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}page' type='document-node()?'/>
                    <axis name='descendant' nodeTest='element(Q{}script)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;&#39;&amp;&amp;q.local===&#39;script&#39;;'/>
                   </slash>
                   <axis name='attribute' nodeTest='attribute(Q{}id)' jsTest='return item.name===&#39;id&#39;'/>
                  </slash>
                 </data>
                 <gVarRef name='Q{}xforms-cache-id' bSlot='3'/>
                </gc>
                <sequence line='246'>
                 <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
                  <check card='1' diag='0|0||ixsl:call'>
                   <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
                  </check>
                  <str val='setXFormsDoc'/>
                  <arrayBlock>
                   <varRef name='Q{}xforms-doci' slot='6'/>
                  </arrayBlock>
                 </ifCall>
                 <ifCall line='247' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
                  <check card='1' diag='0|0||ixsl:call'>
                   <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
                  </check>
                  <str val='setXForm'/>
                  <arrayBlock>
                   <varRef name='Q{}xform' slot='7'/>
                  </arrayBlock>
                 </ifCall>
                 <ifCall line='248' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
                  <check card='1' diag='0|0||ixsl:call'>
                   <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
                  </check>
                  <str val='setXFormsID'/>
                  <arrayBlock>
                   <varRef name='Q{}xFormsId' slot='3'/>
                  </arrayBlock>
                 </ifCall>
                 <ifCall line='249' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
                  <check card='1' diag='0|0||ixsl:call'>
                   <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
                  </check>
                  <str val='setRelevantMap'/>
                  <arrayBlock>
                   <varRef name='Q{}RelevantBindings' slot='15'/>
                  </arrayBlock>
                 </ifCall>
                 <ifCall line='250' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
                  <check card='1' diag='0|0||ixsl:call'>
                   <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
                  </check>
                  <str val='setCalculationMap'/>
                  <arrayBlock>
                   <varRef name='Q{}CalculationBindings' slot='17'/>
                  </arrayBlock>
                 </ifCall>
                </sequence>
                <true/>
                <sequence line='261'>
                 <forEach>
                  <slash simple='1'>
                   <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}page' type='document-node()?'/>
                   <axis name='descendant' nodeTest='element(Q{}head)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;&#39;&amp;&amp;q.local===&#39;head&#39;;'/>
                  </slash>
                  <resultDoc line='270' global='#&#xD;&#xA;#Sat Mar 14 13:02:55 GMT 2020&#xD;&#xA;indent=no&#xD;&#xA;doctype-system=http\://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&#xD;&#xA;encoding=utf-8&#xD;&#xA;doctype-public=-//W3C//DTD XHTML 1.0 Transitional//EN&#xD;&#xA;omit-xml-declaration=no&#xD;&#xA;method=html&#xD;&#xA;' local='#&#xD;&#xA;#Sat Mar 14 13:02:55 GMT 2020&#xD;&#xA;'>
                   <str role='href' val='?.'/>
                   <elem role='content' line='271' name='script' nsuri='' namespaces='xd rdf xhtml js in fn map array ev'>
                    <sequence>
                     <att name='type' flags='l'>
                      <str val='text/javascript'/>
                     </att>
                     <att name='id' flags='l'>
                      <gVarRef name='Q{}xforms-cache-id' bSlot='4'/>
                     </att>
                     <valueOf flags='l'>
                      <str val='                &#xA;                            var XFormsDoc = null;&#xA;                            var XForm = null;&#xA;                            var defaultInstanceDoc = null;&#xA;                            &#xA;                            // MD 2018: OND&#39;s suggestion for multiple instances&#xA;                            var instanceDocs = {};&#xA;                            &#xA;                            var pendingUpdatesMap = null;&#xA;                            var updatesMap = null;&#xA;                            var XFormsID = &#39;'/>
                     </valueOf>
                     <valueOf line='281' flags='l'>
                      <varRef name='Q{}xFormsId' slot='3'/>
                     </valueOf>
                     <valueOf flags='l'>
                      <str val='&#39;;&#xA;                            var actions = {};&#xA;                            var submissions = {};&#xA;                            var outputs = {};&#xA;                            var repeats = {};&#xA;                            var relevantMap = {};&#xA;                            var calculationMap = {};&#xA;                            var repeatIndexMap = {};&#xA;                            var repeatSizeMap = {};&#xA;                            var elementsUsingIndexFunction = {};&#xA;                            &#xA;                            var getCurrentDate = function(){&#xA;                                var today = new Date();&#xA;                                var dd = today.getDate();&#xA;                                var mm = today.getMonth()+1; //January is 0!&#xA;                                var yyyy = today.getFullYear();&#xA;                            &#xA;                                if(dd &lt; 10) {&#xA;                                    dd = &#39;0&#39; + dd;&#xA;                                } &#xA;                            &#xA;                                if(mm &lt; 10) {&#xA;                                    mm = &#39;0&#39; + mm;&#xA;                                } &#xA;                            &#xA;                                today = yyyy + &#39;-&#39; + mm + &#39;-&#39; + dd;&#xA;                                return today;&#xA;                            }&#xA;                            &#xA;                            &#xA;                            var setXFormsDoc = function(doc) {&#xA;                                XFormsDoc = doc;&#xA;                            }&#xA;                            &#xA;                            var getXFormsDoc = function() {&#xA;                                return XFormsDoc;&#xA;                            }&#xA;                            &#xA;                            var setXForm = function(element) {&#xA;                                XForm = element;&#xA;                            }&#xA;                            &#xA;                            var getXForm = function() {&#xA;                                return XForm;&#xA;                            }&#xA;                            &#xA;                            var setXFormsID = function(id) {&#xA;                                XFormsID = id;&#xA;                            }&#xA;                            &#xA;                            var getXFormsID = function() {&#xA;                                return XFormsID;&#xA;                            }&#xA;                            &#xA;                            &#xA;                            var setInstance = function(name, value) {&#xA;                                instanceDocs[name] = value;&#xA;                            } &#xA;                            &#xA;                            var getInstance = function(name) {&#xA;                                return instanceDocs[name];&#xA;                            }&#xA;                            &#xA;                            &#xA;                            //[OND] Maybe we can just set the key-&gt; value without having to copy the entire instanceDocs object.&#xA;                            var updateInstance = function(instanceDocs, key, value){&#xA;                                instanceDocs[key] = value;&#xA;                                return instanceDocs;&#xA;                            }&#xA;                            &#xA;                            &#xA;                            var setDefaultInstance = function(doc) {&#xA;                                defaultInstanceDoc = doc;&#xA;                            }&#xA;                            &#xA;                            var getDefaultInstance = function() {&#xA;                                return defaultInstanceDoc;&#xA;                            }&#xA;                            &#xA;                           &#xA;                            var getInstanceKeys = function() {&#xA;                                return Object.keys(instanceDocs);&#xA;                            }&#xA;                            &#xA;                            var getInstances = function() {&#xA;                                return instanceDocs;&#xA;                            }&#xA;                            &#xA;                            var setPendingUpdates = function(map1) {&#xA;                                pendingUpdatesMap = map1;&#xA;                            }&#xA;                            &#xA;                            var clearPendingUpdates = function() {&#xA;                                pendingUpdatesMap = null;&#xA;                            }&#xA;                            &#xA;                            var getPendingUpdates = function() {&#xA;                                return pendingUpdatesMap;&#xA;                            }&#xA;                            &#xA;                            var setUpdates = function(map1) {&#xA;                                updatesMap = map1;&#xA;                            }&#xA;                            &#xA;                            var clearUpdates = function() {&#xA;                                updatesMap = null;&#xA;                            }&#xA;                            &#xA;                            var getUpdates = function() {&#xA;                                return updatesMap;&#xA;                            }&#xA;                            &#xA;                            var addAction = function(name, value){&#xA;                                actions[name] = value;&#xA;                            }&#xA;&#xA;                            var getAction = function(name){&#xA;                                return actions[name];&#xA;                            }&#xA;                            &#xA;                            var updateAction = function(actioni, key, value){&#xA;                                actioni[key] = value;&#xA;                                return actioni;&#xA;                            }&#xA;                            &#xA;                            var addSubmission = function(name, value){&#xA;                                submissions[name] = value;&#xA;                            }&#xA;                            &#xA;                            var getSubmission = function(name){&#xA;                                return submissions[name];&#xA;                            }     &#xA;                            &#xA;                            var addOutput = function(name, value){&#xA;                                outputs[name] = value;&#xA;                            }&#xA;                            &#xA;                            var getOutput = function(name){&#xA;                                return outputs[name];&#xA;                            }&#xA;                            &#xA;                            var getOutputKeys = function() {&#xA;                                return Object.keys(outputs);&#xA;                            }&#xA;                            &#xA;                            // repeats is a map of HTML IDs to (parsed) xf:repeat/@nodeset values&#xA;                            var addRepeat = function(name, value){&#xA;                                repeats[name] = value;&#xA;                            }&#xA;                            &#xA;                            var getRepeat = function(name){&#xA;                                return repeats[name];&#xA;                            }&#xA;                            &#xA;                            var getRepeatKeys = function() {&#xA;                                return Object.keys(repeats);&#xA;                            }&#xA;                            &#xA;                            var setRelevantMap = function(map1) {&#xA;                                relevantMap = map1;                            &#xA;                            }&#xA;                            &#xA;                            var getRelevantMap = function() {&#xA;                                return relevantMap;&#xA;                            }&#xA;                            &#xA;  &#xA;                            var setCalculationMap = function(map1) {&#xA;                                calculationMap = map1;                            &#xA;                            }&#xA;  &#xA;                            var getCalculationMap = function() {&#xA;                                return calculationMap;&#xA;                            }&#xA;  &#xA;                            &#xA;                            var setRepeatIndex = function(name, value) {&#xA;                                repeatIndexMap[name] = value;&#xA;                            }&#xA;                            &#xA;                            var getRepeatIndex = function(name) {&#xA;                                if ( typeof(repeatIndexMap[name]) != &#39;undefined&#39; ) {&#xA;                                    return repeatIndexMap[name];&#xA;                                }&#xA;                                else {&#xA;                                    return 0;&#xA;                                }&#xA;                            } &#xA;                            &#xA;                            var setRepeatSize = function(name, value) {&#xA;                                repeatSizeMap[name] = value;&#xA;                            }&#xA;                            &#xA;                            var getRepeatSize = function(name) {&#xA;                                if ( typeof(repeatSizeMap[name]) != &#39;undefined&#39; ) {&#xA;                                    return repeatSizeMap[name];&#xA;                                }&#xA;                                else {&#xA;                                    return 0;&#xA;                                }&#xA;                            } &#xA;                            &#xA;                            var setElementUsingIndexFunction = function(name, value) {&#xA;                                elementsUsingIndexFunction[name] = value;&#xA;                            } &#xA;                            &#xA;                            var getElementUsingIndexFunction = function(name) {&#xA;                                return elementsUsingIndexFunction[name];&#xA;                            }&#xA;                            &#xA;                            var getElementsUsingIndexFunctionKeys = function() {&#xA;                                return Object.keys(elementsUsingIndexFunction);&#xA;                            }&#xA;                            &#xA;                            &#xA;                            var startTime = function(name) {&#xA;                                console.time(name);&#xA;                            }&#xA;                            &#xA;                            var endTime = function(name) {&#xA;                                console.timeEnd(name);&#xA;                            }&#xA;                            &#xA;                            var highlightClicked = function(id) {&#xA;                                var item = document.getElementById(id);&#xA;                                toggleClass(item);&#xA;                            }&#xA;                            &#xA;                            var toggleClass = function(element) {&#xA;                                if (element.className == &#39;selected&#39;) {&#xA;                                    element.classList.remove(&#39;selected&#39;);&#xA;                                }&#xA;                                else {&#xA;                                    var x = document.getElementsByClassName(&#39;selected&#39;);&#xA;                                    var i;&#xA;                                    for (i = 0; i &lt; x.length; i++) {&#xA;                                        x[i].classList.remove(&#39;selected&#39;);&#xA;                                    } &#xA;                                    element.classList.add(&#39;selected&#39;);&#xA;                                }&#xA;                            }&#xA;                            &#xA;                            var setFocus = function(id) {&#xA;                                var item = document.getElementById(id);&#xA;                                item.focus();&#xA;                                // alert(&#39;setFocus on &#39; + id);&#xA;                            }&#xA;                            &#xA;                        '/>
                     </valueOf>
                    </sequence>
                   </elem>
                  </resultDoc>
                 </forEach>
                 <ifCall line='533' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
                  <check card='1' diag='0|0||ixsl:call'>
                   <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
                  </check>
                  <str val='setXFormsDoc'/>
                  <arrayBlock>
                   <varRef name='Q{}xforms-doc' slot='0'/>
                  </arrayBlock>
                 </ifCall>
                 <ifCall line='534' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
                  <check card='1' diag='0|0||ixsl:call'>
                   <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
                  </check>
                  <str val='setXForm'/>
                  <arrayBlock>
                   <varRef name='Q{}xform' slot='7'/>
                  </arrayBlock>
                 </ifCall>
                 <ifCall line='535' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
                  <check card='1' diag='0|0||ixsl:call'>
                   <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
                  </check>
                  <str val='setDefaultInstance'/>
                  <arrayBlock>
                   <varRef name='Q{}default-instance' slot='12'/>
                  </arrayBlock>
                 </ifCall>
                 <ifCall line='536' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
                  <check card='1' diag='0|0||ixsl:call'>
                   <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
                  </check>
                  <str val='setRelevantMap'/>
                  <arrayBlock>
                   <varRef name='Q{}RelevantBindings' slot='15'/>
                  </arrayBlock>
                 </ifCall>
                 <ifCall line='537' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
                  <check card='1' diag='0|0||ixsl:call'>
                   <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
                  </check>
                  <str val='setCalculationMap'/>
                  <arrayBlock>
                   <varRef name='Q{}CalculationBindings' slot='17'/>
                  </arrayBlock>
                 </ifCall>
                 <ifCall line='542' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
                  <check card='1' diag='0|0||ixsl:call'>
                   <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
                  </check>
                  <str val='setPendingUpdates'/>
                  <arrayBlock>
                   <treat line='539' as='map(xs:string, xs:string)' jsTest='function k(item) {return SaxonJS.U.Atomic.string.matches(item);};function v(item) {return SaxonJS.U.Atomic.string.matches(item);};function c(n) {return n==1;};return SaxonJS.U.isMap(item) &amp;&amp; item.conforms(k, v, c);' diag='3|0||pendingInstanceUpdates'>
                    <map size='0'/>
                   </treat>
                  </arrayBlock>
                 </ifCall>
                 <ifCall line='543' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
                  <check card='1' diag='0|0||ixsl:call'>
                   <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
                  </check>
                  <str val='setUpdates'/>
                  <arrayBlock>
                   <treat line='540' as='map(xs:string, xs:string)' jsTest='function k(item) {return SaxonJS.U.Atomic.string.matches(item);};function v(item) {return SaxonJS.U.Atomic.string.matches(item);};function c(n) {return n==1;};return SaxonJS.U.isMap(item) &amp;&amp; item.conforms(k, v, c);' diag='3|0||instanceUpdates'>
                    <map size='0'/>
                   </treat>
                  </arrayBlock>
                 </ifCall>
                </sequence>
               </choose>
               <forEach line='552'>
                <treat line='550' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|instanceKeys'>
                 <cvUntyped to='xs:string' diag='3|0|XTTE0570|instanceKeys'>
                  <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}keys' type='xs:anyAtomicType*'>
                   <varRef name='Q{}xforms-instances' slot='9'/>
                  </ifCall>
                 </cvUntyped>
                </treat>
                <ifCall line='554' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
                 <varRef name='Q{http://saxon.sf.net/generated-variable}v0' slot='5'/>
                 <str val='setInstance'/>
                 <arrayBlock>
                  <dot type='xs:string'/>
                  <check line='553' card='1' diag='3|0|XTTE0570|instance'>
                   <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
                    <varRef name='Q{}xforms-instances' slot='9'/>
                    <dot type='xs:string'/>
                   </ifCall>
                  </check>
                 </arrayBlock>
                </ifCall>
               </forEach>
               <let line='559' var='Q{}submissions' as='map(xs:string, map(*))' slot='19' eval='8'>
                <ifCall line='561' name='Q{http://www.w3.org/2005/xpath-functions/map}merge' type='map(*)'>
                 <forEach>
                  <slash simple='2'>
                   <slash simple='2'>
                    <slash simple='1'>
                     <varRef name='Q{}xforms-doci' slot='6'/>
                     <axis name='child' nodeTest='element(Q{http://www.w3.org/2002/xforms}xform)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;xform&#39;;'/>
                    </slash>
                    <axis name='child' nodeTest='element(Q{http://www.w3.org/2002/xforms}model)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;model&#39;;'/>
                   </slash>
                   <axis name='child' nodeTest='element(Q{http://www.w3.org/2002/xforms}submission)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;submission&#39;;'/>
                  </slash>
                  <let line='565' var='Q{}map-key' as='xs:string' slot='20' eval='16'>
                   <choose>
                    <fn name='exists'>
                     <axis name='attribute' nodeTest='attribute(Q{}id)' jsTest='return item.name===&#39;id&#39;'/>
                    </fn>
                    <check card='1' diag='3|0|XTTE0570|map-key'>
                     <cast as='xs:string' emptiable='1'>
                      <attVal name='Q{}id' chk='0'/>
                     </cast>
                    </check>
                    <true/>
                    <str val='saxon-forms-default-submission'/>
                   </choose>
                   <let line='566' var='Q{}map-value' as='map(*)' slot='21' eval='16'>
                    <treat line='567' as='map(*)' jsTest='return SaxonJS.U.isMap(item)' diag='3|0|XTTE0570|map-value'>
                     <check card='1' diag='3|0|XTTE0570|map-value'>
                      <callT name='Q{}setSubmission' bSlot='5'>
                       <withParam name='Q{}this' flags='c' as='element()'>
                        <dot line='568' type='element(Q{http://www.w3.org/2002/xforms}submission)'/>
                       </withParam>
                       <withParam name='Q{}submission-id' flags='c' as='xs:string'>
                        <varRef line='569' name='Q{}map-key' slot='20'/>
                       </withParam>
                      </callT>
                     </check>
                    </treat>
                    <ifCall line='572' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
                     <varRef name='Q{}map-key' slot='20'/>
                     <varRef name='Q{}map-value' slot='21'/>
                    </ifCall>
                   </let>
                  </let>
                 </forEach>
                 <map size='2'>
                  <str val='duplicates'/>
                  <str val='reject'/>
                  <str val='duplicates-error-code'/>
                  <str val='XTDE3365'/>
                 </map>
                </ifCall>
                <sequence line='581'>
                 <forEach>
                  <treat line='579' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|submissionKeys'>
                   <cvUntyped to='xs:string' diag='3|0|XTTE0570|submissionKeys'>
                    <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}keys' type='xs:anyAtomicType*'>
                     <varRef name='Q{}submissions' slot='19'/>
                    </ifCall>
                   </cvUntyped>
                  </treat>
                  <ifCall line='583' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
                   <varRef name='Q{http://saxon.sf.net/generated-variable}v1' slot='4'/>
                   <str val='addSubmission'/>
                   <arrayBlock>
                    <dot type='xs:string'/>
                    <check line='582' card='1' diag='3|0|XTTE0570|submission'>
                     <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
                      <varRef name='Q{}submissions' slot='19'/>
                      <dot type='xs:string'/>
                     </ifCall>
                    </check>
                   </arrayBlock>
                  </ifCall>
                 </forEach>
                 <resultDoc line='592' global='#&#xD;&#xA;#Sat Mar 14 13:02:55 GMT 2020&#xD;&#xA;indent=no&#xD;&#xA;doctype-system=http\://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&#xD;&#xA;encoding=utf-8&#xD;&#xA;doctype-public=-//W3C//DTD XHTML 1.0 Transitional//EN&#xD;&#xA;omit-xml-declaration=no&#xD;&#xA;method=html&#xD;&#xA;' local='#&#xD;&#xA;#Sat Mar 14 13:02:55 GMT 2020&#xD;&#xA;method={http\://saxonica.com/ns/interactiveXSLT}replace-content&#xD;&#xA;'>
                  <fn role='href' name='concat'>
                   <str val='#'/>
                   <varRef name='Q{}xFormsId' slot='3'/>
                  </fn>
                  <applyT role='content' line='593' bSlot='6'>
                   <slash role='select' simple='1'>
                    <varRef name='Q{}xforms-doci' slot='6'/>
                    <axis name='child' nodeTest='element(Q{http://www.w3.org/2002/xforms}xform)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;http://www.w3.org/2002/xforms&#39;&amp;&amp;q.local===&#39;xform&#39;;'/>
                   </slash>
                   <withParam name='Q{}instances' flags='t' as='map(xs:string, element())'>
                    <varRef line='594' name='Q{}xforms-instances' slot='9'/>
                   </withParam>
                   <withParam name='Q{}bindings' flags='t' as='map(xs:string, node())'>
                    <varRef line='595' name='Q{}bindings' slot='13'/>
                   </withParam>
                   <withParam name='Q{}submissions' flags='t' as='map(xs:string, map(*))'>
                    <varRef line='596' name='Q{}submissions' slot='19'/>
                   </withParam>
                   <withParam name='Q{}nodeset' flags='t' as='xs:string'>
                    <str val=''/>
                   </withParam>
                  </applyT>
                 </resultDoc>
                </sequence>
               </let>
              </sequence>
             </let>
            </let>
           </let>
          </let>
         </let>
        </let>
       </let>
      </let>
     </sequence>
    </let>
   </let>
  </template>
 </co>
 <co id='71' vis='PRIVATE' binds='' base='4' dpack='1'/>
 <co id='94' vis='PRIVATE' binds='' base='7' dpack='1'/>
 <co id='100' binds='100'>
  <mode name='Q{}namespace-fix' onNo='TC' flags='W' patternSlots='0'>
   <templateRule prec='0' prio='-0.5' seq='31' rank='0' minImp='0' slots='1' flags='s' line='2377' module='saxon-xforms.xsl'>
    <p.nodeTest role='match' test='element()' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1;'/>
    <let role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='2378' var='Q{}current-namespace' as='xs:anyURI' slot='0' eval='8'>
     <fn name='namespace-uri'>
      <dot type='element()'/>
     </fn>
     <compElem line='2380'>
      <convert role='name' from='xs:QName' to='xs:string'>
       <fn line='2379' name='QName'>
        <convert from='xs:anyURI' to='xs:string'>
         <varRef name='Q{}current-namespace' slot='0'/>
        </convert>
        <fn name='name'>
         <dot type='element()'/>
        </fn>
       </fn>
      </convert>
      <convert role='namespace' from='xs:anyURI' to='xs:string'>
       <varRef name='Q{}current-namespace' slot='0'/>
      </convert>
      <sequence role='content' line='2381'>
       <namespace flags='l'>
        <str role='name' val='xforms'/>
        <str role='select' val='http://www.w3.org/2002/xforms'/>
       </namespace>
       <applyT line='2383' mode='Q{}namespace-fix' bSlot='0'>
        <sequence role='select'>
         <axis name='attribute' nodeTest='attribute()' jsTest='return SaxonJS.U.isAttr(item)'/>
         <axis name='child' nodeTest='( element() | text() | comment() | processing-instruction() )' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; (item.nodeType===1 || item.nodeType===3 || item.nodeType===7 || item.nodeType===8);'/>
        </sequence>
       </applyT>
      </sequence>
     </compElem>
    </let>
   </templateRule>
  </mode>
 </co>
 <co id='81' vis='PRIVATE' binds='' base='9' dpack='1'/>
 <co id='102' vis='PRIVATE' binds='' base='10' dpack='1'/>
 <co id='103' vis='PRIVATE' binds='' base='11' dpack='1'/>
 <co id='76' binds='95 25 27'>
  <template name='Q{}HTTPsubmit' cxt='map(*)' jsTest='return SaxonJS.U.isMap(item)' flags='s' line='985' module='saxon-xforms.xsl' slots='5'>
   <sequence role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='989'>
    <param name='Q{}instance-id' slot='0' as='xs:string'>
     <str role='select' val='saxon-forms-default'/>
     <treat role='conversion' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='8|0|XTTE0590|instance-id'>
      <check card='1' diag='8|0|XTTE0590|instance-id'>
       <cvUntyped to='xs:string' diag='8|0|XTTE0590|instance-id'>
        <data>
         <supplied slot='0'/>
        </data>
       </cvUntyped>
      </check>
     </treat>
    </param>
    <param line='990' name='Q{}targetref' slot='1' as='xs:string?'>
     <empty role='select'/>
     <treat role='conversion' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='8|0|XTTE0590|targetref'>
      <check card='?' diag='8|0|XTTE0590|targetref'>
       <cvUntyped to='xs:string' diag='8|0|XTTE0590|targetref'>
        <data>
         <supplied slot='1'/>
        </data>
       </cvUntyped>
      </check>
     </treat>
    </param>
    <param line='991' name='Q{}replace' slot='2' as='xs:string?'>
     <empty role='select'/>
     <treat role='conversion' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='8|0|XTTE0590|replace'>
      <check card='?' diag='8|0|XTTE0590|replace'>
       <cvUntyped to='xs:string' diag='8|0|XTTE0590|replace'>
        <data>
         <supplied slot='2'/>
        </data>
       </cvUntyped>
      </check>
     </treat>
    </param>
    <let line='993' var='Q{}refi' as='xs:string' slot='3' eval='8'>
     <fn name='concat'>
      <str val='instance(&#39;'/>
      <varRef name='Q{}instance-id' slot='0'/>
      <str val='&#39;)/'/>
     </fn>
     <let line='1001' var='Q{}response' as='item()?' slot='4' eval='7'>
      <check card='?' diag='3|0|XTTE0570|response'>
       <lookup>
        <dot type='map(*)'/>
        <str val='body'/>
       </lookup>
      </check>
      <choose line='1004'>
       <fn name='empty'>
        <varRef name='Q{}response' slot='4'/>
       </fn>
       <callT line='1005' name='Q{}serverError' bSlot='0' flags='t'>
        <withParam name='Q{}responseMap' flags='c' as='map(*)'>
         <dot line='1006' type='map(*)'/>
        </withParam>
       </callT>
       <and line='1018' op='and'>
        <vc op='eq' onEmpty='0' comp='CCC'>
         <varRef name='Q{}replace' slot='2'/>
         <str val='instance'/>
        </vc>
        <filter flags='b'>
         <varRef name='Q{}response' slot='4'/>
         <fn name='exists'>
          <slash simple='1'>
           <treat as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='14|12|XPTY0020|'>
            <dot/>
           </treat>
           <axis name='self' nodeTest='document-node()' jsTest='return (item.nodeType===9||item.nodeType===11);'/>
          </slash>
         </fn>
        </filter>
       </and>
       <sequence line='1019'>
        <ufCall name='Q{http://www.w3.org/2002/xforms}setInstance-JS' tailCall='false' bSlot='1' eval='6 16'>
         <varRef name='Q{}refi' slot='3'/>
         <check card='1' diag='0|1||xforms:setInstance-JS'>
          <slash simple='1'>
           <treat as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='1|0|XPTY0019|/'>
            <varRef name='Q{}response' slot='4'/>
           </treat>
           <axis name='child' nodeTest='element()' jsTest='return item.nodeType===1;'/>
          </slash>
         </check>
        </ufCall>
        <callT line='1021' name='Q{}xforms-recalculate' bSlot='2' flags='t'/>
       </sequence>
      </choose>
     </let>
    </let>
   </sequence>
  </template>
 </co>
 <co id='22' binds=''>
  <function name='Q{http://www.w3.org/2002/xforms}instance' line='126' module='xforms-function-library.xsl' eval='7' flags='pU' as='element()?' slots='1'>
   <arg name='Q{}instance-id' as='xs:string'/>
   <treat role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ map=~' line='128' as='element()' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1;' diag='5|0|XTTE0780|xforms:instance#1'>
    <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
     <check card='1' diag='0|0||ixsl:call'>
      <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
     </check>
     <str val='getInstance'/>
     <arrayBlock>
      <varRef name='Q{}instance-id' slot='0'/>
     </arrayBlock>
    </ifCall>
   </treat>
  </function>
 </co>
 <co id='104' binds='72 92 31'>
  <mode name='Q{http://saxonica.com/ns/interactiveXSLT}onclick' onNo='TC' flags='W' patternSlots='0'>
   <templateRule prec='0' prio='0.5' seq='3' rank='0' minImp='0' slots='1' flags='s' line='707' module='saxon-xforms.xsl'>
    <p.withUpper role='match' axis='ancestor' upFirst='false'>
     <p.withPredicate>
      <p.nodeTest test='element()' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1;'/>
      <or ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='707' op='or'>
       <axis name='self' nodeTest='element(Q{}span)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;&#39;&amp;&amp;q.local===&#39;span&#39;;'/>
       <axis name='self' nodeTest='element(Q{}input)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;&#39;&amp;&amp;q.local===&#39;input&#39;;'/>
      </or>
     </p.withPredicate>
     <p.withPredicate>
      <p.nodeTest test='element(Q{}div)' jsTest='var q=SaxonJS.U.nameOfNode(item); return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1 &amp;&amp; q.uri===&#39;&#39;&amp;&amp;q.local===&#39;div&#39;;'/>
      <vc ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='707' op='eq' onEmpty='0' comp='CCC'>
       <cast as='xs:string' emptiable='1'>
        <data>
         <axis name='attribute' nodeTest='attribute(Q{}data-repeat-item)' jsTest='return item.name===&#39;data-repeat-item&#39;'/>
        </data>
       </cast>
       <str val='true'/>
      </vc>
     </p.withPredicate>
    </p.withUpper>
    <let role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='716' var='Q{http://saxon.sf.net/generated-variable}v0' as='item()' slot='0' eval='13'>
     <check card='1' diag='0|0||ixsl:call'>
      <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
     </check>
     <sequence line='708'>
      <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
       <check card='1' diag='0|0||ixsl:call'>
        <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
       </check>
       <str val='highlightClicked'/>
       <arrayBlock>
        <fn name='string'>
         <axis name='attribute' nodeTest='attribute(Q{}id)' jsTest='return item.name===&#39;id&#39;'/>
        </fn>
       </arrayBlock>
      </ifCall>
      <forEach line='711'>
       <fn name='reverse'>
        <filter flags='b'>
         <axis name='ancestor' nodeTest='element(Q{}div)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;&#39;&amp;&amp;q.local===&#39;div&#39;;'/>
         <vc op='eq' onEmpty='0' comp='CCC'>
          <cast as='xs:string' emptiable='1'>
           <attVal name='Q{}data-repeat-item' chk='0'/>
          </cast>
          <str val='true'/>
         </vc>
        </filter>
       </fn>
       <ifCall line='716' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
        <varRef name='Q{http://saxon.sf.net/generated-variable}v0' slot='0'/>
        <str val='setRepeatIndex'/>
        <arrayBlock>
         <check line='712' card='1' diag='3|0|XTTE0570|repeat-id'>
          <cvUntyped to='xs:string' diag='3|0|XTTE0570|repeat-id'>
           <data>
            <slash simple='1'>
             <first>
              <filter flags='b'>
               <axis name='ancestor' nodeTest='element(Q{}div)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;&#39;&amp;&amp;q.local===&#39;div&#39;;'/>
               <fn name='exists'>
                <axis name='attribute' nodeTest='attribute(Q{}data-repeatable-context)' jsTest='return item.name===&#39;data-repeatable-context&#39;'/>
               </fn>
              </filter>
             </first>
             <axis name='attribute' nodeTest='attribute(Q{}id)' jsTest='return item.name===&#39;id&#39;'/>
            </slash>
           </data>
          </cvUntyped>
         </check>
         <arith line='713' op='+' calc='i+i'>
          <fn name='count'>
           <filter flags='b'>
            <axis name='preceding-sibling' nodeTest='element(Q{}div)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;&#39;&amp;&amp;q.local===&#39;div&#39;;'/>
            <vc op='eq' onEmpty='0' comp='CCC'>
             <cast as='xs:string' emptiable='1'>
              <attVal name='Q{}data-repeat-item' chk='0'/>
             </cast>
             <str val='true'/>
            </vc>
           </filter>
          </fn>
          <int val='1'/>
         </arith>
        </arrayBlock>
       </ifCall>
      </forEach>
      <choose line='719'>
       <fn name='exists'>
        <axis name='self' nodeTest='element(Q{}span)' jsTest='var q=SaxonJS.U.nameOfNode(item); return item.nodeType===1 &amp;&amp; q.uri===&#39;&#39;&amp;&amp;q.local===&#39;span&#39;;'/>
       </fn>
       <callT line='720' name='Q{}refreshElementsUsingIndexFunction-JS' bSlot='0' flags='t'/>
      </choose>
     </sequence>
    </let>
   </templateRule>
   <templateRule prec='0' prio='0.5' seq='23' rank='0' minImp='0' slots='0' flags='s' line='1955' module='saxon-xforms.xsl'>
    <p.withPredicate role='match'>
     <p.nodeTest test='element(Q{}button)' jsTest='var q=SaxonJS.U.nameOfNode(item); return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1 &amp;&amp; q.uri===&#39;&#39;&amp;&amp;q.local===&#39;button&#39;;'/>
     <fn ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='1955' name='exists'>
      <axis name='attribute' nodeTest='attribute(Q{}data-action)' jsTest='return item.name===&#39;data-action&#39;'/>
     </fn>
    </p.withPredicate>
    <callT role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='1956' name='Q{}DOMActivate' bSlot='1' flags='t'>
     <withParam name='Q{}form-control' flags='c' as='node()'>
      <dot line='1957' type='element(Q{}button)'/>
     </withParam>
    </callT>
   </templateRule>
   <templateRule prec='0' prio='0.5' seq='4' rank='0' minImp='0' slots='0' flags='s' line='967' module='saxon-xforms.xsl'>
    <p.withPredicate role='match'>
     <p.nodeTest test='element(Q{}button)' jsTest='var q=SaxonJS.U.nameOfNode(item); return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1 &amp;&amp; q.uri===&#39;&#39;&amp;&amp;q.local===&#39;button&#39;;'/>
     <fn ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='967' name='exists'>
      <axis name='attribute' nodeTest='attribute(Q{}data-submit)' jsTest='return item.name===&#39;data-submit&#39;'/>
     </fn>
    </p.withPredicate>
    <callT role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='969' name='Q{}xforms-submit' bSlot='2' flags='t'>
     <withParam name='Q{}submission' flags='c' as='xs:string'>
      <fn line='970' name='string'>
       <axis name='attribute' nodeTest='attribute(Q{}data-submit)' jsTest='return item.name===&#39;data-submit&#39;'/>
      </fn>
     </withParam>
    </callT>
   </templateRule>
  </mode>
 </co>
 <co id='101' binds='87 88 89'>
  <template name='Q{}setSubmission' flags='os' line='3463' module='saxon-xforms.xsl' slots='5'>
   <sequence role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='3464'>
    <param name='Q{}this' slot='0' flags='i' as='element()'>
     <treat role='conversion' as='element()' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1;' diag='8|0|XTTE0590|this'>
      <check card='1' diag='8|0|XTTE0590|this'>
       <supplied slot='0'/>
      </check>
     </treat>
    </param>
    <param line='3465' name='Q{}submission-id' slot='1' flags='i' as='xs:string'>
     <treat role='conversion' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='8|0|XTTE0590|submission-id'>
      <check card='1' diag='8|0|XTTE0590|submission-id'>
       <cvUntyped to='xs:string' diag='8|0|XTTE0590|submission-id'>
        <data>
         <supplied slot='1'/>
        </data>
       </cvUntyped>
      </check>
     </treat>
    </param>
    <let line='3468' var='Q{}bindingi' as='node()?' slot='2' eval='7'>
     <treat line='3469' as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='3|0|XTTE0570|bindingi'>
      <check card='?' diag='3|0|XTTE0570|bindingi'>
       <callT name='Q{}getBinding' bSlot='0'>
        <withParam name='Q{}this' flags='c' as='element()'>
         <varRef line='3470' name='Q{}this' slot='0'/>
        </withParam>
       </callT>
      </check>
     </treat>
     <let line='3475' var='Q{}refi' as='xs:string' slot='3' eval='16'>
      <treat line='3476' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='3|0|XTTE0570|refi'>
       <check card='1' diag='3|0|XTTE0570|refi'>
        <cvUntyped to='xs:string' diag='3|0|XTTE0570|refi'>
         <data>
          <callT name='Q{}getDataRef' bSlot='1'>
           <withParam name='Q{}this' flags='c' as='element()'>
            <varRef line='3477' name='Q{}this' slot='0'/>
           </withParam>
           <withParam name='Q{}bindingi' flags='c' as='node()?'>
            <varRef line='3478' name='Q{}bindingi' slot='2'/>
           </withParam>
          </callT>
         </data>
        </cvUntyped>
       </check>
      </treat>
      <let line='3483' var='Q{}actions' as='map(*)*' slot='4' eval='8'>
       <treat line='3484' as='map(*)' jsTest='return SaxonJS.U.isMap(item)' diag='3|0|XTTE0570|actions'>
        <callT name='Q{}setActions' bSlot='2'>
         <withParam name='Q{}this' flags='c' as='element()'>
          <treat line='3485' as='element()' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1;' diag='8|0|XTTE0590|this'>
           <dot flags='a'/>
          </treat>
         </withParam>
         <withParam name='Q{}nodeset' flags='t' as='xs:string'>
          <varRef line='3486' name='Q{}refi' slot='3'/>
         </withParam>
        </callT>
       </treat>
       <sequence line='3490'>
        <choose>
         <fn name='exists'>
          <varRef name='Q{}actions' slot='4'/>
         </fn>
         <ifCall line='3491' name='Q{http://saxonica.com/ns/interactiveXSLT}call' type='item()?'>
          <check card='1' diag='0|0||ixsl:call'>
           <ifCall name='Q{http://saxonica.com/ns/interactiveXSLT}window' type='item()?'/>
          </check>
          <str val='addAction'/>
          <arrayBlock>
           <varRef name='Q{}submission-id' slot='1'/>
           <varRef name='Q{}actions' slot='4'/>
          </arrayBlock>
         </ifCall>
        </choose>
        <ifCall line='3496' name='Q{http://www.w3.org/2005/xpath-functions/map}merge' type='map(*)'>
         <sequence>
          <ifCall line='3497' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
           <str val='@ref'/>
           <varRef name='Q{}refi' slot='3'/>
          </ifCall>
          <choose line='3500'>
           <fn name='exists'>
            <slash simple='1'>
             <varRef name='Q{}this' slot='0'/>
             <axis name='attribute' nodeTest='attribute(Q{}resource)' jsTest='return item.name===&#39;resource&#39;'/>
            </slash>
           </fn>
           <ifCall line='3501' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
            <str val='@resource'/>
            <cast as='xs:string' emptiable='1'>
             <data>
              <slash simple='1'>
               <varRef name='Q{}this' slot='0'/>
               <axis name='attribute' nodeTest='attribute(Q{}resource)' jsTest='return item.name===&#39;resource&#39;'/>
              </slash>
             </data>
            </cast>
           </ifCall>
          </choose>
          <choose line='3503'>
           <fn name='exists'>
            <slash simple='1'>
             <varRef name='Q{}this' slot='0'/>
             <axis name='attribute' nodeTest='attribute(Q{}mode)' jsTest='return item.name===&#39;mode&#39;'/>
            </slash>
           </fn>
           <ifCall line='3504' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
            <str val='@mode'/>
            <cast as='xs:string' emptiable='1'>
             <data>
              <slash simple='1'>
               <varRef name='Q{}this' slot='0'/>
               <axis name='attribute' nodeTest='attribute(Q{}mode)' jsTest='return item.name===&#39;mode&#39;'/>
              </slash>
             </data>
            </cast>
           </ifCall>
          </choose>
          <ifCall line='3507' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
           <str val='@method'/>
           <choose line='3509'>
            <fn name='exists'>
             <slash simple='1'>
              <varRef name='Q{}this' slot='0'/>
              <axis name='attribute' nodeTest='attribute(Q{}method)' jsTest='return item.name===&#39;method&#39;'/>
             </slash>
            </fn>
            <fn line='3510' name='string'>
             <slash simple='1'>
              <varRef name='Q{}this' slot='0'/>
              <axis name='attribute' nodeTest='attribute(Q{}method)' jsTest='return item.name===&#39;method&#39;'/>
             </slash>
            </fn>
            <true/>
            <str val='POST'/>
           </choose>
          </ifCall>
          <choose line='3519'>
           <fn name='exists'>
            <slash simple='1'>
             <varRef name='Q{}this' slot='0'/>
             <axis name='attribute' nodeTest='attribute(Q{}validate)' jsTest='return item.name===&#39;validate&#39;'/>
            </slash>
           </fn>
           <ifCall line='3520' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
            <str val='@validate'/>
            <fn name='string'>
             <slash simple='1'>
              <varRef name='Q{}this' slot='0'/>
              <axis name='attribute' nodeTest='attribute(Q{}validate)' jsTest='return item.name===&#39;validate&#39;'/>
             </slash>
            </fn>
           </ifCall>
          </choose>
          <choose line='3522'>
           <fn name='exists'>
            <slash simple='1'>
             <varRef name='Q{}this' slot='0'/>
             <axis name='attribute' nodeTest='attribute(Q{}relevant)' jsTest='return item.name===&#39;relevant&#39;'/>
            </slash>
           </fn>
           <ifCall line='3523' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
            <str val='@relevant'/>
            <fn name='string'>
             <slash simple='1'>
              <varRef name='Q{}this' slot='0'/>
              <axis name='attribute' nodeTest='attribute(Q{}relevant)' jsTest='return item.name===&#39;relevant&#39;'/>
             </slash>
            </fn>
           </ifCall>
          </choose>
          <choose line='3525'>
           <fn name='exists'>
            <slash simple='1'>
             <varRef name='Q{}this' slot='0'/>
             <axis name='attribute' nodeTest='attribute(Q{}serialization)' jsTest='return item.name===&#39;serialization&#39;'/>
            </slash>
           </fn>
           <ifCall line='3526' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
            <str val='@serialization'/>
            <fn name='string'>
             <slash simple='1'>
              <varRef name='Q{}this' slot='0'/>
              <axis name='attribute' nodeTest='attribute(Q{}serialization)' jsTest='return item.name===&#39;serialization&#39;'/>
             </slash>
            </fn>
           </ifCall>
          </choose>
          <choose line='3528'>
           <fn name='exists'>
            <slash simple='1'>
             <varRef name='Q{}this' slot='0'/>
             <axis name='attribute' nodeTest='attribute(Q{}version)' jsTest='return item.name===&#39;version&#39;'/>
            </slash>
           </fn>
           <ifCall line='3529' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
            <str val='@version'/>
            <fn name='string'>
             <slash simple='1'>
              <varRef name='Q{}this' slot='0'/>
              <axis name='attribute' nodeTest='attribute(Q{}version)' jsTest='return item.name===&#39;version&#39;'/>
             </slash>
            </fn>
           </ifCall>
          </choose>
          <choose line='3531'>
           <fn name='exists'>
            <slash simple='1'>
             <varRef name='Q{}this' slot='0'/>
             <axis name='attribute' nodeTest='attribute(Q{}indent)' jsTest='return item.name===&#39;indent&#39;'/>
            </slash>
           </fn>
           <ifCall line='3532' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
            <str val='@indent'/>
            <fn name='string'>
             <slash simple='1'>
              <varRef name='Q{}this' slot='0'/>
              <axis name='attribute' nodeTest='attribute(Q{}indent)' jsTest='return item.name===&#39;indent&#39;'/>
             </slash>
            </fn>
           </ifCall>
          </choose>
          <ifCall line='3536' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
           <str val='@mediatype'/>
           <choose line='3538'>
            <fn name='exists'>
             <slash simple='1'>
              <varRef name='Q{}this' slot='0'/>
              <axis name='attribute' nodeTest='attribute(Q{}mediatype)' jsTest='return item.name===&#39;mediatype&#39;'/>
             </slash>
            </fn>
            <fn line='3539' name='string'>
             <slash simple='1'>
              <varRef name='Q{}this' slot='0'/>
              <axis name='attribute' nodeTest='attribute(Q{}mediatype)' jsTest='return item.name===&#39;mediatype&#39;'/>
             </slash>
            </fn>
            <true/>
            <str val='text/plain'/>
           </choose>
          </ifCall>
          <choose line='3549'>
           <fn name='exists'>
            <slash simple='1'>
             <varRef name='Q{}this' slot='0'/>
             <axis name='attribute' nodeTest='attribute(Q{}encoding)' jsTest='return item.name===&#39;encoding&#39;'/>
            </slash>
           </fn>
           <ifCall line='3550' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
            <str val='@encoding'/>
            <fn name='string'>
             <slash simple='1'>
              <varRef name='Q{}this' slot='0'/>
              <axis name='attribute' nodeTest='attribute(Q{}encoding)' jsTest='return item.name===&#39;encoding&#39;'/>
             </slash>
            </fn>
           </ifCall>
          </choose>
          <choose line='3552'>
           <fn name='exists'>
            <slash simple='1'>
             <varRef name='Q{}this' slot='0'/>
             <axis name='attribute' nodeTest='attribute(Q{}omit-xml-declaration)' jsTest='return item.name===&#39;omit-xml-declaration&#39;'/>
            </slash>
           </fn>
           <ifCall line='3553' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
            <str val='@omit-xml-declaration'/>
            <fn name='string'>
             <slash simple='1'>
              <varRef name='Q{}this' slot='0'/>
              <axis name='attribute' nodeTest='attribute(Q{}omit-xml-declaration)' jsTest='return item.name===&#39;omit-xml-declaration&#39;'/>
             </slash>
            </fn>
           </ifCall>
          </choose>
          <choose line='3555'>
           <fn name='exists'>
            <slash simple='1'>
             <varRef name='Q{}this' slot='0'/>
             <axis name='attribute' nodeTest='attribute(Q{}standalone)' jsTest='return item.name===&#39;standalone&#39;'/>
            </slash>
           </fn>
           <ifCall line='3556' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
            <str val='@standalone'/>
            <fn name='string'>
             <slash simple='1'>
              <varRef name='Q{}this' slot='0'/>
              <axis name='attribute' nodeTest='attribute(Q{}standalone)' jsTest='return item.name===&#39;standalone&#39;'/>
             </slash>
            </fn>
           </ifCall>
          </choose>
          <choose line='3558'>
           <fn name='exists'>
            <slash simple='1'>
             <varRef name='Q{}this' slot='0'/>
             <axis name='attribute' nodeTest='attribute(Q{}cdata-section-elements)' jsTest='return item.name===&#39;cdata-section-elements&#39;'/>
            </slash>
           </fn>
           <ifCall line='3559' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
            <str val='@cdata-section-elements'/>
            <fn name='string'>
             <slash simple='1'>
              <varRef name='Q{}this' slot='0'/>
              <axis name='attribute' nodeTest='attribute(Q{}cdata-section-elements)' jsTest='return item.name===&#39;cdata-section-elements&#39;'/>
             </slash>
            </fn>
           </ifCall>
          </choose>
          <ifCall line='3562' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
           <str val='@replace'/>
           <choose line='3564'>
            <fn name='exists'>
             <slash simple='1'>
              <varRef name='Q{}this' slot='0'/>
              <axis name='attribute' nodeTest='attribute(Q{}replace)' jsTest='return item.name===&#39;replace&#39;'/>
             </slash>
            </fn>
            <fn line='3565' name='string'>
             <slash simple='1'>
              <varRef name='Q{}this' slot='0'/>
              <axis name='attribute' nodeTest='attribute(Q{}replace)' jsTest='return item.name===&#39;replace&#39;'/>
             </slash>
            </fn>
            <true/>
            <str val='all'/>
           </choose>
          </ifCall>
          <choose line='3576'>
           <fn name='exists'>
            <slash simple='1'>
             <varRef name='Q{}this' slot='0'/>
             <axis name='attribute' nodeTest='attribute(Q{}instance)' jsTest='return item.name===&#39;instance&#39;'/>
            </slash>
           </fn>
           <ifCall line='3577' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
            <str val='@instance'/>
            <fn name='string'>
             <slash simple='1'>
              <varRef name='Q{}this' slot='0'/>
              <axis name='attribute' nodeTest='attribute(Q{}instance)' jsTest='return item.name===&#39;instance&#39;'/>
             </slash>
            </fn>
           </ifCall>
          </choose>
          <choose line='3579'>
           <fn name='exists'>
            <slash simple='1'>
             <varRef name='Q{}this' slot='0'/>
             <axis name='attribute' nodeTest='attribute(Q{}targetref)' jsTest='return item.name===&#39;targetref&#39;'/>
            </slash>
           </fn>
           <ifCall line='3580' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
            <str val='@targetref'/>
            <fn name='string'>
             <slash simple='1'>
              <varRef name='Q{}this' slot='0'/>
              <axis name='attribute' nodeTest='attribute(Q{}targetref)' jsTest='return item.name===&#39;targetref&#39;'/>
             </slash>
            </fn>
           </ifCall>
          </choose>
          <choose line='3582'>
           <fn name='exists'>
            <slash simple='1'>
             <varRef name='Q{}this' slot='0'/>
             <axis name='attribute' nodeTest='attribute(Q{}separator)' jsTest='return item.name===&#39;separator&#39;'/>
            </slash>
           </fn>
           <ifCall line='3583' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
            <str val='@separator'/>
            <fn name='string'>
             <slash simple='1'>
              <varRef name='Q{}this' slot='0'/>
              <axis name='attribute' nodeTest='attribute(Q{}separator)' jsTest='return item.name===&#39;separator&#39;'/>
             </slash>
            </fn>
           </ifCall>
          </choose>
          <choose line='3585'>
           <fn name='exists'>
            <slash simple='1'>
             <varRef name='Q{}this' slot='0'/>
             <axis name='attribute' nodeTest='attribute(Q{}includenamespaceprefixes)' jsTest='return item.name===&#39;includenamespaceprefixes&#39;'/>
            </slash>
           </fn>
           <ifCall line='3586' name='Q{http://www.w3.org/2005/xpath-functions/map}entry' type='map(*)'>
            <str val='@includenamespaceprefixes'/>
            <fn name='string'>
             <slash simple='1'>
              <varRef name='Q{}this' slot='0'/>
              <axis name='attribute' nodeTest='attribute(Q{}includenamespaceprefixes)' jsTest='return item.name===&#39;includenamespaceprefixes&#39;'/>
             </slash>
            </fn>
           </ifCall>
          </choose>
         </sequence>
         <map size='2'>
          <str val='duplicates'/>
          <str val='reject'/>
          <str val='duplicates-error-code'/>
          <str val='XTDE3365'/>
         </map>
        </ifCall>
       </sequence>
      </let>
     </let>
    </let>
   </sequence>
  </template>
 </co>
 <co id='105' binds='38'>
  <mode name='Q{http://saxonica.com/ns/interactiveXSLT}onkeyup' onNo='TC' flags='W' patternSlots='0'>
   <templateRule prec='0' prio='0.5' seq='0' rank='0' minImp='0' slots='0' flags='s' line='674' module='saxon-xforms.xsl'>
    <p.withPredicate role='match'>
     <p.nodeTest test='element(Q{}input)' jsTest='var q=SaxonJS.U.nameOfNode(item); return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1 &amp;&amp; q.uri===&#39;&#39;&amp;&amp;q.local===&#39;input&#39;;'/>
     <gc ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='674' op='=' card='N:1' comp='CCC'>
      <fn name='tokenize'>
       <cvUntyped to='xs:string' diag='3|0|XTTE0570|class'>
        <data>
         <slash simple='1'>
          <dot type='element(Q{}input)'/>
          <axis line='2584' name='attribute' nodeTest='attribute(Q{}class)' jsTest='return item.name===&#39;class&#39;'/>
         </slash>
        </data>
       </cvUntyped>
      </fn>
      <str val='incremental'/>
     </gc>
    </p.withPredicate>
    <callT role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='676' name='Q{}xforms-value-changed' bSlot='0' flags='t'>
     <withParam name='Q{}form-control' flags='c' as='node()'>
      <dot line='677' type='element(Q{}input)'/>
     </withParam>
    </callT>
   </templateRule>
  </mode>
 </co>
 <co id='87' binds=''>
  <template name='Q{}getBinding' flags='os' line='2795' module='saxon-xforms.xsl' slots='4'>
   <sequence role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='2796'>
    <param name='Q{}this' slot='0' flags='r' as='element()'>
     <treat role='conversion' as='element()' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1;' diag='8|0|XTTE0590|this'>
      <check card='1' diag='8|0|XTTE0590|this'>
       <supplied slot='0'/>
      </check>
     </treat>
    </param>
    <param line='2797' name='Q{}bindings' slot='1' flags='t' as='map(xs:string, node())'>
     <map role='select' size='0'/>
     <treat role='conversion' as='map(xs:string, node())' jsTest='function k(item) {return SaxonJS.U.Atomic.string.matches(item);};function v(item) {return SaxonJS.U.isNode(item);};function c(n) {return n==1;};return SaxonJS.U.isMap(item) &amp;&amp; item.conforms(k, v, c);' diag='8|0|XTTE0590|bindings'>
      <check card='1' diag='8|0|XTTE0590|bindings'>
       <supplied slot='1'/>
      </check>
     </treat>
    </param>
    <let line='2806' var='Q{}ref-binding' as='xs:string' slot='2' eval='16'>
     <choose>
      <fn name='exists'>
       <slash simple='1'>
        <varRef name='Q{}this' slot='0'/>
        <axis name='attribute' nodeTest='attribute(Q{}bind)' jsTest='return item.name===&#39;bind&#39;'/>
       </slash>
      </fn>
      <check card='1' diag='3|0|XTTE0570|ref-binding'>
       <cast as='xs:string' emptiable='1'>
        <data>
         <slash simple='1'>
          <varRef name='Q{}this' slot='0'/>
          <axis name='attribute' nodeTest='attribute(Q{}bind)' jsTest='return item.name===&#39;bind&#39;'/>
         </slash>
        </data>
       </cast>
      </check>
      <fn name='exists'>
       <slash simple='1'>
        <varRef name='Q{}this' slot='0'/>
        <axis name='attribute' nodeTest='attribute(Q{}ref)' jsTest='return item.name===&#39;ref&#39;'/>
       </slash>
      </fn>
      <check card='1' diag='3|0|XTTE0570|ref-binding'>
       <cast as='xs:string' emptiable='1'>
        <data>
         <slash simple='1'>
          <varRef name='Q{}this' slot='0'/>
          <axis name='attribute' nodeTest='attribute(Q{}ref)' jsTest='return item.name===&#39;ref&#39;'/>
         </slash>
        </data>
       </cast>
      </check>
      <true/>
      <str val=''/>
     </choose>
     <let line='2808' var='Q{}binding' as='element()?' slot='3' eval='7'>
      <choose line='2813'>
       <fn name='empty'>
        <varRef name='Q{}ref-binding' slot='2'/>
       </fn>
       <empty/>
       <true/>
       <treat as='element()' jsTest='return item.nodeType===1;' diag='3|0|XTTE0570|binding'>
        <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='item()*'>
         <varRef name='Q{}bindings' slot='1'/>
         <varRef name='Q{}ref-binding' slot='2'/>
        </ifCall>
       </treat>
      </choose>
      <sequence line='2816'>
       <choose>
        <fn name='exists'>
         <varRef name='Q{}binding' slot='3'/>
        </fn>
        <message line='2822'>
         <sequence role='select'>
          <valueOf>
           <str val='[getBinding for '/>
          </valueOf>
          <valueOf>
           <fn name='name'>
            <varRef name='Q{}this' slot='0'/>
           </fn>
          </valueOf>
          <valueOf>
           <str val='] Binding found: '/>
          </valueOf>
          <valueOf>
           <fn name='serialize'>
            <varRef name='Q{}binding' slot='3'/>
           </fn>
          </valueOf>
         </sequence>
         <str role='terminate' val='no'/>
         <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
        </message>
       </choose>
       <varRef line='2826' name='Q{}binding' slot='3'/>
      </sequence>
     </let>
    </let>
   </sequence>
  </template>
 </co>
 <co id='44' binds='67'>
  <template name='Q{}logToPage' flags='os' line='2558' module='saxon-xforms.xsl' slots='2'>
   <sequence role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='2559'>
    <param name='Q{}message' slot='0' flags='i' as='xs:string'>
     <treat role='conversion' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='8|0|XTTE0590|message'>
      <check card='1' diag='8|0|XTTE0590|message'>
       <cvUntyped to='xs:string' diag='8|0|XTTE0590|message'>
        <data>
         <supplied slot='0'/>
        </data>
       </cvUntyped>
      </check>
     </treat>
    </param>
    <param line='2560' name='Q{}level' slot='1' as='xs:string'>
     <str role='select' val='info'/>
     <treat role='conversion' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='8|0|XTTE0590|level'>
      <check card='1' diag='8|0|XTTE0590|level'>
       <cvUntyped to='xs:string' diag='8|0|XTTE0590|level'>
        <data>
         <supplied slot='1'/>
        </data>
       </cvUntyped>
      </check>
     </treat>
    </param>
    <resultDoc line='2562' global='#&#xD;&#xA;#Sat Mar 14 13:02:55 GMT 2020&#xD;&#xA;indent=no&#xD;&#xA;doctype-system=http\://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&#xD;&#xA;encoding=utf-8&#xD;&#xA;doctype-public=-//W3C//DTD XHTML 1.0 Transitional//EN&#xD;&#xA;omit-xml-declaration=no&#xD;&#xA;method=html&#xD;&#xA;' local='#&#xD;&#xA;#Sat Mar 14 13:02:55 GMT 2020&#xD;&#xA;method={http\://saxonica.com/ns/interactiveXSLT}append-content&#xD;&#xA;'>
     <fn role='href' name='concat'>
      <str val='#'/>
      <gVarRef name='Q{}xform-html-id' bSlot='0'/>
     </fn>
     <elem role='content' line='2563' name='div' nsuri='' namespaces='xd rdf xhtml js in fn map array ev'>
      <sequence>
       <att name='class' flags='l'>
        <fn name='concat'>
         <str val='message-'/>
         <varRef name='Q{}level' slot='1'/>
        </fn>
       </att>
       <elem line='2564' name='p' nsuri='' flags='l'>
        <sequence line='2565'>
         <elem name='b' nsuri='' flags='l'>
          <fn line='2566' name='concat'>
           <fn name='upper-case'>
            <varRef name='Q{}level' slot='1'/>
           </fn>
           <str val=': '/>
          </fn>
         </elem>
         <varRef line='2568' name='Q{}message' slot='0'/>
        </sequence>
       </elem>
      </sequence>
     </elem>
    </resultDoc>
   </sequence>
  </template>
 </co>
 <co id='106' binds=''>
  <globalVariable name='Q{}default-instance-id' type='xs:string' line='81' module='saxon-xforms.xsl' visibility='PRIVATE' jsAcceptor='return SaxonJS.U.Atomic.string.cast(val);' jsCardCheck='function c(n) {return n==1;};'>
   <str val='saxon-forms-default'/>
  </globalVariable>
 </co>
 <co id='107' vis='PRIVATE' binds='70 108' base='16' dpack='1'/>
 <co id='109' binds=''>
  <globalVariable name='Q{}debugTiming' type='xs:boolean' line='80' module='saxon-xforms.xsl' visibility='PRIVATE' jsAcceptor='return SaxonJS.U.Atomic.boolean.cast(val);' jsCardCheck='function c(n) {return n==1;};'>
   <false/>
  </globalVariable>
 </co>
 <co id='108' vis='PRIVATE' binds='' base='6' dpack='1'/>
 <co id='65' binds='87'>
  <function name='Q{http://www.w3.org/2002/xforms}getDataRef' line='2681' module='saxon-xforms.xsl' eval='16' flags='pU' as='xs:string' slots='11'>
   <arg name='Q{}this' as='element()'/>
   <arg name='Q{}nodeset' as='xs:string?'/>
   <let role='body' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='2690' var='Q{}this-ref' as='xs:string?' slot='2' eval='7'>
    <choose>
     <fn name='exists'>
      <slash simple='1'>
       <varRef name='Q{}this' slot='0'/>
       <axis name='attribute' nodeTest='attribute(Q{}nodeset)' jsTest='return item.name===&#39;nodeset&#39;'/>
      </slash>
     </fn>
     <fn name='normalize-space'>
      <cast as='xs:string' emptiable='1'>
       <data>
        <slash simple='1'>
         <varRef name='Q{}this' slot='0'/>
         <axis name='attribute' nodeTest='attribute(Q{}nodeset)' jsTest='return item.name===&#39;nodeset&#39;'/>
        </slash>
       </data>
      </cast>
     </fn>
     <fn name='exists'>
      <slash simple='1'>
       <varRef name='Q{}this' slot='0'/>
       <axis name='attribute' nodeTest='attribute(Q{}ref)' jsTest='return item.name===&#39;ref&#39;'/>
      </slash>
     </fn>
     <fn name='normalize-space'>
      <cast as='xs:string' emptiable='1'>
       <data>
        <slash simple='1'>
         <varRef name='Q{}this' slot='0'/>
         <axis name='attribute' nodeTest='attribute(Q{}ref)' jsTest='return item.name===&#39;ref&#39;'/>
        </slash>
       </data>
      </cast>
     </fn>
    </choose>
    <let line='2693' var='Q{}this-binding' as='node()?' slot='3' eval='7'>
     <treat line='2694' as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='3|0|XTTE0570|this-binding'>
      <check card='?' diag='3|0|XTTE0570|this-binding'>
       <callT name='Q{}getBinding' bSlot='0'>
        <withParam name='Q{}this' flags='c' as='element()'>
         <varRef line='2695' name='Q{}this' slot='0'/>
        </withParam>
       </callT>
      </check>
     </treat>
     <choose line='2720'>
      <fn name='exists'>
       <varRef name='Q{}this-binding' slot='3'/>
      </fn>
      <let line='2701' var='Q{}relative' as='xs:string' slot='4' eval='16'>
       <check card='1' diag='0|1||xforms:resolveXPathStrings'>
        <choose>
         <fn name='exists'>
          <varRef name='Q{}this-binding' slot='3'/>
         </fn>
         <cvUntyped line='2712' to='xs:string' diag='3|0|XTTE0570|this-binding-ref'>
          <cast as='xs:untypedAtomic' emptiable='0'>
           <choose>
            <fn name='exists'>
             <slash simple='1'>
              <varRef name='Q{}this-binding' slot='3'/>
              <axis name='attribute' nodeTest='attribute(Q{}nodeset)' jsTest='return item.name===&#39;nodeset&#39;'/>
             </slash>
            </fn>
            <fn name='normalize-space'>
             <cast as='xs:string' emptiable='1'>
              <data>
               <slash simple='1'>
                <varRef name='Q{}this-binding' slot='3'/>
                <axis name='attribute' nodeTest='attribute(Q{}nodeset)' jsTest='return item.name===&#39;nodeset&#39;'/>
               </slash>
              </data>
             </cast>
            </fn>
            <true/>
            <fn name='normalize-space'>
             <cast as='xs:string' emptiable='1'>
              <data>
               <slash simple='1'>
                <varRef name='Q{}this-binding' slot='3'/>
                <axis name='attribute' nodeTest='attribute(Q{}ref)' jsTest='return item.name===&#39;ref&#39;'/>
               </slash>
              </data>
             </cast>
            </fn>
           </choose>
          </cast>
         </cvUntyped>
        </choose>
       </check>
       <choose line='811'>
        <fn name='starts-with'>
         <varRef name='Q{}relative' slot='4'/>
         <str val='/'/>
        </fn>
        <varRef line='812' name='Q{}relative' slot='4'/>
        <fn line='814' name='starts-with'>
         <varRef name='Q{}relative' slot='4'/>
         <str val='instance('/>
        </fn>
        <varRef line='815' name='Q{}relative' slot='4'/>
        <true/>
        <varRef line='818' name='Q{}relative' slot='4'/>
       </choose>
      </let>
      <fn line='2723' name='exists'>
       <varRef name='Q{}this-ref' slot='2'/>
      </fn>
      <let line='2724' var='Q{}base' as='xs:string' slot='5' eval='16'>
       <check card='1' diag='0|0||xforms:resolveXPathStrings'>
        <varRef name='Q{}nodeset' slot='1'/>
       </check>
       <let var='Q{}relative' as='xs:string' slot='6' eval='16'>
        <check card='1' diag='0|1||xforms:resolveXPathStrings'>
         <varRef name='Q{}this-ref' slot='2'/>
        </check>
        <choose line='811'>
         <fn name='starts-with'>
          <varRef name='Q{}relative' slot='6'/>
          <str val='/'/>
         </fn>
         <varRef line='812' name='Q{}relative' slot='6'/>
         <fn line='814' name='starts-with'>
          <varRef name='Q{}relative' slot='6'/>
          <str val='instance('/>
         </fn>
         <varRef line='815' name='Q{}relative' slot='6'/>
         <fn line='817' name='not'>
          <varRef name='Q{}base' slot='5'/>
         </fn>
         <varRef line='818' name='Q{}relative' slot='6'/>
         <or line='820' op='or'>
          <fn name='not'>
           <varRef name='Q{}relative' slot='6'/>
          </fn>
          <vc op='eq' onEmpty='0' comp='CCC'>
           <varRef name='Q{}relative' slot='6'/>
           <str val='.'/>
          </vc>
         </or>
         <varRef line='821' name='Q{}base' slot='5'/>
         <true/>
         <let line='825' var='Q{}parentCallCount' as='xs:integer' slot='7' eval='16'>
          <choose>
           <fn name='contains'>
            <varRef name='Q{}relative' slot='6'/>
            <str val='/'/>
           </fn>
           <fn name='count'>
            <filter flags='b'>
             <fn name='tokenize'>
              <varRef name='Q{}relative' slot='6'/>
              <str val='/'/>
              <str val=''/>
             </fn>
             <vc op='eq' onEmpty='0' comp='CCC'>
              <dot type='xs:string'/>
              <str val='..'/>
             </vc>
            </filter>
           </fn>
           <fn name='contains'>
            <varRef name='Q{}relative' slot='6'/>
            <str val='..'/>
           </fn>
           <int val='1'/>
           <true/>
           <int val='0'/>
          </choose>
          <let line='828' var='Q{}slashes' as='xs:integer*' slot='8' eval='4'>
           <choose>
            <fn name='contains'>
             <varRef name='Q{}base' slot='5'/>
             <str val='/'/>
            </fn>
            <fn name='index-of'>
             <fn name='string-to-codepoints'>
              <varRef name='Q{}base' slot='5'/>
             </fn>
             <int val='47'/>
            </fn>
            <true/>
            <int val='0'/>
           </choose>
           <choose line='860'>
            <compareToInt op='gt' val='0'>
             <varRef name='Q{}parentCallCount' slot='7'/>
            </compareToInt>
            <fn line='864' name='concat'>
             <fn name='substring'>
              <varRef name='Q{}base' slot='5'/>
              <int val='1'/>
              <choose line='839'>
               <and op='and'>
                <vc op='ge' onEmpty='0' comp='CAVC'>
                 <fn name='count'>
                  <varRef name='Q{}slashes' slot='8'/>
                 </fn>
                 <varRef name='Q{}parentCallCount' slot='7'/>
                </vc>
                <compareToInt op='gt' val='0'>
                 <varRef name='Q{}parentCallCount' slot='7'/>
                </compareToInt>
               </and>
               <let line='840' var='Q{http://saxon.sf.net/generated-variable}v0' as='xs:integer' slot='9' eval='16'>
                <arith op='-' calc='i-i'>
                 <varRef name='Q{}parentCallCount' slot='7'/>
                 <int val='1'/>
                </arith>
                <check card='1' diag='3|0|XTTE0570|parentSlash'>
                 <filter flags='p'>
                  <varRef name='Q{}slashes' slot='8'/>
                  <arith op='-' calc='i-i'>
                   <fn name='last'/>
                   <varRef name='Q{http://saxon.sf.net/generated-variable}v0' slot='9'/>
                  </arith>
                 </filter>
                </check>
               </let>
               <true/>
               <check line='843' card='1' diag='3|0|XTTE0570|parentSlash'>
                <lastOf>
                 <varRef name='Q{}slashes' slot='8'/>
                </lastOf>
               </check>
              </choose>
             </fn>
             <fn name='replace'>
              <varRef name='Q{}relative' slot='6'/>
              <str val='\.\./'/>
              <str val=''/>
              <str val=''/>
             </fn>
            </fn>
            <true/>
            <fn line='867' name='concat'>
             <varRef name='Q{}base' slot='5'/>
             <str val='/'/>
             <varRef name='Q{}relative' slot='6'/>
            </fn>
           </choose>
          </let>
         </let>
        </choose>
       </let>
      </let>
      <varRef line='2726' name='Q{}nodeset' slot='1'/>
      <let line='2727' var='Q{}relative' as='xs:string' slot='10' eval='16'>
       <check card='1' diag='0|1||xforms:resolveXPathStrings'>
        <varRef name='Q{}nodeset' slot='1'/>
       </check>
       <choose line='811'>
        <fn name='starts-with'>
         <varRef name='Q{}relative' slot='10'/>
         <str val='/'/>
        </fn>
        <varRef line='812' name='Q{}relative' slot='10'/>
        <fn line='814' name='starts-with'>
         <varRef name='Q{}relative' slot='10'/>
         <str val='instance('/>
        </fn>
        <varRef line='815' name='Q{}relative' slot='10'/>
        <true/>
        <varRef line='818' name='Q{}relative' slot='10'/>
       </choose>
      </let>
      <true/>
      <str val=''/>
     </choose>
    </let>
   </let>
  </function>
 </co>
 <co id='39' binds='39 39'>
  <mode name='Q{}recalculate' onNo='TC' flags='W' patternSlots='0'>
   <templateRule prec='0' prio='-0.5' seq='28' rank='0' minImp='0' slots='5' flags='s' line='2285' module='saxon-xforms.xsl'>
    <p.nodeTest role='match' test='element()' jsTest='return SaxonJS.U.isNode(item) &amp;&amp; item.nodeType===1;'/>
    <sequence role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='2286'>
     <param name='Q{}updated-nodes' slot='0' flags='t' as='node()*'>
      <empty role='select'/>
      <treat role='conversion' as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='8|0|XTTE0590|updated-nodes'>
       <supplied slot='0'/>
      </treat>
     </param>
     <param line='2287' name='Q{}updated-values' slot='1' flags='t' as='xs:string*'>
      <empty role='select'/>
      <treat role='conversion' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='8|0|XTTE0590|updated-values'>
       <cvUntyped to='xs:string' diag='8|0|XTTE0590|updated-values'>
        <data>
         <supplied slot='1'/>
        </data>
       </cvUntyped>
      </treat>
     </param>
     <copy line='2293' flags='cin'>
      <sequence role='content'>
       <applyT mode='Q{}recalculate' bSlot='0'>
        <axis role='select' name='attribute' nodeTest='attribute()' jsTest='return SaxonJS.U.isAttr(item)'/>
       </applyT>
       <choose line='2296'>
        <fn name='exists'>
         <let line='2289' var='Q{http://saxon.sf.net/generated-variable}current-1969428406' as='element()' slot='2' eval='16'>
          <dot type='element()'/>
          <treat as='element()' jsTest='return item.nodeType===1;' diag='3|0|XTTE0570|updated-node'>
           <check card='?' diag='3|0|XTTE0570|updated-node'>
            <filter flags=''>
             <varRef name='Q{}updated-nodes' slot='0'/>
             <is op='is'>
              <dot type='node()'/>
              <varRef name='Q{http://saxon.sf.net/generated-variable}current-1969428406' slot='2'/>
             </is>
            </filter>
           </check>
          </treat>
         </let>
        </fn>
        <let line='2297' var='Q{}updated-node-position' as='xs:integer' slot='3' eval='16'>
         <let var='Q{http://saxon.sf.net/generated-variable}current-822657580' as='element()' slot='4' eval='16'>
          <dot type='element()'/>
          <check card='1' diag='3|0|XTTE0570|updated-node-position'>
           <slash>
            <filter flags=''>
             <varRef name='Q{}updated-nodes' slot='0'/>
             <is op='is'>
              <dot type='node()'/>
              <varRef name='Q{http://saxon.sf.net/generated-variable}current-822657580' slot='4'/>
             </is>
            </filter>
            <fn name='position'/>
           </slash>
          </check>
         </let>
         <subscript line='2298'>
          <varRef name='Q{}updated-values' slot='1'/>
          <varRef name='Q{}updated-node-position' slot='3'/>
         </subscript>
        </let>
        <true/>
        <applyT line='2301' mode='Q{}recalculate' bSlot='1'>
         <axis role='select' name='child' nodeTest='node()' jsTest='return SaxonJS.U.isNode(item);'/>
        </applyT>
       </choose>
      </sequence>
     </copy>
    </sequence>
   </templateRule>
   <templateRule prec='0' prio='-0.5' seq='29' rank='0' minImp='0' slots='5' flags='s' line='2314' module='saxon-xforms.xsl'>
    <p.nodeTest role='match' test='attribute()' jsTest='return SaxonJS.U.isAttr(item)'/>
    <sequence role='action' ns='xforms=http://www.w3.org/2002/xforms in=http://www.w3.org/2002/xforms-instance fn=~ js=~ saxon=~ xd=http://www.oxygenxml.com/ns/doc/xsl xf=http://www.w3.org/2002/xforms xhtml=http://www.w3.org/1999/xhtml xsl=~ ev=http://www.w3.org/2001/xml-events rdf=http://www.w3.org/1999/02/22-rdf-syntax-ns# array=~ sfl=http://saxonica.com/ns/forms-local ixsl=~ xs=~ math=~ sfp=http://saxon.sf.net/ns/packages map=~' line='2315'>
     <param name='Q{}updated-nodes' slot='0' flags='t' as='node()*'>
      <empty role='select'/>
      <treat role='conversion' as='node()' jsTest='return SaxonJS.U.isNode(item);' diag='8|0|XTTE0590|updated-nodes'>
       <supplied slot='0'/>
      </treat>
     </param>
     <param line='2316' name='Q{}updated-values' slot='1' flags='t' as='xs:string*'>
      <empty role='select'/>
      <treat role='conversion' as='xs:string' jsTest='return SaxonJS.U.Atomic.string.matches(item);' diag='8|0|XTTE0590|updated-values'>
       <cvUntyped to='xs:string' diag='8|0|XTTE0590|updated-values'>
        <data>
         <supplied slot='1'/>
        </data>
       </cvUntyped>
      </treat>
     </param>
     <choose line='2321'>
      <fn name='exists'>
       <let line='2318' var='Q{http://saxon.sf.net/generated-variable}current-1969428407' as='attribute()' slot='2' eval='16'>
        <dot type='attribute()'/>
        <treat as='attribute()' jsTest='return SaxonJS.U.isAttr(item)' diag='3|0|XTTE0570|updated-node'>
         <check card='?' diag='3|0|XTTE0570|updated-node'>
          <filter flags=''>
           <varRef name='Q{}updated-nodes' slot='0'/>
           <is op='is'>
            <dot type='node()'/>
            <varRef name='Q{http://saxon.sf.net/generated-variable}current-1969428407' slot='2'/>
           </is>
          </filter>
         </check>
        </treat>
       </let>
      </fn>
      <let line='2322' var='Q{}updated-node-position' as='xs:integer' slot='3' eval='16'>
       <let var='Q{http://saxon.sf.net/generated-variable}current-822657580' as='attribute()' slot='4' eval='16'>
        <dot type='attribute()'/>
        <check card='1' diag='3|0|XTTE0570|updated-node-position'>
         <slash>
          <filter flags=''>
           <varRef name='Q{}updated-nodes' slot='0'/>
           <is op='is'>
            <dot type='node()'/>
            <varRef name='Q{http://saxon.sf.net/generated-variable}current-822657580' slot='4'/>
           </is>
          </filter>
          <fn name='position'/>
         </slash>
        </check>
       </let>
       <compAtt line='2323'>
        <fn role='name' name='name'>
         <dot type='attribute()'/>
        </fn>
        <subscript role='select'>
         <varRef name='Q{}updated-values' slot='1'/>
         <varRef name='Q{}updated-node-position' slot='3'/>
        </subscript>
       </compAtt>
      </let>
      <true/>
      <copyOf line='2326' flags='vc'>
       <dot type='attribute()'/>
      </copyOf>
     </choose>
    </sequence>
   </templateRule>
  </mode>
 </co>
 <co id='110' vis='PRIVATE' binds='70 102' base='17' dpack='1'/>
 <co id='111' vis='HIDDEN' binds='99' base='0' dpack='1'/>
 <co id='112' vis='HIDDEN' binds='97 99 97 108' base='5' dpack='1'/>
 <co id='113' vis='HIDDEN' binds='97 99 97 94' base='8' dpack='1'/>
 <co id='114' vis='HIDDEN' binds='97 99 97 102' base='12' dpack='1'/>
 <co id='70' vis='HIDDEN' binds='102 114 71 115 108 112 94 113 116' base='3' dpack='1'/>
 <co id='115' vis='HIDDEN' binds='97 99 97 71' base='14' dpack='1'/>
 <co id='116' vis='HIDDEN' binds='97 99 97 81' base='15' dpack='1'/>
 <co id='117' vis='HIDDEN' binds='' base='19' dpack='1'/>
 <overridden>
  <co id='111' vis='HIDDEN' binds='99' base='0' dpack='1'/>
 </overridden>
 <output>
  <property name='indent' value='no'/>
  <property name='doctype-system' value='http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'/>
  <property name='encoding' value='utf-8'/>
  <property name='doctype-public' value='-//W3C//DTD XHTML 1.0 Transitional//EN'/>
  <property name='omit-xml-declaration' value='no'/>
  <property name='{http://saxon.sf.net/}stylesheet-version' value='30'/>
  <property name='method' value='html'/>
 </output>
 <decimalFormat/>
</package>
<?Σ 68983749?>
